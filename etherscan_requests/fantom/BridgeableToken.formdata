apikey=MQCJP7SG5CZ9AUGWMIKRFRKWBQRIG2XGJJ&module=contract&action=verifysourcecode&contractaddress=0x8f54304bb3a3ad1497bf7fB696DE04f1e4C86D51&sourceCode=%7B%22language%22%3A%22Solidity%22%2C%22settings%22%3A%7B%22evmVersion%22%3A%22paris%22%2C%22libraries%22%3A%7B%7D%2C%22metadata%22%3A%7B%22bytecodeHash%22%3A%22ipfs%22%2C%22useLiteralContent%22%3Atrue%7D%2C%22optimizer%22%3A%7B%22enabled%22%3Atrue%2C%22runs%22%3A1000%7D%2C%22remappings%22%3A%5B%5D%7D%2C%22sources%22%3A%7B%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foapp%2FOApp.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cn%2F%2F%20%40dev%20Import%20the%20%27MessagingFee%27%20and%20%27MessagingReceipt%27%20so%20it%27s%20exposed%20to%20OApp%20implementers%5Cn%2F%2F%20solhint-disable-next-line%20no-unused-import%5Cnimport%20%7B%20OAppSender%2C%20MessagingFee%2C%20MessagingReceipt%20%7D%20from%20%5C%22.%2FOAppSender.sol%5C%22%3B%5Cn%2F%2F%20%40dev%20Import%20the%20%27Origin%27%20so%20it%27s%20exposed%20to%20OApp%20implementers%5Cn%2F%2F%20solhint-disable-next-line%20no-unused-import%5Cnimport%20%7B%20OAppReceiver%2C%20Origin%20%7D%20from%20%5C%22.%2FOAppReceiver.sol%5C%22%3B%5Cnimport%20%7B%20OAppCore%20%7D%20from%20%5C%22.%2FOAppCore.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20OApp%5Cn%20%2A%20%40dev%20Abstract%20contract%20serving%20as%20the%20base%20for%20OApp%20implementation%2C%20combining%20OAppSender%20and%20OAppReceiver%20functionality.%5Cn%20%2A%2F%5Cnabstract%20contract%20OApp%20is%20OAppSender%2C%20OAppReceiver%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Constructor%20to%20initialize%20the%20OApp%20with%20the%20provided%20endpoint%20and%20owner.%5Cn%20%20%20%20%20%2A%20%40param%20_endpoint%20The%20address%20of%20the%20LOCAL%20LayerZero%20endpoint.%5Cn%20%20%20%20%20%2A%20%40param%20_delegate%20The%20delegate%20capable%20of%20making%20OApp%20configurations%20inside%20of%20the%20endpoint.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20constructor%28address%20_endpoint%2C%20address%20_delegate%29%20OAppCore%28_endpoint%2C%20_delegate%29%20%7B%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20the%20OApp%20version%20information.%5Cn%20%20%20%20%20%2A%20%40return%20senderVersion%20The%20version%20of%20the%20OAppSender.sol%20implementation.%5Cn%20%20%20%20%20%2A%20%40return%20receiverVersion%20The%20version%20of%20the%20OAppReceiver.sol%20implementation.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20oAppVersion%28%29%5Cn%20%20%20%20%20%20%20%20public%5Cn%20%20%20%20%20%20%20%20pure%5Cn%20%20%20%20%20%20%20%20virtual%5Cn%20%20%20%20%20%20%20%20override%28OAppSender%2C%20OAppReceiver%29%5Cn%20%20%20%20%20%20%20%20returns%20%28uint64%20senderVersion%2C%20uint64%20receiverVersion%29%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%28SENDER_VERSION%2C%20RECEIVER_VERSION%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foapp%2FOAppCore.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20Ownable%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Faccess%2FOwnable.sol%5C%22%3B%5Cnimport%20%7B%20IOAppCore%2C%20ILayerZeroEndpointV2%20%7D%20from%20%5C%22.%2Finterfaces%2FIOAppCore.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20OAppCore%5Cn%20%2A%20%40dev%20Abstract%20contract%20implementing%20the%20IOAppCore%20interface%20with%20basic%20OApp%20configurations.%5Cn%20%2A%2F%5Cnabstract%20contract%20OAppCore%20is%20IOAppCore%2C%20Ownable%20%7B%5Cn%20%20%20%20%2F%2F%20The%20LayerZero%20endpoint%20associated%20with%20the%20given%20OApp%5Cn%20%20%20%20ILayerZeroEndpointV2%20public%20immutable%20endpoint%3B%5Cn%5Cn%20%20%20%20%2F%2F%20Mapping%20to%20store%20peers%20associated%20with%20corresponding%20endpoints%5Cn%20%20%20%20mapping%28uint32%20eid%20%3D%3E%20bytes32%20peer%29%20public%20peers%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Constructor%20to%20initialize%20the%20OAppCore%20with%20the%20provided%20endpoint%20and%20delegate.%5Cn%20%20%20%20%20%2A%20%40param%20_endpoint%20The%20address%20of%20the%20LOCAL%20Layer%20Zero%20endpoint.%5Cn%20%20%20%20%20%2A%20%40param%20_delegate%20The%20delegate%20capable%20of%20making%20OApp%20configurations%20inside%20of%20the%20endpoint.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20The%20delegate%20typically%20should%20be%20set%20as%20the%20owner%20of%20the%20contract.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20constructor%28address%20_endpoint%2C%20address%20_delegate%29%20%7B%5Cn%20%20%20%20%20%20%20%20endpoint%20%3D%20ILayerZeroEndpointV2%28_endpoint%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20%28_delegate%20%3D%3D%20address%280%29%29%20revert%20InvalidDelegate%28%29%3B%5Cn%20%20%20%20%20%20%20%20endpoint.setDelegate%28_delegate%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Sets%20the%20peer%20address%20%28OApp%20instance%29%20for%20a%20corresponding%20endpoint.%5Cn%20%20%20%20%20%2A%20%40param%20_eid%20The%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40param%20_peer%20The%20address%20of%20the%20peer%20to%20be%20associated%20with%20the%20corresponding%20endpoint.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Only%20the%20owner%2Fadmin%20of%20the%20OApp%20can%20call%20this%20function.%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20that%20the%20peer%20is%20trusted%20to%20send%20LayerZero%20messages%20to%20this%20OApp.%5Cn%20%20%20%20%20%2A%20%40dev%20Set%20this%20to%20bytes32%280%29%20to%20remove%20the%20peer%20address.%5Cn%20%20%20%20%20%2A%20%40dev%20Peer%20is%20a%20bytes32%20to%20accommodate%20non-evm%20chains.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20setPeer%28uint32%20_eid%2C%20bytes32%20_peer%29%20public%20virtual%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_setPeer%28_eid%2C%20_peer%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Sets%20the%20peer%20address%20%28OApp%20instance%29%20for%20a%20corresponding%20endpoint.%5Cn%20%20%20%20%20%2A%20%40param%20_eid%20The%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40param%20_peer%20The%20address%20of%20the%20peer%20to%20be%20associated%20with%20the%20corresponding%20endpoint.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20that%20the%20peer%20is%20trusted%20to%20send%20LayerZero%20messages%20to%20this%20OApp.%5Cn%20%20%20%20%20%2A%20%40dev%20Set%20this%20to%20bytes32%280%29%20to%20remove%20the%20peer%20address.%5Cn%20%20%20%20%20%2A%20%40dev%20Peer%20is%20a%20bytes32%20to%20accommodate%20non-evm%20chains.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_setPeer%28uint32%20_eid%2C%20bytes32%20_peer%29%20internal%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20peers%5B_eid%5D%20%3D%20_peer%3B%5Cn%20%20%20%20%20%20%20%20emit%20PeerSet%28_eid%2C%20_peer%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Internal%20function%20to%20get%20the%20peer%20address%20associated%20with%20a%20specific%20endpoint%3B%20reverts%20if%20NOT%20set.%5Cn%20%20%20%20%20%2A%20ie.%20the%20peer%20is%20set%20to%20bytes32%280%29.%5Cn%20%20%20%20%20%2A%20%40param%20_eid%20The%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40return%20peer%20The%20address%20of%20the%20peer%20associated%20with%20the%20specified%20endpoint.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_getPeerOrRevert%28uint32%20_eid%29%20internal%20view%20virtual%20returns%20%28bytes32%29%20%7B%5Cn%20%20%20%20%20%20%20%20bytes32%20peer%20%3D%20peers%5B_eid%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20%28peer%20%3D%3D%20bytes32%280%29%29%20revert%20NoPeer%28_eid%29%3B%5Cn%20%20%20%20%20%20%20%20return%20peer%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Sets%20the%20delegate%20address%20for%20the%20OApp.%5Cn%20%20%20%20%20%2A%20%40param%20_delegate%20The%20address%20of%20the%20delegate%20to%20be%20set.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Only%20the%20owner%2Fadmin%20of%20the%20OApp%20can%20call%20this%20function.%5Cn%20%20%20%20%20%2A%20%40dev%20Provides%20the%20ability%20for%20a%20delegate%20to%20set%20configs%2C%20on%20behalf%20of%20the%20OApp%2C%20directly%20on%20the%20Endpoint%20contract.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20setDelegate%28address%20_delegate%29%20public%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20endpoint.setDelegate%28_delegate%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foapp%2FOAppReceiver.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20IOAppReceiver%2C%20Origin%20%7D%20from%20%5C%22.%2Finterfaces%2FIOAppReceiver.sol%5C%22%3B%5Cnimport%20%7B%20OAppCore%20%7D%20from%20%5C%22.%2FOAppCore.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20OAppReceiver%5Cn%20%2A%20%40dev%20Abstract%20contract%20implementing%20the%20ILayerZeroReceiver%20interface%20and%20extending%20OAppCore%20for%20OApp%20receivers.%5Cn%20%2A%2F%5Cnabstract%20contract%20OAppReceiver%20is%20IOAppReceiver%2C%20OAppCore%20%7B%5Cn%20%20%20%20%2F%2F%20Custom%20error%20message%20for%20when%20the%20caller%20is%20not%20the%20registered%20endpoint%2F%5Cn%20%20%20%20error%20OnlyEndpoint%28address%20addr%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%20%40dev%20The%20version%20of%20the%20OAppReceiver%20implementation.%5Cn%20%20%20%20%2F%2F%20%40dev%20Version%20is%20bumped%20when%20changes%20are%20made%20to%20this%20contract.%5Cn%20%20%20%20uint64%20internal%20constant%20RECEIVER_VERSION%20%3D%202%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20the%20OApp%20version%20information.%5Cn%20%20%20%20%20%2A%20%40return%20senderVersion%20The%20version%20of%20the%20OAppSender.sol%20contract.%5Cn%20%20%20%20%20%2A%20%40return%20receiverVersion%20The%20version%20of%20the%20OAppReceiver.sol%20contract.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Providing%200%20as%20the%20default%20for%20OAppSender%20version.%20Indicates%20that%20the%20OAppSender%20is%20not%20implemented.%5Cn%20%20%20%20%20%2A%20ie.%20this%20is%20a%20RECEIVE%20only%20OApp.%5Cn%20%20%20%20%20%2A%20%40dev%20If%20the%20OApp%20uses%20both%20OAppSender%20and%20OAppReceiver%2C%20then%20this%20needs%20to%20be%20override%20returning%20the%20correct%20versions.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20oAppVersion%28%29%20public%20view%20virtual%20returns%20%28uint64%20senderVersion%2C%20uint64%20receiverVersion%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%280%2C%20RECEIVER_VERSION%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Indicates%20whether%20an%20address%20is%20an%20approved%20composeMsg%20sender%20to%20the%20Endpoint.%5Cn%20%20%20%20%20%2A%20%40dev%20_origin%20The%20origin%20information%20containing%20the%20source%20endpoint%20and%20sender%20address.%5Cn%20%20%20%20%20%2A%20%20-%20srcEid%3A%20The%20source%20chain%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%20-%20sender%3A%20The%20sender%20address%20on%20the%20src%20chain.%5Cn%20%20%20%20%20%2A%20%20-%20nonce%3A%20The%20nonce%20of%20the%20message.%5Cn%20%20%20%20%20%2A%20%40dev%20_message%20The%20lzReceive%20payload.%5Cn%20%20%20%20%20%2A%20%40param%20_sender%20The%20sender%20address.%5Cn%20%20%20%20%20%2A%20%40return%20isSender%20Is%20a%20valid%20sender.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Applications%20can%20optionally%20choose%20to%20implement%20separate%20composeMsg%20senders%20that%20are%20NOT%20the%20bridging%20layer.%5Cn%20%20%20%20%20%2A%20%40dev%20The%20default%20sender%20IS%20the%20OAppReceiver%20implementer.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20isComposeMsgSender%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20%2F%2A_origin%2A%2F%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20%2F%2A_message%2A%2F%2C%5Cn%20%20%20%20%20%20%20%20address%20_sender%5Cn%20%20%20%20%29%20public%20view%20virtual%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_sender%20%3D%3D%20address%28this%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Checks%20if%20the%20path%20initialization%20is%20allowed%20based%20on%20the%20provided%20origin.%5Cn%20%20%20%20%20%2A%20%40param%20origin%20The%20origin%20information%20containing%20the%20source%20endpoint%20and%20sender%20address.%5Cn%20%20%20%20%20%2A%20%40return%20Whether%20the%20path%20has%20been%20initialized.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20This%20indicates%20to%20the%20endpoint%20that%20the%20OApp%20has%20enabled%20msgs%20for%20this%20particular%20path%20to%20be%20received.%5Cn%20%20%20%20%20%2A%20%40dev%20This%20defaults%20to%20assuming%20if%20a%20peer%20has%20been%20set%2C%20its%20initialized.%5Cn%20%20%20%20%20%2A%20Can%20be%20overridden%20by%20the%20OApp%20if%20there%20is%20other%20logic%20to%20determine%20this.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20allowInitializePath%28Origin%20calldata%20origin%29%20public%20view%20virtual%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20peers%5Borigin.srcEid%5D%20%3D%3D%20origin.sender%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20the%20next%20nonce%20for%20a%20given%20source%20endpoint%20and%20sender%20address.%5Cn%20%20%20%20%20%2A%20%40dev%20_srcEid%20The%20source%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40dev%20_sender%20The%20sender%20address.%5Cn%20%20%20%20%20%2A%20%40return%20nonce%20The%20next%20nonce.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20The%20path%20nonce%20starts%20from%201.%20If%200%20is%20returned%20it%20means%20that%20there%20is%20NO%20nonce%20ordered%20enforcement.%5Cn%20%20%20%20%20%2A%20%40dev%20Is%20required%20by%20the%20off-chain%20executor%20to%20determine%20the%20OApp%20expects%20msg%20execution%20is%20ordered.%5Cn%20%20%20%20%20%2A%20%40dev%20This%20is%20also%20enforced%20by%20the%20OApp.%5Cn%20%20%20%20%20%2A%20%40dev%20By%20default%20this%20is%20NOT%20enabled.%20ie.%20nextNonce%20is%20hardcoded%20to%20return%200.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20nextNonce%28uint32%20%2F%2A_srcEid%2A%2F%2C%20bytes32%20%2F%2A_sender%2A%2F%29%20public%20view%20virtual%20returns%20%28uint64%20nonce%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%200%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Entry%20point%20for%20receiving%20messages%20or%20packets%20from%20the%20endpoint.%5Cn%20%20%20%20%20%2A%20%40param%20_origin%20The%20origin%20information%20containing%20the%20source%20endpoint%20and%20sender%20address.%5Cn%20%20%20%20%20%2A%20%20-%20srcEid%3A%20The%20source%20chain%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%20-%20sender%3A%20The%20sender%20address%20on%20the%20src%20chain.%5Cn%20%20%20%20%20%2A%20%20-%20nonce%3A%20The%20nonce%20of%20the%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_guid%20The%20unique%20identifier%20for%20the%20received%20LayerZero%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_message%20The%20payload%20of%20the%20received%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_executor%20The%20address%20of%20the%20executor%20for%20the%20received%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_extraData%20Additional%20arbitrary%20data%20provided%20by%20the%20corresponding%20executor.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Entry%20point%20for%20receiving%20msg%2Fpacket%20from%20the%20LayerZero%20endpoint.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20lzReceive%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20_origin%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20address%20_executor%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_extraData%5Cn%20%20%20%20%29%20public%20payable%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Ensures%20that%20only%20the%20endpoint%20can%20attempt%20to%20lzReceive%28%29%20messages%20to%20this%20OApp.%5Cn%20%20%20%20%20%20%20%20if%20%28address%28endpoint%29%20%21%3D%20msg.sender%29%20revert%20OnlyEndpoint%28msg.sender%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Ensure%20that%20the%20sender%20matches%20the%20expected%20peer%20for%20the%20source%20endpoint.%5Cn%20%20%20%20%20%20%20%20if%20%28_getPeerOrRevert%28_origin.srcEid%29%20%21%3D%20_origin.sender%29%20revert%20OnlyPeer%28_origin.srcEid%2C%20_origin.sender%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Call%20the%20internal%20OApp%20implementation%20of%20lzReceive.%5Cn%20%20%20%20%20%20%20%20_lzReceive%28_origin%2C%20_guid%2C%20_message%2C%20_executor%2C%20_extraData%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20implement%20lzReceive%20logic%20without%20needing%20to%20copy%20the%20basic%20parameter%20validation.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_lzReceive%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20_origin%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20address%20_executor%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_extraData%5Cn%20%20%20%20%29%20internal%20virtual%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foapp%2FOAppSender.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20SafeERC20%2C%20IERC20%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Ftoken%2FERC20%2Futils%2FSafeERC20.sol%5C%22%3B%5Cnimport%20%7B%20MessagingParams%2C%20MessagingFee%2C%20MessagingReceipt%20%7D%20from%20%5C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FILayerZeroEndpointV2.sol%5C%22%3B%5Cnimport%20%7B%20OAppCore%20%7D%20from%20%5C%22.%2FOAppCore.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20OAppSender%5Cn%20%2A%20%40dev%20Abstract%20contract%20implementing%20the%20OAppSender%20functionality%20for%20sending%20messages%20to%20a%20LayerZero%20endpoint.%5Cn%20%2A%2F%5Cnabstract%20contract%20OAppSender%20is%20OAppCore%20%7B%5Cn%20%20%20%20using%20SafeERC20%20for%20IERC20%3B%5Cn%5Cn%20%20%20%20%2F%2F%20Custom%20error%20messages%5Cn%20%20%20%20error%20NotEnoughNative%28uint256%20msgValue%29%3B%5Cn%20%20%20%20error%20LzTokenUnavailable%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%20%40dev%20The%20version%20of%20the%20OAppSender%20implementation.%5Cn%20%20%20%20%2F%2F%20%40dev%20Version%20is%20bumped%20when%20changes%20are%20made%20to%20this%20contract.%5Cn%20%20%20%20uint64%20internal%20constant%20SENDER_VERSION%20%3D%201%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20the%20OApp%20version%20information.%5Cn%20%20%20%20%20%2A%20%40return%20senderVersion%20The%20version%20of%20the%20OAppSender.sol%20contract.%5Cn%20%20%20%20%20%2A%20%40return%20receiverVersion%20The%20version%20of%20the%20OAppReceiver.sol%20contract.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Providing%200%20as%20the%20default%20for%20OAppReceiver%20version.%20Indicates%20that%20the%20OAppReceiver%20is%20not%20implemented.%5Cn%20%20%20%20%20%2A%20ie.%20this%20is%20a%20SEND%20only%20OApp.%5Cn%20%20%20%20%20%2A%20%40dev%20If%20the%20OApp%20uses%20both%20OAppSender%20and%20OAppReceiver%2C%20then%20this%20needs%20to%20be%20override%20returning%20the%20correct%20versions%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20oAppVersion%28%29%20public%20view%20virtual%20returns%20%28uint64%20senderVersion%2C%20uint64%20receiverVersion%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%28SENDER_VERSION%2C%200%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20interact%20with%20the%20LayerZero%20EndpointV2.quote%28%29%20for%20fee%20calculation.%5Cn%20%20%20%20%20%2A%20%40param%20_dstEid%20The%20destination%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40param%20_message%20The%20message%20payload.%5Cn%20%20%20%20%20%2A%20%40param%20_options%20Additional%20options%20for%20the%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_payInLzToken%20Flag%20indicating%20whether%20to%20pay%20the%20fee%20in%20LZ%20tokens.%5Cn%20%20%20%20%20%2A%20%40return%20fee%20The%20calculated%20MessagingFee%20for%20the%20message.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20nativeFee%3A%20The%20native%20fee%20for%20the%20message.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20lzTokenFee%3A%20The%20LZ%20token%20fee%20for%20the%20message.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_quote%28%5Cn%20%20%20%20%20%20%20%20uint32%20_dstEid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20memory%20_message%2C%5Cn%20%20%20%20%20%20%20%20bytes%20memory%20_options%2C%5Cn%20%20%20%20%20%20%20%20bool%20_payInLzToken%5Cn%20%20%20%20%29%20internal%20view%20virtual%20returns%20%28MessagingFee%20memory%20fee%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%5Cn%20%20%20%20%20%20%20%20%20%20%20%20endpoint.quote%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20MessagingParams%28_dstEid%2C%20_getPeerOrRevert%28_dstEid%29%2C%20_message%2C%20_options%2C%20_payInLzToken%29%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20address%28this%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20interact%20with%20the%20LayerZero%20EndpointV2.send%28%29%20for%20sending%20a%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_dstEid%20The%20destination%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40param%20_message%20The%20message%20payload.%5Cn%20%20%20%20%20%2A%20%40param%20_options%20Additional%20options%20for%20the%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_fee%20The%20calculated%20LayerZero%20fee%20for%20the%20message.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20nativeFee%3A%20The%20native%20fee.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20lzTokenFee%3A%20The%20lzToken%20fee.%5Cn%20%20%20%20%20%2A%20%40param%20_refundAddress%20The%20address%20to%20receive%20any%20excess%20fee%20values%20sent%20to%20the%20endpoint.%5Cn%20%20%20%20%20%2A%20%40return%20receipt%20The%20receipt%20for%20the%20sent%20message.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20guid%3A%20The%20unique%20identifier%20for%20the%20sent%20message.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20nonce%3A%20The%20nonce%20of%20the%20sent%20message.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20fee%3A%20The%20LayerZero%20fee%20incurred%20for%20the%20message.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_lzSend%28%5Cn%20%20%20%20%20%20%20%20uint32%20_dstEid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20memory%20_message%2C%5Cn%20%20%20%20%20%20%20%20bytes%20memory%20_options%2C%5Cn%20%20%20%20%20%20%20%20MessagingFee%20memory%20_fee%2C%5Cn%20%20%20%20%20%20%20%20address%20_refundAddress%5Cn%20%20%20%20%29%20internal%20virtual%20returns%20%28MessagingReceipt%20memory%20receipt%29%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Push%20corresponding%20fees%20to%20the%20endpoint%2C%20any%20excess%20is%20sent%20back%20to%20the%20_refundAddress%20from%20the%20endpoint.%5Cn%20%20%20%20%20%20%20%20uint256%20messageValue%20%3D%20_payNative%28_fee.nativeFee%29%3B%5Cn%20%20%20%20%20%20%20%20if%20%28_fee.lzTokenFee%20%3E%200%29%20_payLzToken%28_fee.lzTokenFee%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20return%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20solhint-disable-next-line%20check-send-result%5Cn%20%20%20%20%20%20%20%20%20%20%20%20endpoint.send%7B%20value%3A%20messageValue%20%7D%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20MessagingParams%28_dstEid%2C%20_getPeerOrRevert%28_dstEid%29%2C%20_message%2C%20_options%2C%20_fee.lzTokenFee%20%3E%200%29%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_refundAddress%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20pay%20the%20native%20fee%20associated%20with%20the%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_nativeFee%20The%20native%20fee%20to%20be%20paid.%5Cn%20%20%20%20%20%2A%20%40return%20nativeFee%20The%20amount%20of%20native%20currency%20paid.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20If%20the%20OApp%20needs%20to%20initiate%20MULTIPLE%20LayerZero%20messages%20in%20a%20single%20transaction%2C%5Cn%20%20%20%20%20%2A%20this%20will%20need%20to%20be%20overridden%20because%20msg.value%20would%20contain%20multiple%20lzFees.%5Cn%20%20%20%20%20%2A%20%40dev%20Should%20be%20overridden%20in%20the%20event%20the%20LayerZero%20endpoint%20requires%20a%20different%20native%20currency.%5Cn%20%20%20%20%20%2A%20%40dev%20Some%20EVMs%20use%20an%20ERC20%20as%20a%20method%20for%20paying%20transactions%2FgasFees.%5Cn%20%20%20%20%20%2A%20%40dev%20The%20endpoint%20is%20EITHER%2FOR%2C%20ie.%20it%20will%20NOT%20support%20both%20types%20of%20native%20payment%20at%20a%20time.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_payNative%28uint256%20_nativeFee%29%20internal%20virtual%20returns%20%28uint256%20nativeFee%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28msg.value%20%21%3D%20_nativeFee%29%20revert%20NotEnoughNative%28msg.value%29%3B%5Cn%20%20%20%20%20%20%20%20return%20_nativeFee%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20pay%20the%20LZ%20token%20fee%20associated%20with%20the%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_lzTokenFee%20The%20LZ%20token%20fee%20to%20be%20paid.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20If%20the%20caller%20is%20trying%20to%20pay%20in%20the%20specified%20lzToken%2C%20then%20the%20lzTokenFee%20is%20passed%20to%20the%20endpoint.%5Cn%20%20%20%20%20%2A%20%40dev%20Any%20excess%20sent%2C%20is%20passed%20back%20to%20the%20specified%20_refundAddress%20in%20the%20_lzSend%28%29.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_payLzToken%28uint256%20_lzTokenFee%29%20internal%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Cannot%20cache%20the%20token%20because%20it%20is%20not%20immutable%20in%20the%20endpoint.%5Cn%20%20%20%20%20%20%20%20address%20lzToken%20%3D%20endpoint.lzToken%28%29%3B%5Cn%20%20%20%20%20%20%20%20if%20%28lzToken%20%3D%3D%20address%280%29%29%20revert%20LzTokenUnavailable%28%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Pay%20LZ%20token%20fee%20by%20sending%20tokens%20to%20the%20endpoint.%5Cn%20%20%20%20%20%20%20%20IERC20%28lzToken%29.safeTransferFrom%28msg.sender%2C%20address%28endpoint%29%2C%20_lzTokenFee%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foapp%2Finterfaces%2FIOAppCore.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20ILayerZeroEndpointV2%20%7D%20from%20%5C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FILayerZeroEndpointV2.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20IOAppCore%5Cn%20%2A%2F%5Cninterface%20IOAppCore%20%7B%5Cn%20%20%20%20%2F%2F%20Custom%20error%20messages%5Cn%20%20%20%20error%20OnlyPeer%28uint32%20eid%2C%20bytes32%20sender%29%3B%5Cn%20%20%20%20error%20NoPeer%28uint32%20eid%29%3B%5Cn%20%20%20%20error%20InvalidEndpointCall%28%29%3B%5Cn%20%20%20%20error%20InvalidDelegate%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%20Event%20emitted%20when%20a%20peer%20%28OApp%29%20is%20set%20for%20a%20corresponding%20endpoint%5Cn%20%20%20%20event%20PeerSet%28uint32%20eid%2C%20bytes32%20peer%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20the%20OApp%20version%20information.%5Cn%20%20%20%20%20%2A%20%40return%20senderVersion%20The%20version%20of%20the%20OAppSender.sol%20contract.%5Cn%20%20%20%20%20%2A%20%40return%20receiverVersion%20The%20version%20of%20the%20OAppReceiver.sol%20contract.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20oAppVersion%28%29%20external%20view%20returns%20%28uint64%20senderVersion%2C%20uint64%20receiverVersion%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20the%20LayerZero%20endpoint%20associated%20with%20the%20OApp.%5Cn%20%20%20%20%20%2A%20%40return%20iEndpoint%20The%20LayerZero%20endpoint%20as%20an%20interface.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20endpoint%28%29%20external%20view%20returns%20%28ILayerZeroEndpointV2%20iEndpoint%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20the%20peer%20%28OApp%29%20associated%20with%20a%20corresponding%20endpoint.%5Cn%20%20%20%20%20%2A%20%40param%20_eid%20The%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40return%20peer%20The%20peer%20address%20%28OApp%20instance%29%20associated%20with%20the%20corresponding%20endpoint.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20peers%28uint32%20_eid%29%20external%20view%20returns%20%28bytes32%20peer%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Sets%20the%20peer%20address%20%28OApp%20instance%29%20for%20a%20corresponding%20endpoint.%5Cn%20%20%20%20%20%2A%20%40param%20_eid%20The%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40param%20_peer%20The%20address%20of%20the%20peer%20to%20be%20associated%20with%20the%20corresponding%20endpoint.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20setPeer%28uint32%20_eid%2C%20bytes32%20_peer%29%20external%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Sets%20the%20delegate%20address%20for%20the%20OApp%20Core.%5Cn%20%20%20%20%20%2A%20%40param%20_delegate%20The%20address%20of%20the%20delegate%20to%20be%20set.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20setDelegate%28address%20_delegate%29%20external%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foapp%2Finterfaces%2FIOAppMsgInspector.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20IOAppMsgInspector%5Cn%20%2A%20%40dev%20Interface%20for%20the%20OApp%20Message%20Inspector%2C%20allowing%20examination%20of%20message%20and%20options%20contents.%5Cn%20%2A%2F%5Cninterface%20IOAppMsgInspector%20%7B%5Cn%20%20%20%20%2F%2F%20Custom%20error%20message%20for%20inspection%20failure%5Cn%20%20%20%20error%20InspectionFailed%28bytes%20message%2C%20bytes%20options%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Allows%20the%20inspector%20to%20examine%20LayerZero%20message%20contents%20and%20optionally%20throw%20a%20revert%20if%20invalid.%5Cn%20%20%20%20%20%2A%20%40param%20_message%20The%20message%20payload%20to%20be%20inspected.%5Cn%20%20%20%20%20%2A%20%40param%20_options%20Additional%20options%20or%20parameters%20for%20inspection.%5Cn%20%20%20%20%20%2A%20%40return%20valid%20A%20boolean%20indicating%20whether%20the%20inspection%20passed%20%28true%29%20or%20failed%20%28false%29.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Optionally%20done%20as%20a%20revert%2C%20OR%20use%20the%20boolean%20provided%20to%20handle%20the%20failure.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20inspect%28bytes%20calldata%20_message%2C%20bytes%20calldata%20_options%29%20external%20view%20returns%20%28bool%20valid%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foapp%2Finterfaces%2FIOAppOptionsType3.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Struct%20representing%20enforced%20option%20parameters.%5Cn%20%2A%2F%5Cnstruct%20EnforcedOptionParam%20%7B%5Cn%20%20%20%20uint32%20eid%3B%20%2F%2F%20Endpoint%20ID%5Cn%20%20%20%20uint16%20msgType%3B%20%2F%2F%20Message%20Type%5Cn%20%20%20%20bytes%20options%3B%20%2F%2F%20Additional%20options%5Cn%7D%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20IOAppOptionsType3%5Cn%20%2A%20%40dev%20Interface%20for%20the%20OApp%20with%20Type%203%20Options%2C%20allowing%20the%20setting%20and%20combining%20of%20enforced%20options.%5Cn%20%2A%2F%5Cninterface%20IOAppOptionsType3%20%7B%5Cn%20%20%20%20%2F%2F%20Custom%20error%20message%20for%20invalid%20options%5Cn%20%20%20%20error%20InvalidOptions%28bytes%20options%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%20Event%20emitted%20when%20enforced%20options%20are%20set%5Cn%20%20%20%20event%20EnforcedOptionSet%28EnforcedOptionParam%5B%5D%20_enforcedOptions%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Sets%20enforced%20options%20for%20specific%20endpoint%20and%20message%20type%20combinations.%5Cn%20%20%20%20%20%2A%20%40param%20_enforcedOptions%20An%20array%20of%20EnforcedOptionParam%20structures%20specifying%20enforced%20options.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20setEnforcedOptions%28EnforcedOptionParam%5B%5D%20calldata%20_enforcedOptions%29%20external%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Combines%20options%20for%20a%20given%20endpoint%20and%20message%20type.%5Cn%20%20%20%20%20%2A%20%40param%20_eid%20The%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40param%20_msgType%20The%20OApp%20message%20type.%5Cn%20%20%20%20%20%2A%20%40param%20_extraOptions%20Additional%20options%20passed%20by%20the%20caller.%5Cn%20%20%20%20%20%2A%20%40return%20options%20The%20combination%20of%20caller%20specified%20options%20AND%20enforced%20options.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20combineOptions%28%5Cn%20%20%20%20%20%20%20%20uint32%20_eid%2C%5Cn%20%20%20%20%20%20%20%20uint16%20_msgType%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_extraOptions%5Cn%20%20%20%20%29%20external%20view%20returns%20%28bytes%20memory%20options%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foapp%2Finterfaces%2FIOAppReceiver.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20ILayerZeroReceiver%2C%20Origin%20%7D%20from%20%5C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FILayerZeroReceiver.sol%5C%22%3B%5Cn%5Cninterface%20IOAppReceiver%20is%20ILayerZeroReceiver%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Indicates%20whether%20an%20address%20is%20an%20approved%20composeMsg%20sender%20to%20the%20Endpoint.%5Cn%20%20%20%20%20%2A%20%40param%20_origin%20The%20origin%20information%20containing%20the%20source%20endpoint%20and%20sender%20address.%5Cn%20%20%20%20%20%2A%20%20-%20srcEid%3A%20The%20source%20chain%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%20-%20sender%3A%20The%20sender%20address%20on%20the%20src%20chain.%5Cn%20%20%20%20%20%2A%20%20-%20nonce%3A%20The%20nonce%20of%20the%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_message%20The%20lzReceive%20payload.%5Cn%20%20%20%20%20%2A%20%40param%20_sender%20The%20sender%20address.%5Cn%20%20%20%20%20%2A%20%40return%20isSender%20Is%20a%20valid%20sender.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Applications%20can%20optionally%20choose%20to%20implement%20a%20separate%20composeMsg%20sender%20that%20is%20NOT%20the%20bridging%20layer.%5Cn%20%20%20%20%20%2A%20%40dev%20The%20default%20sender%20IS%20the%20OAppReceiver%20implementer.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20isComposeMsgSender%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20_origin%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20address%20_sender%5Cn%20%20%20%20%29%20external%20view%20returns%20%28bool%20isSender%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foapp%2Flibs%2FOAppOptionsType3.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20Ownable%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Faccess%2FOwnable.sol%5C%22%3B%5Cnimport%20%7B%20IOAppOptionsType3%2C%20EnforcedOptionParam%20%7D%20from%20%5C%22..%2Finterfaces%2FIOAppOptionsType3.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20OAppOptionsType3%5Cn%20%2A%20%40dev%20Abstract%20contract%20implementing%20the%20IOAppOptionsType3%20interface%20with%20type%203%20options.%5Cn%20%2A%2F%5Cnabstract%20contract%20OAppOptionsType3%20is%20IOAppOptionsType3%2C%20Ownable%20%7B%5Cn%20%20%20%20uint16%20internal%20constant%20OPTION_TYPE_3%20%3D%203%3B%5Cn%5Cn%20%20%20%20%2F%2F%20%40dev%20The%20%5C%22msgType%5C%22%20should%20be%20defined%20in%20the%20child%20contract.%5Cn%20%20%20%20mapping%28uint32%20eid%20%3D%3E%20mapping%28uint16%20msgType%20%3D%3E%20bytes%20enforcedOption%29%29%20public%20enforcedOptions%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20the%20enforced%20options%20for%20specific%20endpoint%20and%20message%20type%20combinations.%5Cn%20%20%20%20%20%2A%20%40param%20_enforcedOptions%20An%20array%20of%20EnforcedOptionParam%20structures%20specifying%20enforced%20options.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Only%20the%20owner%2Fadmin%20of%20the%20OApp%20can%20call%20this%20function.%5Cn%20%20%20%20%20%2A%20%40dev%20Provides%20a%20way%20for%20the%20OApp%20to%20enforce%20things%20like%20paying%20for%20PreCrime%2C%20AND%2FOR%20minimum%20dst%20lzReceive%20gas%20amounts%20etc.%5Cn%20%20%20%20%20%2A%20%40dev%20These%20enforced%20options%20can%20vary%20as%20the%20potential%20options%2Fexecution%20on%20the%20remote%20may%20differ%20as%20per%20the%20msgType.%5Cn%20%20%20%20%20%2A%20eg.%20Amount%20of%20lzReceive%28%29%20gas%20necessary%20to%20deliver%20a%20lzCompose%28%29%20message%20adds%20overhead%20you%20dont%20want%20to%20pay%5Cn%20%20%20%20%20%2A%20if%20you%20are%20only%20making%20a%20standard%20LayerZero%20message%20ie.%20lzReceive%28%29%20WITHOUT%20sendCompose%28%29.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20setEnforcedOptions%28EnforcedOptionParam%5B%5D%20calldata%20_enforcedOptions%29%20public%20virtual%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_setEnforcedOptions%28_enforcedOptions%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20the%20enforced%20options%20for%20specific%20endpoint%20and%20message%20type%20combinations.%5Cn%20%20%20%20%20%2A%20%40param%20_enforcedOptions%20An%20array%20of%20EnforcedOptionParam%20structures%20specifying%20enforced%20options.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Provides%20a%20way%20for%20the%20OApp%20to%20enforce%20things%20like%20paying%20for%20PreCrime%2C%20AND%2FOR%20minimum%20dst%20lzReceive%20gas%20amounts%20etc.%5Cn%20%20%20%20%20%2A%20%40dev%20These%20enforced%20options%20can%20vary%20as%20the%20potential%20options%2Fexecution%20on%20the%20remote%20may%20differ%20as%20per%20the%20msgType.%5Cn%20%20%20%20%20%2A%20eg.%20Amount%20of%20lzReceive%28%29%20gas%20necessary%20to%20deliver%20a%20lzCompose%28%29%20message%20adds%20overhead%20you%20dont%20want%20to%20pay%5Cn%20%20%20%20%20%2A%20if%20you%20are%20only%20making%20a%20standard%20LayerZero%20message%20ie.%20lzReceive%28%29%20WITHOUT%20sendCompose%28%29.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_setEnforcedOptions%28EnforcedOptionParam%5B%5D%20memory%20_enforcedOptions%29%20internal%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20for%20%28uint256%20i%20%3D%200%3B%20i%20%3C%20_enforcedOptions.length%3B%20i%2B%2B%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Enforced%20options%20are%20only%20available%20for%20optionType%203%2C%20as%20type%201%20and%202%20dont%20support%20combining.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_assertOptionsType3%28_enforcedOptions%5Bi%5D.options%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20enforcedOptions%5B_enforcedOptions%5Bi%5D.eid%5D%5B_enforcedOptions%5Bi%5D.msgType%5D%20%3D%20_enforcedOptions%5Bi%5D.options%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20emit%20EnforcedOptionSet%28_enforcedOptions%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Combines%20options%20for%20a%20given%20endpoint%20and%20message%20type.%5Cn%20%20%20%20%20%2A%20%40param%20_eid%20The%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40param%20_msgType%20The%20OAPP%20message%20type.%5Cn%20%20%20%20%20%2A%20%40param%20_extraOptions%20Additional%20options%20passed%20by%20the%20caller.%5Cn%20%20%20%20%20%2A%20%40return%20options%20The%20combination%20of%20caller%20specified%20options%20AND%20enforced%20options.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20If%20there%20is%20an%20enforced%20lzReceive%20option%3A%5Cn%20%20%20%20%20%2A%20-%20%7BgasLimit%3A%20200k%2C%20msg.value%3A%201%20ether%7D%20AND%20a%20caller%20supplies%20a%20lzReceive%20option%3A%20%7BgasLimit%3A%20100k%2C%20msg.value%3A%200.5%20ether%7D%5Cn%20%20%20%20%20%2A%20-%20The%20resulting%20options%20will%20be%20%7BgasLimit%3A%20300k%2C%20msg.value%3A%201.5%20ether%7D%20when%20the%20message%20is%20executed%20on%20the%20remote%20lzReceive%28%29%20function.%5Cn%20%20%20%20%20%2A%20%40dev%20This%20presence%20of%20duplicated%20options%20is%20handled%20off-chain%20in%20the%20verifier%2Fexecutor.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20combineOptions%28%5Cn%20%20%20%20%20%20%20%20uint32%20_eid%2C%5Cn%20%20%20%20%20%20%20%20uint16%20_msgType%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_extraOptions%5Cn%20%20%20%20%29%20public%20view%20virtual%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20bytes%20memory%20enforced%20%3D%20enforcedOptions%5B_eid%5D%5B_msgType%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20No%20enforced%20options%2C%20pass%20whatever%20the%20caller%20supplied%2C%20even%20if%20it%27s%20empty%20or%20legacy%20type%201%2F2%20options.%5Cn%20%20%20%20%20%20%20%20if%20%28enforced.length%20%3D%3D%200%29%20return%20_extraOptions%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20No%20caller%20options%2C%20return%20enforced%5Cn%20%20%20%20%20%20%20%20if%20%28_extraOptions.length%20%3D%3D%200%29%20return%20enforced%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20If%20caller%20provided%20_extraOptions%2C%20must%20be%20type%203%20as%20its%20the%20ONLY%20type%20that%20can%20be%20combined.%5Cn%20%20%20%20%20%20%20%20if%20%28_extraOptions.length%20%3E%3D%202%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_assertOptionsType3%28_extraOptions%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Remove%20the%20first%202%20bytes%20containing%20the%20type%20from%20the%20_extraOptions%20and%20combine%20with%20enforced.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20bytes.concat%28enforced%2C%20_extraOptions%5B2%3A%5D%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20No%20valid%20set%20of%20options%20was%20found.%5Cn%20%20%20%20%20%20%20%20revert%20InvalidOptions%28_extraOptions%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20assert%20that%20options%20are%20of%20type%203.%5Cn%20%20%20%20%20%2A%20%40param%20_options%20The%20options%20to%20be%20checked.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_assertOptionsType3%28bytes%20memory%20_options%29%20internal%20pure%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20uint16%20optionsType%3B%5Cn%20%20%20%20%20%20%20%20assembly%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20optionsType%20%3A%3D%20mload%28add%28_options%2C%202%29%29%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20if%20%28optionsType%20%21%3D%20OPTION_TYPE_3%29%20revert%20InvalidOptions%28_options%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foft%2FOFT.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20ERC20%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Ftoken%2FERC20%2FERC20.sol%5C%22%3B%5Cnimport%20%7B%20IOFT%2C%20OFTCore%20%7D%20from%20%5C%22.%2FOFTCore.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20OFT%20Contract%5Cn%20%2A%20%40dev%20OFT%20is%20an%20ERC-20%20token%20that%20extends%20the%20functionality%20of%20the%20OFTCore%20contract.%5Cn%20%2A%2F%5Cnabstract%20contract%20OFT%20is%20OFTCore%2C%20ERC20%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Constructor%20for%20the%20OFT%20contract.%5Cn%20%20%20%20%20%2A%20%40param%20_name%20The%20name%20of%20the%20OFT.%5Cn%20%20%20%20%20%2A%20%40param%20_symbol%20The%20symbol%20of%20the%20OFT.%5Cn%20%20%20%20%20%2A%20%40param%20_lzEndpoint%20The%20LayerZero%20endpoint%20address.%5Cn%20%20%20%20%20%2A%20%40param%20_delegate%20The%20delegate%20capable%20of%20making%20OApp%20configurations%20inside%20of%20the%20endpoint.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20constructor%28%5Cn%20%20%20%20%20%20%20%20string%20memory%20_name%2C%5Cn%20%20%20%20%20%20%20%20string%20memory%20_symbol%2C%5Cn%20%20%20%20%20%20%20%20address%20_lzEndpoint%2C%5Cn%20%20%20%20%20%20%20%20address%20_delegate%5Cn%20%20%20%20%29%20ERC20%28_name%2C%20_symbol%29%20OFTCore%28decimals%28%29%2C%20_lzEndpoint%2C%20_delegate%29%20%7B%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20address%20of%20the%20underlying%20ERC20%20implementation.%5Cn%20%20%20%20%20%2A%20%40return%20The%20address%20of%20the%20OFT%20token.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20In%20the%20case%20of%20OFT%2C%20address%28this%29%20and%20erc20%20are%20the%20same%20contract.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20token%28%29%20public%20view%20returns%20%28address%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20address%28this%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Indicates%20whether%20the%20OFT%20contract%20requires%20approval%20of%20the%20%27token%28%29%27%20to%20send.%5Cn%20%20%20%20%20%2A%20%40return%20requiresApproval%20Needs%20approval%20of%20the%20underlying%20token%20implementation.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20In%20the%20case%20of%20OFT%20where%20the%20contract%20IS%20the%20token%2C%20approval%20is%20NOT%20required.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20approvalRequired%28%29%20external%20pure%20virtual%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20false%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Burns%20tokens%20from%20the%20sender%27s%20specified%20balance.%5Cn%20%20%20%20%20%2A%20%40param%20_from%20The%20address%20to%20debit%20the%20tokens%20from.%5Cn%20%20%20%20%20%2A%20%40param%20_amountLD%20The%20amount%20of%20tokens%20to%20send%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40param%20_minAmountLD%20The%20minimum%20amount%20to%20send%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40param%20_dstEid%20The%20destination%20chain%20ID.%5Cn%20%20%20%20%20%2A%20%40return%20amountSentLD%20The%20amount%20sent%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40return%20amountReceivedLD%20The%20amount%20received%20in%20local%20decimals%20on%20the%20remote.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_debit%28%5Cn%20%20%20%20%20%20%20%20address%20_from%2C%5Cn%20%20%20%20%20%20%20%20uint256%20_amountLD%2C%5Cn%20%20%20%20%20%20%20%20uint256%20_minAmountLD%2C%5Cn%20%20%20%20%20%20%20%20uint32%20_dstEid%5Cn%20%20%20%20%29%20internal%20virtual%20override%20returns%20%28uint256%20amountSentLD%2C%20uint256%20amountReceivedLD%29%20%7B%5Cn%20%20%20%20%20%20%20%20%28amountSentLD%2C%20amountReceivedLD%29%20%3D%20_debitView%28_amountLD%2C%20_minAmountLD%2C%20_dstEid%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20In%20NON-default%20OFT%2C%20amountSentLD%20could%20be%20100%2C%20with%20a%2010%25%20fee%2C%20the%20amountReceivedLD%20amount%20is%2090%2C%5Cn%20%20%20%20%20%20%20%20%2F%2F%20therefore%20amountSentLD%20CAN%20differ%20from%20amountReceivedLD.%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Default%20OFT%20burns%20on%20src.%5Cn%20%20%20%20%20%20%20%20_burn%28_from%2C%20amountSentLD%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Credits%20tokens%20to%20the%20specified%20address.%5Cn%20%20%20%20%20%2A%20%40param%20_to%20The%20address%20to%20credit%20the%20tokens%20to.%5Cn%20%20%20%20%20%2A%20%40param%20_amountLD%20The%20amount%20of%20tokens%20to%20credit%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40dev%20_srcEid%20The%20source%20chain%20ID.%5Cn%20%20%20%20%20%2A%20%40return%20amountReceivedLD%20The%20amount%20of%20tokens%20ACTUALLY%20received%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_credit%28%5Cn%20%20%20%20%20%20%20%20address%20_to%2C%5Cn%20%20%20%20%20%20%20%20uint256%20_amountLD%2C%5Cn%20%20%20%20%20%20%20%20uint32%20%2F%2A_srcEid%2A%2F%5Cn%20%20%20%20%29%20internal%20virtual%20override%20returns%20%28uint256%20amountReceivedLD%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_to%20%3D%3D%20address%280x0%29%29%20_to%20%3D%20address%280xdead%29%3B%20%2F%2F%20_mint%28...%29%20does%20not%20support%20address%280x0%29%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Default%20OFT%20mints%20on%20dst.%5Cn%20%20%20%20%20%20%20%20_mint%28_to%2C%20_amountLD%29%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20In%20the%20case%20of%20NON-default%20OFT%2C%20the%20_amountLD%20MIGHT%20not%20be%20%3D%3D%20amountReceivedLD.%5Cn%20%20%20%20%20%20%20%20return%20_amountLD%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foft%2FOFTCore.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20OApp%2C%20Origin%20%7D%20from%20%5C%22..%2Foapp%2FOApp.sol%5C%22%3B%5Cnimport%20%7B%20OAppOptionsType3%20%7D%20from%20%5C%22..%2Foapp%2Flibs%2FOAppOptionsType3.sol%5C%22%3B%5Cnimport%20%7B%20IOAppMsgInspector%20%7D%20from%20%5C%22..%2Foapp%2Finterfaces%2FIOAppMsgInspector.sol%5C%22%3B%5Cn%5Cnimport%20%7B%20OAppPreCrimeSimulator%20%7D%20from%20%5C%22..%2Fprecrime%2FOAppPreCrimeSimulator.sol%5C%22%3B%5Cn%5Cnimport%20%7B%5Cn%20%20%20%20IOFT%2C%20SendParam%2C%20OFTLimit%2C%20OFTReceipt%2C%20OFTFeeDetail%2C%20MessagingReceipt%2C%20MessagingFee%5Cn%7D%20from%20%5C%22.%2Finterfaces%2FIOFT.sol%5C%22%3B%5Cnimport%20%7B%20OFTMsgCodec%20%7D%20from%20%5C%22.%2Flibs%2FOFTMsgCodec.sol%5C%22%3B%5Cnimport%20%7B%20OFTComposeMsgCodec%20%7D%20from%20%5C%22.%2Flibs%2FOFTComposeMsgCodec.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20OFTCore%5Cn%20%2A%20%40dev%20Abstract%20contract%20for%20the%20OftChain%20%28OFT%29%20token.%5Cn%20%2A%2F%5Cnabstract%20contract%20OFTCore%20is%20IOFT%2C%20OApp%2C%20OAppPreCrimeSimulator%2C%20OAppOptionsType3%20%7B%5Cn%20%20%20%20using%20OFTMsgCodec%20for%20bytes%3B%5Cn%20%20%20%20using%20OFTMsgCodec%20for%20bytes32%3B%5Cn%5Cn%20%20%20%20%2F%2F%20%40notice%20Provides%20a%20conversion%20rate%20when%20swapping%20between%20denominations%20of%20SD%20and%20LD%5Cn%20%20%20%20%2F%2F%20%20%20%20%20%20-%20shareDecimals%20%3D%3D%20SD%20%3D%3D%20shared%20Decimals%5Cn%20%20%20%20%2F%2F%20%20%20%20%20%20-%20localDecimals%20%3D%3D%20LD%20%3D%3D%20local%20decimals%5Cn%20%20%20%20%2F%2F%20%40dev%20Considers%20that%20tokens%20have%20different%20decimal%20amounts%20on%20various%20chains.%5Cn%20%20%20%20%2F%2F%20%40dev%20eg.%5Cn%20%20%20%20%2F%2F%20%20For%20a%20token%5Cn%20%20%20%20%2F%2F%20%20%20%20%20%20-%20locally%20with%204%20decimals%20--%3E%201.2345%20%3D%3E%20uint%2812345%29%5Cn%20%20%20%20%2F%2F%20%20%20%20%20%20-%20remotely%20with%202%20decimals%20--%3E%201.23%20%3D%3E%20uint%28123%29%5Cn%20%20%20%20%2F%2F%20%20%20%20%20%20-%20The%20conversion%20rate%20would%20be%2010%20%2A%2A%20%284%20-%202%29%20%3D%20100%5Cn%20%20%20%20%2F%2F%20%20%40dev%20If%20you%20want%20to%20send%201.2345%20-%3E%20%28uint%2012345%29%2C%20you%20CANNOT%20represent%20that%20value%20on%20the%20remote%2C%5Cn%20%20%20%20%2F%2F%20%20you%20can%20only%20display%201.23%20-%3E%20uint%28123%29.%5Cn%20%20%20%20%2F%2F%20%20%40dev%20To%20preserve%20the%20dust%20that%20would%20otherwise%20be%20lost%20on%20that%20conversion%2C%5Cn%20%20%20%20%2F%2F%20%20we%20need%20to%20unify%20a%20denomination%20that%20can%20be%20represented%20on%20ALL%20chains%20inside%20of%20the%20OFT%20mesh%5Cn%20%20%20%20uint256%20public%20immutable%20decimalConversionRate%3B%5Cn%5Cn%20%20%20%20%2F%2F%20%40notice%20Msg%20types%20that%20are%20used%20to%20identify%20the%20various%20OFT%20operations.%5Cn%20%20%20%20%2F%2F%20%40dev%20This%20can%20be%20extended%20in%20child%20contracts%20for%20non-default%20oft%20operations%5Cn%20%20%20%20%2F%2F%20%40dev%20These%20values%20are%20used%20in%20things%20like%20combineOptions%28%29%20in%20OAppOptionsType3.sol.%5Cn%20%20%20%20uint16%20public%20constant%20SEND%20%3D%201%3B%5Cn%20%20%20%20uint16%20public%20constant%20SEND_AND_CALL%20%3D%202%3B%5Cn%5Cn%20%20%20%20%2F%2F%20Address%20of%20an%20optional%20contract%20to%20inspect%20both%20%27message%27%20and%20%27options%27%5Cn%20%20%20%20address%20public%20msgInspector%3B%5Cn%5Cn%20%20%20%20event%20MsgInspectorSet%28address%20inspector%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Constructor.%5Cn%20%20%20%20%20%2A%20%40param%20_localDecimals%20The%20decimals%20of%20the%20token%20on%20the%20local%20chain%20%28this%20chain%29.%5Cn%20%20%20%20%20%2A%20%40param%20_endpoint%20The%20address%20of%20the%20LayerZero%20endpoint.%5Cn%20%20%20%20%20%2A%20%40param%20_delegate%20The%20delegate%20capable%20of%20making%20OApp%20configurations%20inside%20of%20the%20endpoint.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20constructor%28uint8%20_localDecimals%2C%20address%20_endpoint%2C%20address%20_delegate%29%20OApp%28_endpoint%2C%20_delegate%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_localDecimals%20%3C%20sharedDecimals%28%29%29%20revert%20InvalidLocalDecimals%28%29%3B%5Cn%20%20%20%20%20%20%20%20decimalConversionRate%20%3D%2010%20%2A%2A%20%28_localDecimals%20-%20sharedDecimals%28%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20interfaceID%20and%20the%20version%20of%20the%20OFT.%5Cn%20%20%20%20%20%2A%20%40return%20interfaceId%20The%20interface%20ID.%5Cn%20%20%20%20%20%2A%20%40return%20version%20The%20version.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20interfaceId%3A%20This%20specific%20interface%20ID%20is%20%270x02e49c2c%27.%5Cn%20%20%20%20%20%2A%20%40dev%20version%3A%20Indicates%20a%20cross-chain%20compatible%20msg%20encoding%20with%20other%20OFTs.%5Cn%20%20%20%20%20%2A%20%40dev%20If%20a%20new%20feature%20is%20added%20to%20the%20OFT%20cross-chain%20msg%20encoding%2C%20the%20version%20will%20be%20incremented.%5Cn%20%20%20%20%20%2A%20ie.%20localOFT%20version%28x%2C1%29%20CAN%20send%20messages%20to%20remoteOFT%20version%28x%2C1%29%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20oftVersion%28%29%20external%20pure%20virtual%20returns%20%28bytes4%20interfaceId%2C%20uint64%20version%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%28type%28IOFT%29.interfaceId%2C%201%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20shared%20decimals%20of%20the%20OFT.%5Cn%20%20%20%20%20%2A%20%40return%20The%20shared%20decimals%20of%20the%20OFT.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20an%20implicit%20cap%20on%20the%20amount%20of%20tokens%2C%20over%20uint64.max%28%29%20will%20need%20some%20sort%20of%20outbound%20cap%20%2F%5Cn%20%20%20%20%20%2A%20totalSupply%20cap%5Cn%20%20%20%20%20%2A%20Lowest%20common%20decimal%20denominator%20between%20chains.%5Cn%20%20%20%20%20%2A%20Defaults%20to%206%20decimal%20places%20to%20provide%20up%20to%2018%2C446%2C744%2C073%2C709.551615%20units%20%28max%20uint64%29.%5Cn%20%20%20%20%20%2A%20For%20tokens%20exceeding%20this%20totalSupply%28%29%2C%20they%20will%20need%20to%20override%20the%20sharedDecimals%20function%20with%20something%5Cn%20%20%20%20%20%2A%20smaller.%5Cn%20%20%20%20%20%2A%20ie.%204%20sharedDecimals%20would%20be%201%2C844%2C674%2C407%2C370%2C955.1615%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20sharedDecimals%28%29%20public%20view%20virtual%20returns%20%28uint8%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%206%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20the%20message%20inspector%20address%20for%20the%20OFT.%5Cn%20%20%20%20%20%2A%20%40param%20_msgInspector%20The%20address%20of%20the%20message%20inspector.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20This%20is%20an%20optional%20contract%20that%20can%20be%20used%20to%20inspect%20both%20%27message%27%20and%20%27options%27.%5Cn%20%20%20%20%20%2A%20%40dev%20Set%20it%20to%20address%280%29%20to%20disable%20it%2C%20or%20set%20it%20to%20a%20contract%20address%20to%20enable%20it.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20setMsgInspector%28address%20_msgInspector%29%20public%20virtual%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20msgInspector%20%3D%20_msgInspector%3B%5Cn%20%20%20%20%20%20%20%20emit%20MsgInspectorSet%28_msgInspector%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Provides%20a%20quote%20for%20OFT-related%20operations.%5Cn%20%20%20%20%20%2A%20%40param%20_sendParam%20The%20parameters%20for%20the%20send%20operation.%5Cn%20%20%20%20%20%2A%20%40return%20oftLimit%20The%20OFT%20limit%20information.%5Cn%20%20%20%20%20%2A%20%40return%20oftFeeDetails%20The%20details%20of%20OFT%20fees.%5Cn%20%20%20%20%20%2A%20%40return%20oftReceipt%20The%20OFT%20receipt%20information.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20quoteOFT%28SendParam%20calldata%20_sendParam%29%5Cn%20%20%20%20%20%20%20%20external%5Cn%20%20%20%20%20%20%20%20view%5Cn%20%20%20%20%20%20%20%20virtual%5Cn%20%20%20%20%20%20%20%20returns%20%28OFTLimit%20memory%20oftLimit%2C%20OFTFeeDetail%5B%5D%20memory%20oftFeeDetails%2C%20OFTReceipt%20memory%20oftReceipt%29%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20uint256%20minAmountLD%20%3D%200%3B%20%2F%2F%20Unused%20in%20the%20default%20implementation.%5Cn%20%20%20%20%20%20%20%20uint256%20maxAmountLD%20%3D%20type%28uint64%29.max%3B%20%2F%2F%20Unused%20in%20the%20default%20implementation.%5Cn%20%20%20%20%20%20%20%20oftLimit%20%3D%20OFTLimit%28minAmountLD%2C%20maxAmountLD%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Unused%20in%20the%20default%20implementation%3B%20reserved%20for%20future%20complex%20fee%20details.%5Cn%20%20%20%20%20%20%20%20oftFeeDetails%20%3D%20new%20OFTFeeDetail%5B%5D%280%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20This%20is%20the%20same%20as%20the%20send%28%29%20operation%2C%20but%20without%20the%20actual%20send.%5Cn%20%20%20%20%20%20%20%20%2F%2F%20-%20amountSentLD%20is%20the%20amount%20in%20local%20decimals%20that%20would%20be%20sent%20from%20the%20sender.%5Cn%20%20%20%20%20%20%20%20%2F%2F%20-%20amountReceivedLD%20is%20the%20amount%20in%20local%20decimals%20that%20will%20be%20credited%20to%20the%20recipient%20on%20the%20remote%20OFT%5Cn%20%20%20%20%20%20%20%20%2F%2F%20instance.%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20The%20amountSentLD%20MIGHT%20not%20equal%20the%20amount%20the%20user%20actually%20receives.%20HOWEVER%2C%20the%20default%20does.%5Cn%20%20%20%20%20%20%20%20%28uint256%20amountSentLD%2C%20uint256%20amountReceivedLD%29%20%3D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_debitView%28_sendParam.amountLD%2C%20_sendParam.minAmountLD%2C%20_sendParam.dstEid%29%3B%5Cn%20%20%20%20%20%20%20%20oftReceipt%20%3D%20OFTReceipt%28amountSentLD%2C%20amountReceivedLD%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Provides%20a%20quote%20for%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_sendParam%20The%20parameters%20for%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_payInLzToken%20Flag%20indicating%20whether%20the%20caller%20is%20paying%20in%20the%20LZ%20token.%5Cn%20%20%20%20%20%2A%20%40return%20msgFee%20The%20calculated%20LayerZero%20messaging%20fee%20from%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20MessagingFee%3A%20LayerZero%20msg%20fee%5Cn%20%20%20%20%20%2A%20%20-%20nativeFee%3A%20The%20native%20fee.%5Cn%20%20%20%20%20%2A%20%20-%20lzTokenFee%3A%20The%20lzToken%20fee.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20quoteSend%28SendParam%20calldata%20_sendParam%2C%20bool%20_payInLzToken%29%5Cn%20%20%20%20%20%20%20%20external%5Cn%20%20%20%20%20%20%20%20view%5Cn%20%20%20%20%20%20%20%20virtual%5Cn%20%20%20%20%20%20%20%20returns%20%28MessagingFee%20memory%20msgFee%29%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20mock%20the%20amount%20to%20receive%2C%20this%20is%20the%20same%20operation%20used%20in%20the%20send%28%29.%5Cn%20%20%20%20%20%20%20%20%2F%2F%20The%20quote%20is%20as%20similar%20as%20possible%20to%20the%20actual%20send%28%29%20operation.%5Cn%20%20%20%20%20%20%20%20%28%2C%20uint256%20amountReceivedLD%29%20%3D%20_debitView%28_sendParam.amountLD%2C%20_sendParam.minAmountLD%2C%20_sendParam.dstEid%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Builds%20the%20options%20and%20OFT%20message%20to%20quote%20in%20the%20endpoint.%5Cn%20%20%20%20%20%20%20%20%28bytes%20memory%20message%2C%20bytes%20memory%20options%29%20%3D%20_buildMsgAndOptions%28_sendParam%2C%20amountReceivedLD%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Calculates%20the%20LayerZero%20fee%20for%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%20%20%20return%20_quote%28_sendParam.dstEid%2C%20message%2C%20options%2C%20_payInLzToken%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Executes%20the%20send%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_sendParam%20The%20parameters%20for%20the%20send%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_fee%20The%20calculated%20fee%20for%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20nativeFee%3A%20The%20native%20fee.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20lzTokenFee%3A%20The%20lzToken%20fee.%5Cn%20%20%20%20%20%2A%20%40param%20_refundAddress%20The%20address%20to%20receive%20any%20excess%20funds.%5Cn%20%20%20%20%20%2A%20%40return%20msgReceipt%20The%20receipt%20for%20the%20send%20operation.%5Cn%20%20%20%20%20%2A%20%40return%20oftReceipt%20The%20OFT%20receipt%20information.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20MessagingReceipt%3A%20LayerZero%20msg%20receipt%5Cn%20%20%20%20%20%2A%20%20-%20guid%3A%20The%20unique%20identifier%20for%20the%20sent%20message.%5Cn%20%20%20%20%20%2A%20%20-%20nonce%3A%20The%20nonce%20of%20the%20sent%20message.%5Cn%20%20%20%20%20%2A%20%20-%20fee%3A%20The%20LayerZero%20fee%20incurred%20for%20the%20message.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20send%28SendParam%20calldata%20_sendParam%2C%20MessagingFee%20calldata%20_fee%2C%20address%20_refundAddress%29%5Cn%20%20%20%20%20%20%20%20external%5Cn%20%20%20%20%20%20%20%20payable%5Cn%20%20%20%20%20%20%20%20virtual%5Cn%20%20%20%20%20%20%20%20returns%20%28MessagingReceipt%20memory%20msgReceipt%2C%20OFTReceipt%20memory%20oftReceipt%29%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Applies%20the%20token%20transfers%20regarding%20this%20send%28%29%20operation.%5Cn%20%20%20%20%20%20%20%20%2F%2F%20-%20amountSentLD%20is%20the%20amount%20in%20local%20decimals%20that%20was%20ACTUALLY%20sent%2Fdebited%20from%20the%20sender.%5Cn%20%20%20%20%20%20%20%20%2F%2F%20-%20amountReceivedLD%20is%20the%20amount%20in%20local%20decimals%20that%20will%20be%20received%2Fcredited%20to%20the%20recipient%20on%20the%5Cn%20%20%20%20%20%20%20%20%2F%2F%20remote%20OFT%20instance.%5Cn%20%20%20%20%20%20%20%20%28uint256%20amountSentLD%2C%20uint256%20amountReceivedLD%29%20%3D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_debit%28msg.sender%2C%20_sendParam.amountLD%2C%20_sendParam.minAmountLD%2C%20_sendParam.dstEid%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Builds%20the%20options%20and%20OFT%20message%20to%20quote%20in%20the%20endpoint.%5Cn%20%20%20%20%20%20%20%20%28bytes%20memory%20message%2C%20bytes%20memory%20options%29%20%3D%20_buildMsgAndOptions%28_sendParam%2C%20amountReceivedLD%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Sends%20the%20message%20to%20the%20LayerZero%20endpoint%20and%20returns%20the%20LayerZero%20msg%20receipt.%5Cn%20%20%20%20%20%20%20%20msgReceipt%20%3D%20_lzSend%28_sendParam.dstEid%2C%20message%2C%20options%2C%20_fee%2C%20_refundAddress%29%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Formulate%20the%20OFT%20receipt.%5Cn%20%20%20%20%20%20%20%20oftReceipt%20%3D%20OFTReceipt%28amountSentLD%2C%20amountReceivedLD%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20emit%20OFTSent%28msgReceipt.guid%2C%20_sendParam.dstEid%2C%20msg.sender%2C%20amountSentLD%2C%20amountReceivedLD%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20build%20the%20message%20and%20options.%5Cn%20%20%20%20%20%2A%20%40param%20_sendParam%20The%20parameters%20for%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_amountLD%20The%20amount%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40return%20message%20The%20encoded%20message.%5Cn%20%20%20%20%20%2A%20%40return%20options%20The%20encoded%20options.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_buildMsgAndOptions%28SendParam%20calldata%20_sendParam%2C%20uint256%20_amountLD%29%5Cn%20%20%20%20%20%20%20%20internal%5Cn%20%20%20%20%20%20%20%20view%5Cn%20%20%20%20%20%20%20%20virtual%5Cn%20%20%20%20%20%20%20%20returns%20%28bytes%20memory%20message%2C%20bytes%20memory%20options%29%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20bool%20hasCompose%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20This%20generated%20message%20has%20the%20msg.sender%20encoded%20into%20the%20payload%20so%20the%20remote%20knows%20who%20the%20caller%5Cn%20%20%20%20%20%20%20%20%2F%2F%20is.%5Cn%20%20%20%20%20%20%20%20%28message%2C%20hasCompose%29%20%3D%20OFTMsgCodec.encode%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_sendParam.to%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_toSD%28_amountLD%29%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Must%20be%20include%20a%20non%20empty%20bytes%20if%20you%20want%20to%20compose%2C%20EVEN%20if%20you%20dont%20need%20it%20on%20the%20remote.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20EVEN%20if%20you%20dont%20require%20an%20arbitrary%20payload%20to%20be%20sent...%20eg.%20%270x01%27%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_sendParam.composeMsg%5Cn%20%20%20%20%20%20%20%20%29%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Change%20the%20msg%20type%20depending%20if%20its%20composed%20or%20not.%5Cn%20%20%20%20%20%20%20%20uint16%20msgType%20%3D%20hasCompose%20%3F%20SEND_AND_CALL%20%3A%20SEND%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Combine%20the%20callers%20_extraOptions%20with%20the%20enforced%20options%20via%20the%20OAppOptionsType3.%5Cn%20%20%20%20%20%20%20%20options%20%3D%20combineOptions%28_sendParam.dstEid%2C%20msgType%2C%20_sendParam.extraOptions%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Optionally%20inspect%20the%20message%20and%20options%20depending%20if%20the%20OApp%20owner%20has%20set%20a%20msg%20inspector.%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20If%20it%20fails%20inspection%2C%20needs%20to%20revert%20in%20the%20implementation.%20ie.%20does%20not%20rely%20on%20return%20boolean%5Cn%20%20%20%20%20%20%20%20if%20%28msgInspector%20%21%3D%20address%280%29%29%20IOAppMsgInspector%28msgInspector%29.inspect%28message%2C%20options%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20handle%20the%20receive%20on%20the%20LayerZero%20endpoint.%5Cn%20%20%20%20%20%2A%20%40param%20_origin%20The%20origin%20information.%5Cn%20%20%20%20%20%2A%20%20-%20srcEid%3A%20The%20source%20chain%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%20-%20sender%3A%20The%20sender%20address%20from%20the%20src%20chain.%5Cn%20%20%20%20%20%2A%20%20-%20nonce%3A%20The%20nonce%20of%20the%20LayerZero%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_guid%20The%20unique%20identifier%20for%20the%20received%20LayerZero%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_message%20The%20encoded%20message.%5Cn%20%20%20%20%20%2A%20%40dev%20_executor%20The%20address%20of%20the%20executor.%5Cn%20%20%20%20%20%2A%20%40dev%20_extraData%20Additional%20data.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_lzReceive%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20_origin%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20address%2C%20%2F%2A_executor%2A%2F%20%2F%2F%20%40dev%20unused%20in%20the%20default%20implementation.%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20%2F%2A_extraData%2A%2F%20%2F%2F%20%40dev%20unused%20in%20the%20default%20implementation.%5Cn%20%20%20%20%29%20internal%20virtual%20override%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20The%20src%20sending%20chain%20doesnt%20know%20the%20address%20length%20on%20this%20chain%20%28potentially%20non-evm%29%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Thus%20everything%20is%20bytes32%28%29%20encoded%20in%20flight.%5Cn%20%20%20%20%20%20%20%20address%20toAddress%20%3D%20_message.sendTo%28%29.bytes32ToAddress%28%29%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Credit%20the%20amountLD%20to%20the%20recipient%20and%20return%20the%20ACTUAL%20amount%20the%20recipient%20received%20in%20local%5Cn%20%20%20%20%20%20%20%20%2F%2F%20decimals%5Cn%20%20%20%20%20%20%20%20uint256%20amountReceivedLD%20%3D%20_credit%28toAddress%2C%20_toLD%28_message.amountSD%28%29%29%2C%20_origin.srcEid%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20%28_message.isComposed%28%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Proprietary%20composeMsg%20format%20for%20the%20OFT.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20bytes%20memory%20composeMsg%20%3D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20OFTComposeMsgCodec.encode%28_origin.nonce%2C%20_origin.srcEid%2C%20amountReceivedLD%2C%20_message.composeMsg%28%29%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Stores%20the%20lzCompose%20payload%20that%20will%20be%20executed%20in%20a%20separate%20tx.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Standardizes%20functionality%20for%20executing%20arbitrary%20contract%20invocation%20on%20some%20non-evm%20chains.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20The%20off-chain%20executor%20will%20listen%20and%20process%20the%20msg%20based%20on%20the%20src-chain-callers%20compose%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20options%20passed.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20The%20index%20is%20used%20when%20a%20OApp%20needs%20to%20compose%20multiple%20msgs%20on%20lzReceive.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20For%20default%20OFT%20implementation%20there%20is%20only%201%20compose%20msg%20per%20lzReceive%2C%20thus%20its%20always%200.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20endpoint.sendCompose%28toAddress%2C%20_guid%2C%200%2C%20%2F%2A%20the%20index%20of%20the%20composed%20message%2A%2F%20composeMsg%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20emit%20OFTReceived%28_guid%2C%20_origin.srcEid%2C%20toAddress%2C%20amountReceivedLD%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20handle%20the%20OAppPreCrimeSimulator%20simulated%20receive.%5Cn%20%20%20%20%20%2A%20%40param%20_origin%20The%20origin%20information.%5Cn%20%20%20%20%20%2A%20%20-%20srcEid%3A%20The%20source%20chain%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%20-%20sender%3A%20The%20sender%20address%20from%20the%20src%20chain.%5Cn%20%20%20%20%20%2A%20%20-%20nonce%3A%20The%20nonce%20of%20the%20LayerZero%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_guid%20The%20unique%20identifier%20for%20the%20received%20LayerZero%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_message%20The%20LayerZero%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_executor%20The%20address%20of%20the%20off-chain%20executor.%5Cn%20%20%20%20%20%2A%20%40param%20_extraData%20Arbitrary%20data%20passed%20by%20the%20msg%20executor.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Enables%20the%20preCrime%20simulator%20to%20mock%20sending%20lzReceive%28%29%20messages%2C%5Cn%20%20%20%20%20%2A%20routes%20the%20msg%20down%20from%20the%20OAppPreCrimeSimulator%2C%20and%20back%20up%20to%20the%20OAppReceiver.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_lzReceiveSimulate%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20_origin%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20address%20_executor%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_extraData%5Cn%20%20%20%20%29%20internal%20virtual%20override%20%7B%5Cn%20%20%20%20%20%20%20%20_lzReceive%28_origin%2C%20_guid%2C%20_message%2C%20_executor%2C%20_extraData%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Check%20if%20the%20peer%20is%20considered%20%27trusted%27%20by%20the%20OApp.%5Cn%20%20%20%20%20%2A%20%40param%20_eid%20The%20endpoint%20ID%20to%20check.%5Cn%20%20%20%20%20%2A%20%40param%20_peer%20The%20peer%20to%20check.%5Cn%20%20%20%20%20%2A%20%40return%20Whether%20the%20peer%20passed%20is%20considered%20%27trusted%27%20by%20the%20OApp.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Enables%20OAppPreCrimeSimulator%20to%20check%20whether%20a%20potential%20Credit%20Packet%20is%20from%20a%20trusted%20source.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20isPeer%28uint32%20_eid%2C%20bytes32%20_peer%29%20public%20view%20virtual%20override%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20peers%5B_eid%5D%20%3D%3D%20_peer%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20remove%20dust%20from%20the%20given%20local%20decimal%20amount.%5Cn%20%20%20%20%20%2A%20%40param%20_amountLD%20The%20amount%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40return%20amountLD%20The%20amount%20after%20removing%20dust.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Prevents%20the%20loss%20of%20dust%20when%20moving%20amounts%20between%20chains%20with%20different%20decimals.%5Cn%20%20%20%20%20%2A%20%40dev%20eg.%20uint%28123%29%20with%20a%20conversion%20rate%20of%20100%20becomes%20uint%28100%29.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_removeDust%28uint256%20_amountLD%29%20internal%20view%20virtual%20returns%20%28uint256%20amountLD%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20%28_amountLD%20%2F%20decimalConversionRate%29%20%2A%20decimalConversionRate%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20convert%20an%20amount%20from%20shared%20decimals%20into%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40param%20_amountSD%20The%20amount%20in%20shared%20decimals.%5Cn%20%20%20%20%20%2A%20%40return%20amountLD%20The%20amount%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_toLD%28uint64%20_amountSD%29%20internal%20view%20virtual%20returns%20%28uint256%20amountLD%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_amountSD%20%2A%20decimalConversionRate%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20convert%20an%20amount%20from%20local%20decimals%20into%20shared%20decimals.%5Cn%20%20%20%20%20%2A%20%40param%20_amountLD%20The%20amount%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40return%20amountSD%20The%20amount%20in%20shared%20decimals.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_toSD%28uint256%20_amountLD%29%20internal%20view%20virtual%20returns%20%28uint64%20amountSD%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20uint64%28_amountLD%20%2F%20decimalConversionRate%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20mock%20the%20amount%20mutation%20from%20a%20OFT%20debit%28%29%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_amountLD%20The%20amount%20to%20send%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40param%20_minAmountLD%20The%20minimum%20amount%20to%20send%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40dev%20_dstEid%20The%20destination%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40return%20amountSentLD%20The%20amount%20sent%2C%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40return%20amountReceivedLD%20The%20amount%20to%20be%20received%20on%20the%20remote%20chain%2C%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20This%20is%20where%20things%20like%20fees%20would%20be%20calculated%20and%20deducted%20from%20the%20amount%20to%20be%20received%20on%20the%5Cn%20%20%20%20%20%2A%20remote.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_debitView%28uint256%20_amountLD%2C%20uint256%20_minAmountLD%2C%20uint32%20%2F%2A_dstEid%2A%2F%20%29%5Cn%20%20%20%20%20%20%20%20internal%5Cn%20%20%20%20%20%20%20%20view%5Cn%20%20%20%20%20%20%20%20virtual%5Cn%20%20%20%20%20%20%20%20returns%20%28uint256%20amountSentLD%2C%20uint256%20amountReceivedLD%29%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Remove%20the%20dust%20so%20nothing%20is%20lost%20on%20the%20conversion%20between%20chains%20with%20different%20decimals%20for%20the%5Cn%20%20%20%20%20%20%20%20%2F%2F%20token.%5Cn%20%20%20%20%20%20%20%20amountSentLD%20%3D%20_removeDust%28_amountLD%29%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20The%20amount%20to%20send%20is%20the%20same%20as%20amount%20received%20in%20the%20default%20implementation.%5Cn%20%20%20%20%20%20%20%20amountReceivedLD%20%3D%20amountSentLD%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Check%20for%20slippage.%5Cn%20%20%20%20%20%20%20%20if%20%28amountReceivedLD%20%3C%20_minAmountLD%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20SlippageExceeded%28amountReceivedLD%2C%20_minAmountLD%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20perform%20a%20debit%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_from%20The%20address%20to%20debit.%5Cn%20%20%20%20%20%2A%20%40param%20_amountLD%20The%20amount%20to%20send%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40param%20_minAmountLD%20The%20minimum%20amount%20to%20send%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40param%20_dstEid%20The%20destination%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40return%20amountSentLD%20The%20amount%20sent%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40return%20amountReceivedLD%20The%20amount%20received%20in%20local%20decimals%20on%20the%20remote.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Defined%20here%20but%20are%20intended%20to%20be%20overriden%20depending%20on%20the%20OFT%20implementation.%5Cn%20%20%20%20%20%2A%20%40dev%20Depending%20on%20OFT%20implementation%20the%20_amountLD%20could%20differ%20from%20the%20amountReceivedLD.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_debit%28address%20_from%2C%20uint256%20_amountLD%2C%20uint256%20_minAmountLD%2C%20uint32%20_dstEid%29%5Cn%20%20%20%20%20%20%20%20internal%5Cn%20%20%20%20%20%20%20%20virtual%5Cn%20%20%20%20%20%20%20%20returns%20%28uint256%20amountSentLD%2C%20uint256%20amountReceivedLD%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20perform%20a%20credit%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_to%20The%20address%20to%20credit.%5Cn%20%20%20%20%20%2A%20%40param%20_amountLD%20The%20amount%20to%20credit%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40param%20_srcEid%20The%20source%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40return%20amountReceivedLD%20The%20amount%20ACTUALLY%20received%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Defined%20here%20but%20are%20intended%20to%20be%20overriden%20depending%20on%20the%20OFT%20implementation.%5Cn%20%20%20%20%20%2A%20%40dev%20Depending%20on%20OFT%20implementation%20the%20_amountLD%20could%20differ%20from%20the%20amountReceivedLD.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_credit%28address%20_to%2C%20uint256%20_amountLD%2C%20uint32%20_srcEid%29%5Cn%20%20%20%20%20%20%20%20internal%5Cn%20%20%20%20%20%20%20%20virtual%5Cn%20%20%20%20%20%20%20%20returns%20%28uint256%20amountReceivedLD%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foft%2Finterfaces%2FIOFT.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20MessagingReceipt%2C%20MessagingFee%20%7D%20from%20%5C%22..%2F..%2Foapp%2FOAppSender.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Struct%20representing%20token%20parameters%20for%20the%20OFT%20send%28%29%20operation.%5Cn%20%2A%2F%5Cnstruct%20SendParam%20%7B%5Cn%20%20%20%20uint32%20dstEid%3B%20%2F%2F%20Destination%20endpoint%20ID.%5Cn%20%20%20%20bytes32%20to%3B%20%2F%2F%20Recipient%20address.%5Cn%20%20%20%20uint256%20amountLD%3B%20%2F%2F%20Amount%20to%20send%20in%20local%20decimals.%5Cn%20%20%20%20uint256%20minAmountLD%3B%20%2F%2F%20Minimum%20amount%20to%20send%20in%20local%20decimals.%5Cn%20%20%20%20bytes%20extraOptions%3B%20%2F%2F%20Additional%20options%20supplied%20by%20the%20caller%20to%20be%20used%20in%20the%20LayerZero%20message.%5Cn%20%20%20%20bytes%20composeMsg%3B%20%2F%2F%20The%20composed%20message%20for%20the%20send%28%29%20operation.%5Cn%20%20%20%20bytes%20oftCmd%3B%20%2F%2F%20The%20OFT%20command%20to%20be%20executed%2C%20unused%20in%20default%20OFT%20implementations.%5Cn%7D%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Struct%20representing%20OFT%20limit%20information.%5Cn%20%2A%20%40dev%20These%20amounts%20can%20change%20dynamically%20and%20are%20up%20the%20the%20specific%20oft%20implementation.%5Cn%20%2A%2F%5Cnstruct%20OFTLimit%20%7B%5Cn%20%20%20%20uint256%20minAmountLD%3B%20%2F%2F%20Minimum%20amount%20in%20local%20decimals%20that%20can%20be%20sent%20to%20the%20recipient.%5Cn%20%20%20%20uint256%20maxAmountLD%3B%20%2F%2F%20Maximum%20amount%20in%20local%20decimals%20that%20can%20be%20sent%20to%20the%20recipient.%5Cn%7D%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Struct%20representing%20OFT%20receipt%20information.%5Cn%20%2A%2F%5Cnstruct%20OFTReceipt%20%7B%5Cn%20%20%20%20uint256%20amountSentLD%3B%20%2F%2F%20Amount%20of%20tokens%20ACTUALLY%20debited%20from%20the%20sender%20in%20local%20decimals.%5Cn%20%20%20%20%2F%2F%20%40dev%20In%20non-default%20implementations%2C%20the%20amountReceivedLD%20COULD%20differ%20from%20this%20value.%5Cn%20%20%20%20uint256%20amountReceivedLD%3B%20%2F%2F%20Amount%20of%20tokens%20to%20be%20received%20on%20the%20remote%20side.%5Cn%7D%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Struct%20representing%20OFT%20fee%20details.%5Cn%20%2A%20%40dev%20Future%20proof%20mechanism%20to%20provide%20a%20standardized%20way%20to%20communicate%20fees%20to%20things%20like%20a%20UI.%5Cn%20%2A%2F%5Cnstruct%20OFTFeeDetail%20%7B%5Cn%20%20%20%20int256%20feeAmountLD%3B%20%2F%2F%20Amount%20of%20the%20fee%20in%20local%20decimals.%5Cn%20%20%20%20string%20description%3B%20%2F%2F%20Description%20of%20the%20fee.%5Cn%7D%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20IOFT%5Cn%20%2A%20%40dev%20Interface%20for%20the%20OftChain%20%28OFT%29%20token.%5Cn%20%2A%20%40dev%20Does%20not%20inherit%20ERC20%20to%20accommodate%20usage%20by%20OFTAdapter%20as%20well.%5Cn%20%2A%20%40dev%20This%20specific%20interface%20ID%20is%20%270x02e49c2c%27.%5Cn%20%2A%2F%5Cninterface%20IOFT%20%7B%5Cn%20%20%20%20%2F%2F%20Custom%20error%20messages%5Cn%20%20%20%20error%20InvalidLocalDecimals%28%29%3B%5Cn%20%20%20%20error%20SlippageExceeded%28uint256%20amountLD%2C%20uint256%20minAmountLD%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%20Events%5Cn%20%20%20%20event%20OFTSent%28%5Cn%20%20%20%20%20%20%20%20bytes32%20indexed%20guid%2C%20%2F%2F%20GUID%20of%20the%20OFT%20message.%5Cn%20%20%20%20%20%20%20%20uint32%20dstEid%2C%20%2F%2F%20Destination%20Endpoint%20ID.%5Cn%20%20%20%20%20%20%20%20address%20indexed%20fromAddress%2C%20%2F%2F%20Address%20of%20the%20sender%20on%20the%20src%20chain.%5Cn%20%20%20%20%20%20%20%20uint256%20amountSentLD%2C%20%2F%2F%20Amount%20of%20tokens%20sent%20in%20local%20decimals.%5Cn%20%20%20%20%20%20%20%20uint256%20amountReceivedLD%20%2F%2F%20Amount%20of%20tokens%20received%20in%20local%20decimals.%5Cn%20%20%20%20%29%3B%5Cn%20%20%20%20event%20OFTReceived%28%5Cn%20%20%20%20%20%20%20%20bytes32%20indexed%20guid%2C%20%2F%2F%20GUID%20of%20the%20OFT%20message.%5Cn%20%20%20%20%20%20%20%20uint32%20srcEid%2C%20%2F%2F%20Source%20Endpoint%20ID.%5Cn%20%20%20%20%20%20%20%20address%20indexed%20toAddress%2C%20%2F%2F%20Address%20of%20the%20recipient%20on%20the%20dst%20chain.%5Cn%20%20%20%20%20%20%20%20uint256%20amountReceivedLD%20%2F%2F%20Amount%20of%20tokens%20received%20in%20local%20decimals.%5Cn%20%20%20%20%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20interfaceID%20and%20the%20version%20of%20the%20OFT.%5Cn%20%20%20%20%20%2A%20%40return%20interfaceId%20The%20interface%20ID.%5Cn%20%20%20%20%20%2A%20%40return%20version%20The%20version.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20interfaceId%3A%20This%20specific%20interface%20ID%20is%20%270x02e49c2c%27.%5Cn%20%20%20%20%20%2A%20%40dev%20version%3A%20Indicates%20a%20cross-chain%20compatible%20msg%20encoding%20with%20other%20OFTs.%5Cn%20%20%20%20%20%2A%20%40dev%20If%20a%20new%20feature%20is%20added%20to%20the%20OFT%20cross-chain%20msg%20encoding%2C%20the%20version%20will%20be%20incremented.%5Cn%20%20%20%20%20%2A%20ie.%20localOFT%20version%28x%2C1%29%20CAN%20send%20messages%20to%20remoteOFT%20version%28x%2C1%29%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20oftVersion%28%29%20external%20view%20returns%20%28bytes4%20interfaceId%2C%20uint64%20version%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20the%20address%20of%20the%20token%20associated%20with%20the%20OFT.%5Cn%20%20%20%20%20%2A%20%40return%20token%20The%20address%20of%20the%20ERC20%20token%20implementation.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20token%28%29%20external%20view%20returns%20%28address%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Indicates%20whether%20the%20OFT%20contract%20requires%20approval%20of%20the%20%27token%28%29%27%20to%20send.%5Cn%20%20%20%20%20%2A%20%40return%20requiresApproval%20Needs%20approval%20of%20the%20underlying%20token%20implementation.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Allows%20things%20like%20wallet%20implementers%20to%20determine%20integration%20requirements%2C%5Cn%20%20%20%20%20%2A%20without%20understanding%20the%20underlying%20token%20implementation.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20approvalRequired%28%29%20external%20view%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Retrieves%20the%20shared%20decimals%20of%20the%20OFT.%5Cn%20%20%20%20%20%2A%20%40return%20sharedDecimals%20The%20shared%20decimals%20of%20the%20OFT.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20sharedDecimals%28%29%20external%20view%20returns%20%28uint8%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Provides%20a%20quote%20for%20OFT-related%20operations.%5Cn%20%20%20%20%20%2A%20%40param%20_sendParam%20The%20parameters%20for%20the%20send%20operation.%5Cn%20%20%20%20%20%2A%20%40return%20limit%20The%20OFT%20limit%20information.%5Cn%20%20%20%20%20%2A%20%40return%20oftFeeDetails%20The%20details%20of%20OFT%20fees.%5Cn%20%20%20%20%20%2A%20%40return%20receipt%20The%20OFT%20receipt%20information.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20quoteOFT%28%5Cn%20%20%20%20%20%20%20%20SendParam%20calldata%20_sendParam%5Cn%20%20%20%20%29%20external%20view%20returns%20%28OFTLimit%20memory%2C%20OFTFeeDetail%5B%5D%20memory%20oftFeeDetails%2C%20OFTReceipt%20memory%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Provides%20a%20quote%20for%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_sendParam%20The%20parameters%20for%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_payInLzToken%20Flag%20indicating%20whether%20the%20caller%20is%20paying%20in%20the%20LZ%20token.%5Cn%20%20%20%20%20%2A%20%40return%20fee%20The%20calculated%20LayerZero%20messaging%20fee%20from%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20MessagingFee%3A%20LayerZero%20msg%20fee%5Cn%20%20%20%20%20%2A%20%20-%20nativeFee%3A%20The%20native%20fee.%5Cn%20%20%20%20%20%2A%20%20-%20lzTokenFee%3A%20The%20lzToken%20fee.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20quoteSend%28SendParam%20calldata%20_sendParam%2C%20bool%20_payInLzToken%29%20external%20view%20returns%20%28MessagingFee%20memory%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40notice%20Executes%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_sendParam%20The%20parameters%20for%20the%20send%20operation.%5Cn%20%20%20%20%20%2A%20%40param%20_fee%20The%20fee%20information%20supplied%20by%20the%20caller.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20nativeFee%3A%20The%20native%20fee.%5Cn%20%20%20%20%20%2A%20%20%20%20%20%20-%20lzTokenFee%3A%20The%20lzToken%20fee.%5Cn%20%20%20%20%20%2A%20%40param%20_refundAddress%20The%20address%20to%20receive%20any%20excess%20funds%20from%20fees%20etc.%20on%20the%20src.%5Cn%20%20%20%20%20%2A%20%40return%20receipt%20The%20LayerZero%20messaging%20receipt%20from%20the%20send%28%29%20operation.%5Cn%20%20%20%20%20%2A%20%40return%20oftReceipt%20The%20OFT%20receipt%20information.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20MessagingReceipt%3A%20LayerZero%20msg%20receipt%5Cn%20%20%20%20%20%2A%20%20-%20guid%3A%20The%20unique%20identifier%20for%20the%20sent%20message.%5Cn%20%20%20%20%20%2A%20%20-%20nonce%3A%20The%20nonce%20of%20the%20sent%20message.%5Cn%20%20%20%20%20%2A%20%20-%20fee%3A%20The%20LayerZero%20fee%20incurred%20for%20the%20message.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20send%28%5Cn%20%20%20%20%20%20%20%20SendParam%20calldata%20_sendParam%2C%5Cn%20%20%20%20%20%20%20%20MessagingFee%20calldata%20_fee%2C%5Cn%20%20%20%20%20%20%20%20address%20_refundAddress%5Cn%20%20%20%20%29%20external%20payable%20returns%20%28MessagingReceipt%20memory%2C%20OFTReceipt%20memory%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foft%2Flibs%2FOFTComposeMsgCodec.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnlibrary%20OFTComposeMsgCodec%20%7B%5Cn%20%20%20%20%2F%2F%20Offset%20constants%20for%20decoding%20composed%20messages%5Cn%20%20%20%20uint8%20private%20constant%20NONCE_OFFSET%20%3D%208%3B%5Cn%20%20%20%20uint8%20private%20constant%20SRC_EID_OFFSET%20%3D%2012%3B%5Cn%20%20%20%20uint8%20private%20constant%20AMOUNT_LD_OFFSET%20%3D%2044%3B%5Cn%20%20%20%20uint8%20private%20constant%20COMPOSE_FROM_OFFSET%20%3D%2076%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Encodes%20a%20OFT%20composed%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_nonce%20The%20nonce%20value.%5Cn%20%20%20%20%20%2A%20%40param%20_srcEid%20The%20source%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%40param%20_amountLD%20The%20amount%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%20%40param%20_composeMsg%20The%20composed%20message.%5Cn%20%20%20%20%20%2A%20%40return%20_msg%20The%20encoded%20Composed%20message.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20encode%28%5Cn%20%20%20%20%20%20%20%20uint64%20_nonce%2C%5Cn%20%20%20%20%20%20%20%20uint32%20_srcEid%2C%5Cn%20%20%20%20%20%20%20%20uint256%20_amountLD%2C%5Cn%20%20%20%20%20%20%20%20bytes%20memory%20_composeMsg%20%2F%2F%200x%5BcomposeFrom%5D%5BcomposeMsg%5D%5Cn%20%20%20%20%29%20internal%20pure%20returns%20%28bytes%20memory%20_msg%29%20%7B%5Cn%20%20%20%20%20%20%20%20_msg%20%3D%20abi.encodePacked%28_nonce%2C%20_srcEid%2C%20_amountLD%2C%20_composeMsg%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20nonce%20from%20the%20composed%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_msg%20The%20message.%5Cn%20%20%20%20%20%2A%20%40return%20The%20nonce%20value.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20nonce%28bytes%20calldata%20_msg%29%20internal%20pure%20returns%20%28uint64%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20uint64%28bytes8%28_msg%5B%3ANONCE_OFFSET%5D%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20source%20endpoint%20ID%20from%20the%20composed%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_msg%20The%20message.%5Cn%20%20%20%20%20%2A%20%40return%20The%20source%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20srcEid%28bytes%20calldata%20_msg%29%20internal%20pure%20returns%20%28uint32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20uint32%28bytes4%28_msg%5BNONCE_OFFSET%3ASRC_EID_OFFSET%5D%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20amount%20in%20local%20decimals%20from%20the%20composed%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_msg%20The%20message.%5Cn%20%20%20%20%20%2A%20%40return%20The%20amount%20in%20local%20decimals.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20amountLD%28bytes%20calldata%20_msg%29%20internal%20pure%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20uint256%28bytes32%28_msg%5BSRC_EID_OFFSET%3AAMOUNT_LD_OFFSET%5D%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20composeFrom%20value%20from%20the%20composed%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_msg%20The%20message.%5Cn%20%20%20%20%20%2A%20%40return%20The%20composeFrom%20value.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20composeFrom%28bytes%20calldata%20_msg%29%20internal%20pure%20returns%20%28bytes32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20bytes32%28_msg%5BAMOUNT_LD_OFFSET%3ACOMPOSE_FROM_OFFSET%5D%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20composed%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_msg%20The%20message.%5Cn%20%20%20%20%20%2A%20%40return%20The%20composed%20message.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20composeMsg%28bytes%20calldata%20_msg%29%20internal%20pure%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_msg%5BCOMPOSE_FROM_OFFSET%3A%5D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Converts%20an%20address%20to%20bytes32.%5Cn%20%20%20%20%20%2A%20%40param%20_addr%20The%20address%20to%20convert.%5Cn%20%20%20%20%20%2A%20%40return%20The%20bytes32%20representation%20of%20the%20address.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20addressToBytes32%28address%20_addr%29%20internal%20pure%20returns%20%28bytes32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20bytes32%28uint256%28uint160%28_addr%29%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Converts%20bytes32%20to%20an%20address.%5Cn%20%20%20%20%20%2A%20%40param%20_b%20The%20bytes32%20value%20to%20convert.%5Cn%20%20%20%20%20%2A%20%40return%20The%20address%20representation%20of%20bytes32.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20bytes32ToAddress%28bytes32%20_b%29%20internal%20pure%20returns%20%28address%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20address%28uint160%28uint256%28_b%29%29%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foft%2Flibs%2FOFTMsgCodec.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnlibrary%20OFTMsgCodec%20%7B%5Cn%20%20%20%20%2F%2F%20Offset%20constants%20for%20encoding%20and%20decoding%20OFT%20messages%5Cn%20%20%20%20uint8%20private%20constant%20SEND_TO_OFFSET%20%3D%2032%3B%5Cn%20%20%20%20uint8%20private%20constant%20SEND_AMOUNT_SD_OFFSET%20%3D%2040%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Encodes%20an%20OFT%20LayerZero%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_sendTo%20The%20recipient%20address.%5Cn%20%20%20%20%20%2A%20%40param%20_amountShared%20The%20amount%20in%20shared%20decimals.%5Cn%20%20%20%20%20%2A%20%40param%20_composeMsg%20The%20composed%20message.%5Cn%20%20%20%20%20%2A%20%40return%20_msg%20The%20encoded%20message.%5Cn%20%20%20%20%20%2A%20%40return%20hasCompose%20A%20boolean%20indicating%20whether%20the%20message%20has%20a%20composed%20payload.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20encode%28%5Cn%20%20%20%20%20%20%20%20bytes32%20_sendTo%2C%5Cn%20%20%20%20%20%20%20%20uint64%20_amountShared%2C%5Cn%20%20%20%20%20%20%20%20bytes%20memory%20_composeMsg%5Cn%20%20%20%20%29%20internal%20view%20returns%20%28bytes%20memory%20_msg%2C%20bool%20hasCompose%29%20%7B%5Cn%20%20%20%20%20%20%20%20hasCompose%20%3D%20_composeMsg.length%20%3E%200%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Remote%20chains%20will%20want%20to%20know%20the%20composed%20function%20caller%20ie.%20msg.sender%20on%20the%20src.%5Cn%20%20%20%20%20%20%20%20_msg%20%3D%20hasCompose%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3F%20abi.encodePacked%28_sendTo%2C%20_amountShared%2C%20addressToBytes32%28msg.sender%29%2C%20_composeMsg%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3A%20abi.encodePacked%28_sendTo%2C%20_amountShared%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Checks%20if%20the%20OFT%20message%20is%20composed.%5Cn%20%20%20%20%20%2A%20%40param%20_msg%20The%20OFT%20message.%5Cn%20%20%20%20%20%2A%20%40return%20A%20boolean%20indicating%20whether%20the%20message%20is%20composed.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20isComposed%28bytes%20calldata%20_msg%29%20internal%20pure%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_msg.length%20%3E%20SEND_AMOUNT_SD_OFFSET%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20recipient%20address%20from%20the%20OFT%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_msg%20The%20OFT%20message.%5Cn%20%20%20%20%20%2A%20%40return%20The%20recipient%20address.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20sendTo%28bytes%20calldata%20_msg%29%20internal%20pure%20returns%20%28bytes32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20bytes32%28_msg%5B%3ASEND_TO_OFFSET%5D%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20amount%20in%20shared%20decimals%20from%20the%20OFT%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_msg%20The%20OFT%20message.%5Cn%20%20%20%20%20%2A%20%40return%20The%20amount%20in%20shared%20decimals.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20amountSD%28bytes%20calldata%20_msg%29%20internal%20pure%20returns%20%28uint64%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20uint64%28bytes8%28_msg%5BSEND_TO_OFFSET%3ASEND_AMOUNT_SD_OFFSET%5D%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20composed%20message%20from%20the%20OFT%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_msg%20The%20OFT%20message.%5Cn%20%20%20%20%20%2A%20%40return%20The%20composed%20message.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20composeMsg%28bytes%20calldata%20_msg%29%20internal%20pure%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_msg%5BSEND_AMOUNT_SD_OFFSET%3A%5D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Converts%20an%20address%20to%20bytes32.%5Cn%20%20%20%20%20%2A%20%40param%20_addr%20The%20address%20to%20convert.%5Cn%20%20%20%20%20%2A%20%40return%20The%20bytes32%20representation%20of%20the%20address.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20addressToBytes32%28address%20_addr%29%20internal%20pure%20returns%20%28bytes32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20bytes32%28uint256%28uint160%28_addr%29%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Converts%20bytes32%20to%20an%20address.%5Cn%20%20%20%20%20%2A%20%40param%20_b%20The%20bytes32%20value%20to%20convert.%5Cn%20%20%20%20%20%2A%20%40return%20The%20address%20representation%20of%20bytes32.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20bytes32ToAddress%28bytes32%20_b%29%20internal%20pure%20returns%20%28address%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20address%28uint160%28uint256%28_b%29%29%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Fprecrime%2FOAppPreCrimeSimulator.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20Ownable%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Faccess%2FOwnable.sol%5C%22%3B%5Cnimport%20%7B%20IPreCrime%20%7D%20from%20%5C%22.%2Finterfaces%2FIPreCrime.sol%5C%22%3B%5Cnimport%20%7B%20IOAppPreCrimeSimulator%2C%20CreditPacket%2C%20Origin%20%7D%20from%20%5C%22.%2Finterfaces%2FIOAppPreCrimeSimulator.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20OAppPreCrimeSimulator%5Cn%20%2A%20%40dev%20Abstract%20contract%20serving%20as%20the%20base%20for%20preCrime%20simulation%20functionality%20in%20an%20OApp.%5Cn%20%2A%2F%5Cnabstract%20contract%20OAppPreCrimeSimulator%20is%20IOAppPreCrimeSimulator%2C%20Ownable%20%7B%5Cn%20%20%20%20%2F%2F%20The%20address%20of%20the%20preCrime%20implementation.%5Cn%20%20%20%20address%20public%20preCrime%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20address%20of%20the%20OApp%20contract.%5Cn%20%20%20%20%20%2A%20%40return%20The%20address%20of%20the%20OApp%20contract.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20The%20simulator%20contract%20is%20the%20base%20contract%20for%20the%20OApp%20by%20default.%5Cn%20%20%20%20%20%2A%20%40dev%20If%20the%20simulator%20is%20a%20separate%20contract%2C%20override%20this%20function.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20oApp%28%29%20external%20view%20virtual%20returns%20%28address%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20address%28this%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20the%20preCrime%20contract%20address.%5Cn%20%20%20%20%20%2A%20%40param%20_preCrime%20The%20address%20of%20the%20preCrime%20contract.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20setPreCrime%28address%20_preCrime%29%20public%20virtual%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20preCrime%20%3D%20_preCrime%3B%5Cn%20%20%20%20%20%20%20%20emit%20PreCrimeSet%28_preCrime%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Interface%20for%20pre-crime%20simulations.%20Always%20reverts%20at%20the%20end%20with%20the%20simulation%20results.%5Cn%20%20%20%20%20%2A%20%40param%20_packets%20An%20array%20of%20CreditPacket%20objects%20representing%20received%20packets%20to%20be%20delivered.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20WARNING%3A%20MUST%20revert%20at%20the%20end%20with%20the%20simulation%20results.%5Cn%20%20%20%20%20%2A%20%40dev%20Gives%20the%20preCrime%20implementation%20the%20ability%20to%20mock%20sending%20packets%20to%20the%20lzReceive%20function%2C%5Cn%20%20%20%20%20%2A%20WITHOUT%20actually%20executing%20them.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20lzReceiveAndRevert%28CreditPacket%5B%5D%20calldata%20_packets%29%20public%20payable%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20for%20%28uint256%20i%20%3D%200%3B%20i%20%3C%20_packets.length%3B%20i%2B%2B%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20CreditPacket%20calldata%20packet%20%3D%20_packets%5Bi%5D%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Ignore%20packets%20that%20are%20not%20from%20trusted%20peers.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isPeer%28packet.origin.srcEid%2C%20packet.origin.sender%29%29%20continue%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Because%20a%20verifier%20is%20calling%20this%20function%2C%20it%20doesnt%20have%20access%20to%20executor%20params%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20-%20address%20_executor%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20-%20bytes%20calldata%20_extraData%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20preCrime%20will%20NOT%20work%20for%20OApps%20that%20rely%20on%20these%20two%20parameters%20inside%20of%20their%20_lzReceive%28%29.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20They%20are%20instead%20stubbed%20to%20default%20values%2C%20address%280%29%20and%20bytes%28%5C%22%5C%22%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Calling%20this.lzReceiveSimulate%20removes%20ability%20for%20assembly%20return%200%20callstack%20exit%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20which%20would%20cause%20the%20revert%20to%20be%20ignored.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20this.lzReceiveSimulate%7B%20value%3A%20packet.value%20%7D%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20packet.origin%2C%20packet.guid%2C%20packet.message%2C%20packet.executor%2C%20packet.extraData%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Revert%20with%20the%20simulation%20results.%20msg.sender%20must%20implement%20IPreCrime.buildSimulationResult%28%29.%5Cn%20%20%20%20%20%20%20%20revert%20SimulationResult%28IPreCrime%28msg.sender%29.buildSimulationResult%28%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Is%20effectively%20an%20internal%20function%20because%20msg.sender%20must%20be%20address%28this%29.%5Cn%20%20%20%20%20%2A%20Allows%20resetting%20the%20call%20stack%20for%20%27internal%27%20calls.%5Cn%20%20%20%20%20%2A%20%40param%20_origin%20The%20origin%20information%20containing%20the%20source%20endpoint%20and%20sender%20address.%5Cn%20%20%20%20%20%2A%20%20-%20srcEid%3A%20The%20source%20chain%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%20-%20sender%3A%20The%20sender%20address%20on%20the%20src%20chain.%5Cn%20%20%20%20%20%2A%20%20-%20nonce%3A%20The%20nonce%20of%20the%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_guid%20The%20unique%20identifier%20of%20the%20packet.%5Cn%20%20%20%20%20%2A%20%40param%20_message%20The%20message%20payload%20of%20the%20packet.%5Cn%20%20%20%20%20%2A%20%40param%20_executor%20The%20executor%20address%20for%20the%20packet.%5Cn%20%20%20%20%20%2A%20%40param%20_extraData%20Additional%20data%20for%20the%20packet.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20lzReceiveSimulate%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20_origin%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20address%20_executor%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_extraData%5Cn%20%20%20%20%29%20external%20payable%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Ensure%20ONLY%20can%20be%20called%20%27internally%27.%5Cn%20%20%20%20%20%20%20%20if%20%28msg.sender%20%21%3D%20address%28this%29%29%20revert%20OnlySelf%28%29%3B%5Cn%20%20%20%20%20%20%20%20_lzReceiveSimulate%28_origin%2C%20_guid%2C%20_message%2C%20_executor%2C%20_extraData%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Internal%20function%20to%20handle%20the%20OAppPreCrimeSimulator%20simulated%20receive.%5Cn%20%20%20%20%20%2A%20%40param%20_origin%20The%20origin%20information.%5Cn%20%20%20%20%20%2A%20%20-%20srcEid%3A%20The%20source%20chain%20endpoint%20ID.%5Cn%20%20%20%20%20%2A%20%20-%20sender%3A%20The%20sender%20address%20from%20the%20src%20chain.%5Cn%20%20%20%20%20%2A%20%20-%20nonce%3A%20The%20nonce%20of%20the%20LayerZero%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_guid%20The%20GUID%20of%20the%20LayerZero%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_message%20The%20LayerZero%20message.%5Cn%20%20%20%20%20%2A%20%40param%20_executor%20The%20address%20of%20the%20off-chain%20executor.%5Cn%20%20%20%20%20%2A%20%40param%20_extraData%20Arbitrary%20data%20passed%20by%20the%20msg%20executor.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Enables%20the%20preCrime%20simulator%20to%20mock%20sending%20lzReceive%28%29%20messages%2C%5Cn%20%20%20%20%20%2A%20routes%20the%20msg%20down%20from%20the%20OAppPreCrimeSimulator%2C%20and%20back%20up%20to%20the%20OAppReceiver.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_lzReceiveSimulate%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20_origin%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20address%20_executor%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_extraData%5Cn%20%20%20%20%29%20internal%20virtual%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20checks%20if%20the%20specified%20peer%20is%20considered%20%27trusted%27%20by%20the%20OApp.%5Cn%20%20%20%20%20%2A%20%40param%20_eid%20The%20endpoint%20Id%20to%20check.%5Cn%20%20%20%20%20%2A%20%40param%20_peer%20The%20peer%20to%20check.%5Cn%20%20%20%20%20%2A%20%40return%20Whether%20the%20peer%20passed%20is%20considered%20%27trusted%27%20by%20the%20OApp.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20isPeer%28uint32%20_eid%2C%20bytes32%20_peer%29%20public%20view%20virtual%20returns%20%28bool%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Fprecrime%2Finterfaces%2FIOAppPreCrimeSimulator.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cn%2F%2F%20%40dev%20Import%20the%20Origin%20so%20it%27s%20exposed%20to%20OAppPreCrimeSimulator%20implementers.%5Cn%2F%2F%20solhint-disable-next-line%20no-unused-import%5Cnimport%20%7B%20CreditPacket%2C%20Origin%20%7D%20from%20%5C%22..%2Flibs%2FPacket.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20IOAppPreCrimeSimulator%20Interface%5Cn%20%2A%20%40dev%20Interface%20for%20the%20preCrime%20simulation%20functionality%20in%20an%20OApp.%5Cn%20%2A%2F%5Cninterface%20IOAppPreCrimeSimulator%20%7B%5Cn%20%20%20%20%2F%2F%20%40dev%20simulation%20result%20used%20in%20PreCrime%20implementation%5Cn%20%20%20%20error%20SimulationResult%28bytes%20result%29%3B%5Cn%20%20%20%20error%20OnlySelf%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Emitted%20when%20the%20preCrime%20contract%20address%20is%20set.%5Cn%20%20%20%20%20%2A%20%40param%20preCrimeAddress%20The%20address%20of%20the%20preCrime%20contract.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20event%20PreCrimeSet%28address%20preCrimeAddress%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20address%20of%20the%20preCrime%20contract%20implementation.%5Cn%20%20%20%20%20%2A%20%40return%20The%20address%20of%20the%20preCrime%20contract.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20preCrime%28%29%20external%20view%20returns%20%28address%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Retrieves%20the%20address%20of%20the%20OApp%20contract.%5Cn%20%20%20%20%20%2A%20%40return%20The%20address%20of%20the%20OApp%20contract.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20oApp%28%29%20external%20view%20returns%20%28address%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20the%20preCrime%20contract%20address.%5Cn%20%20%20%20%20%2A%20%40param%20_preCrime%20The%20address%20of%20the%20preCrime%20contract.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20setPreCrime%28address%20_preCrime%29%20external%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Mocks%20receiving%20a%20packet%2C%20then%20reverts%20with%20a%20series%20of%20data%20to%20infer%20the%20state%2Fresult.%5Cn%20%20%20%20%20%2A%20%40param%20_packets%20An%20array%20of%20LayerZero%20CreditPacket%20objects%20representing%20received%20packets.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20lzReceiveAndRevert%28CreditPacket%5B%5D%20calldata%20_packets%29%20external%20payable%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20checks%20if%20the%20specified%20peer%20is%20considered%20%27trusted%27%20by%20the%20OApp.%5Cn%20%20%20%20%20%2A%20%40param%20_eid%20The%20endpoint%20Id%20to%20check.%5Cn%20%20%20%20%20%2A%20%40param%20_peer%20The%20peer%20to%20check.%5Cn%20%20%20%20%20%2A%20%40return%20Whether%20the%20peer%20passed%20is%20considered%20%27trusted%27%20by%20the%20OApp.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20isPeer%28uint32%20_eid%2C%20bytes32%20_peer%29%20external%20view%20returns%20%28bool%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Fprecrime%2Finterfaces%2FIPreCrime.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cnstruct%20PreCrimePeer%20%7B%5Cn%20%20%20%20uint32%20eid%3B%5Cn%20%20%20%20bytes32%20preCrime%3B%5Cn%20%20%20%20bytes32%20oApp%3B%5Cn%7D%5Cn%5Cn%2F%2F%20TODO%20not%20done%20yet%5Cninterface%20IPreCrime%20%7B%5Cn%20%20%20%20error%20OnlyOffChain%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%20for%20simulate%28%29%5Cn%20%20%20%20error%20PacketOversize%28uint256%20max%2C%20uint256%20actual%29%3B%5Cn%20%20%20%20error%20PacketUnsorted%28%29%3B%5Cn%20%20%20%20error%20SimulationFailed%28bytes%20reason%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%20for%20preCrime%28%29%5Cn%20%20%20%20error%20SimulationResultNotFound%28uint32%20eid%29%3B%5Cn%20%20%20%20error%20InvalidSimulationResult%28uint32%20eid%2C%20bytes%20reason%29%3B%5Cn%20%20%20%20error%20CrimeFound%28bytes%20crime%29%3B%5Cn%5Cn%20%20%20%20function%20getConfig%28bytes%5B%5D%20calldata%20_packets%2C%20uint256%5B%5D%20calldata%20_packetMsgValues%29%20external%20returns%20%28bytes%20memory%29%3B%5Cn%5Cn%20%20%20%20function%20simulate%28%5Cn%20%20%20%20%20%20%20%20bytes%5B%5D%20calldata%20_packets%2C%5Cn%20%20%20%20%20%20%20%20uint256%5B%5D%20calldata%20_packetMsgValues%5Cn%20%20%20%20%29%20external%20payable%20returns%20%28bytes%20memory%29%3B%5Cn%5Cn%20%20%20%20function%20buildSimulationResult%28%29%20external%20view%20returns%20%28bytes%20memory%29%3B%5Cn%5Cn%20%20%20%20function%20preCrime%28%5Cn%20%20%20%20%20%20%20%20bytes%5B%5D%20calldata%20_packets%2C%5Cn%20%20%20%20%20%20%20%20uint256%5B%5D%20calldata%20_packetMsgValues%2C%5Cn%20%20%20%20%20%20%20%20bytes%5B%5D%20calldata%20_simulations%5Cn%20%20%20%20%29%20external%3B%5Cn%5Cn%20%20%20%20function%20version%28%29%20external%20view%20returns%20%28uint64%20major%2C%20uint8%20minor%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Fprecrime%2Flibs%2FPacket.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20Origin%20%7D%20from%20%5C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FILayerZeroEndpointV2.sol%5C%22%3B%5Cnimport%20%7B%20PacketV1Codec%20%7D%20from%20%5C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Fmessagelib%2Flibs%2FPacketV1Codec.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20CreditPacket%5Cn%20%2A%20%40dev%20Structure%20representing%20an%20inbound%20packet%20received%20by%20the%20contract.%5Cn%20%2A%2F%5Cnstruct%20CreditPacket%20%7B%5Cn%20%20%20%20Origin%20origin%3B%20%2F%2F%20Origin%20information%20of%20the%20packet.%5Cn%20%20%20%20uint32%20dstEid%3B%20%2F%2F%20Destination%20endpointId%20of%20the%20packet.%5Cn%20%20%20%20address%20receiver%3B%20%2F%2F%20Receiver%20address%20for%20the%20packet.%5Cn%20%20%20%20bytes32%20guid%3B%20%2F%2F%20Unique%20identifier%20of%20the%20packet.%5Cn%20%20%20%20uint256%20value%3B%20%2F%2F%20msg.value%20of%20the%20packet.%5Cn%20%20%20%20address%20executor%3B%20%2F%2F%20Executor%20address%20for%20the%20packet.%5Cn%20%20%20%20bytes%20message%3B%20%2F%2F%20Message%20payload%20of%20the%20packet.%5Cn%20%20%20%20bytes%20extraData%3B%20%2F%2F%20Additional%20arbitrary%20data%20for%20the%20packet.%5Cn%7D%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20PacketDecoder%5Cn%20%2A%20%40dev%20Library%20for%20decoding%20LayerZero%20packets.%5Cn%20%2A%2F%5Cnlibrary%20PacketDecoder%20%7B%5Cn%20%20%20%20using%20PacketV1Codec%20for%20bytes%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Decode%20an%20inbound%20packet%20from%20the%20given%20packet%20data.%5Cn%20%20%20%20%20%2A%20%40param%20_packet%20The%20packet%20data%20to%20decode.%5Cn%20%20%20%20%20%2A%20%40return%20packet%20An%20CreditPacket%20struct%20representing%20the%20decoded%20packet.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20decode%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28CreditPacket%20memory%20packet%29%20%7B%5Cn%20%20%20%20%20%20%20%20packet.origin%20%3D%20Origin%28_packet.srcEid%28%29%2C%20_packet.sender%28%29%2C%20_packet.nonce%28%29%29%3B%5Cn%20%20%20%20%20%20%20%20packet.dstEid%20%3D%20_packet.dstEid%28%29%3B%5Cn%20%20%20%20%20%20%20%20packet.receiver%20%3D%20_packet.receiverB20%28%29%3B%5Cn%20%20%20%20%20%20%20%20packet.guid%20%3D%20_packet.guid%28%29%3B%5Cn%20%20%20%20%20%20%20%20packet.message%20%3D%20_packet.message%28%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Decode%20multiple%20inbound%20packets%20from%20the%20given%20packet%20data%20and%20associated%20message%20values.%5Cn%20%20%20%20%20%2A%20%40param%20_packets%20An%20array%20of%20packet%20data%20to%20decode.%5Cn%20%20%20%20%20%2A%20%40param%20_packetMsgValues%20An%20array%20of%20associated%20message%20values%20for%20each%20packet.%5Cn%20%20%20%20%20%2A%20%40return%20packets%20An%20array%20of%20CreditPacket%20structs%20representing%20the%20decoded%20packets.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20decode%28bytes%5B%5D%20calldata%20_packets%2C%20uint256%5B%5D%20memory%20_packetMsgValues%29%5Cn%20%20%20%20%20%20%20%20internal%5Cn%20%20%20%20%20%20%20%20pure%5Cn%20%20%20%20%20%20%20%20returns%20%28CreditPacket%5B%5D%20memory%20packets%29%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20packets%20%3D%20new%20CreditPacket%5B%5D%28_packets.length%29%3B%5Cn%20%20%20%20%20%20%20%20for%20%28uint256%20i%20%3D%200%3B%20i%20%3C%20_packets.length%3B%20i%2B%2B%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20bytes%20calldata%20packet%20%3D%20_packets%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20packets%5Bi%5D%20%3D%20PacketDecoder.decode%28packet%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Allows%20the%20verifier%20to%20specify%20the%20msg.value%20that%20gets%20passed%20in%20lzReceive.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20packets%5Bi%5D.value%20%3D%20_packetMsgValues%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FILayerZeroEndpointV2.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%3E%3D0.8.0%3B%5Cn%5Cnimport%20%7B%20IMessageLibManager%20%7D%20from%20%5C%22.%2FIMessageLibManager.sol%5C%22%3B%5Cnimport%20%7B%20IMessagingComposer%20%7D%20from%20%5C%22.%2FIMessagingComposer.sol%5C%22%3B%5Cnimport%20%7B%20IMessagingChannel%20%7D%20from%20%5C%22.%2FIMessagingChannel.sol%5C%22%3B%5Cnimport%20%7B%20IMessagingContext%20%7D%20from%20%5C%22.%2FIMessagingContext.sol%5C%22%3B%5Cn%5Cnstruct%20MessagingParams%20%7B%5Cn%20%20%20%20uint32%20dstEid%3B%5Cn%20%20%20%20bytes32%20receiver%3B%5Cn%20%20%20%20bytes%20message%3B%5Cn%20%20%20%20bytes%20options%3B%5Cn%20%20%20%20bool%20payInLzToken%3B%5Cn%7D%5Cn%5Cnstruct%20MessagingReceipt%20%7B%5Cn%20%20%20%20bytes32%20guid%3B%5Cn%20%20%20%20uint64%20nonce%3B%5Cn%20%20%20%20MessagingFee%20fee%3B%5Cn%7D%5Cn%5Cnstruct%20MessagingFee%20%7B%5Cn%20%20%20%20uint256%20nativeFee%3B%5Cn%20%20%20%20uint256%20lzTokenFee%3B%5Cn%7D%5Cn%5Cnstruct%20Origin%20%7B%5Cn%20%20%20%20uint32%20srcEid%3B%5Cn%20%20%20%20bytes32%20sender%3B%5Cn%20%20%20%20uint64%20nonce%3B%5Cn%7D%5Cn%5Cninterface%20ILayerZeroEndpointV2%20is%20IMessageLibManager%2C%20IMessagingComposer%2C%20IMessagingChannel%2C%20IMessagingContext%20%7B%5Cn%20%20%20%20event%20PacketSent%28bytes%20encodedPayload%2C%20bytes%20options%2C%20address%20sendLibrary%29%3B%5Cn%5Cn%20%20%20%20event%20PacketVerified%28Origin%20origin%2C%20address%20receiver%2C%20bytes32%20payloadHash%29%3B%5Cn%5Cn%20%20%20%20event%20PacketDelivered%28Origin%20origin%2C%20address%20receiver%29%3B%5Cn%5Cn%20%20%20%20event%20LzReceiveAlert%28%5Cn%20%20%20%20%20%20%20%20address%20indexed%20receiver%2C%5Cn%20%20%20%20%20%20%20%20address%20indexed%20executor%2C%5Cn%20%20%20%20%20%20%20%20Origin%20origin%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20guid%2C%5Cn%20%20%20%20%20%20%20%20uint256%20gas%2C%5Cn%20%20%20%20%20%20%20%20uint256%20value%2C%5Cn%20%20%20%20%20%20%20%20bytes%20message%2C%5Cn%20%20%20%20%20%20%20%20bytes%20extraData%2C%5Cn%20%20%20%20%20%20%20%20bytes%20reason%5Cn%20%20%20%20%29%3B%5Cn%5Cn%20%20%20%20event%20LzTokenSet%28address%20token%29%3B%5Cn%5Cn%20%20%20%20event%20DelegateSet%28address%20sender%2C%20address%20delegate%29%3B%5Cn%5Cn%20%20%20%20function%20quote%28MessagingParams%20calldata%20_params%2C%20address%20_sender%29%20external%20view%20returns%20%28MessagingFee%20memory%29%3B%5Cn%5Cn%20%20%20%20function%20send%28%5Cn%20%20%20%20%20%20%20%20MessagingParams%20calldata%20_params%2C%5Cn%20%20%20%20%20%20%20%20address%20_refundAddress%5Cn%20%20%20%20%29%20external%20payable%20returns%20%28MessagingReceipt%20memory%29%3B%5Cn%5Cn%20%20%20%20function%20verify%28Origin%20calldata%20_origin%2C%20address%20_receiver%2C%20bytes32%20_payloadHash%29%20external%3B%5Cn%5Cn%20%20%20%20function%20verifiable%28Origin%20calldata%20_origin%2C%20address%20_receiver%29%20external%20view%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20function%20initializable%28Origin%20calldata%20_origin%2C%20address%20_receiver%29%20external%20view%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20function%20lzReceive%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20_origin%2C%5Cn%20%20%20%20%20%20%20%20address%20_receiver%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_extraData%5Cn%20%20%20%20%29%20external%20payable%3B%5Cn%5Cn%20%20%20%20%2F%2F%20oapp%20can%20burn%20messages%20partially%20by%20calling%20this%20function%20with%20its%20own%20business%20logic%20if%20messages%20are%20verified%20in%20order%5Cn%20%20%20%20function%20clear%28address%20_oapp%2C%20Origin%20calldata%20_origin%2C%20bytes32%20_guid%2C%20bytes%20calldata%20_message%29%20external%3B%5Cn%5Cn%20%20%20%20function%20setLzToken%28address%20_lzToken%29%20external%3B%5Cn%5Cn%20%20%20%20function%20lzToken%28%29%20external%20view%20returns%20%28address%29%3B%5Cn%5Cn%20%20%20%20function%20nativeToken%28%29%20external%20view%20returns%20%28address%29%3B%5Cn%5Cn%20%20%20%20function%20setDelegate%28address%20_delegate%29%20external%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FILayerZeroReceiver.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%3E%3D0.8.0%3B%5Cn%5Cnimport%20%7B%20Origin%20%7D%20from%20%5C%22.%2FILayerZeroEndpointV2.sol%5C%22%3B%5Cn%5Cninterface%20ILayerZeroReceiver%20%7B%5Cn%20%20%20%20function%20allowInitializePath%28Origin%20calldata%20_origin%29%20external%20view%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20function%20nextNonce%28uint32%20_eid%2C%20bytes32%20_sender%29%20external%20view%20returns%20%28uint64%29%3B%5Cn%5Cn%20%20%20%20function%20lzReceive%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20_origin%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20address%20_executor%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_extraData%5Cn%20%20%20%20%29%20external%20payable%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FIMessageLib.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%3E%3D0.8.0%3B%5Cn%5Cnimport%20%7B%20IERC165%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Futils%2Fintrospection%2FIERC165.sol%5C%22%3B%5Cn%5Cnimport%20%7B%20SetConfigParam%20%7D%20from%20%5C%22.%2FIMessageLibManager.sol%5C%22%3B%5Cn%5Cnenum%20MessageLibType%20%7B%5Cn%20%20%20%20Send%2C%5Cn%20%20%20%20Receive%2C%5Cn%20%20%20%20SendAndReceive%5Cn%7D%5Cn%5Cninterface%20IMessageLib%20is%20IERC165%20%7B%5Cn%20%20%20%20function%20setConfig%28address%20_oapp%2C%20SetConfigParam%5B%5D%20calldata%20_config%29%20external%3B%5Cn%5Cn%20%20%20%20function%20getConfig%28uint32%20_eid%2C%20address%20_oapp%2C%20uint32%20_configType%29%20external%20view%20returns%20%28bytes%20memory%20config%29%3B%5Cn%5Cn%20%20%20%20function%20isSupportedEid%28uint32%20_eid%29%20external%20view%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%20message%20libs%20of%20same%20major%20version%20are%20compatible%5Cn%20%20%20%20function%20version%28%29%20external%20view%20returns%20%28uint64%20major%2C%20uint8%20minor%2C%20uint8%20endpointVersion%29%3B%5Cn%5Cn%20%20%20%20function%20messageLibType%28%29%20external%20view%20returns%20%28MessageLibType%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FIMessageLibManager.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%3E%3D0.8.0%3B%5Cn%5Cnstruct%20SetConfigParam%20%7B%5Cn%20%20%20%20uint32%20eid%3B%5Cn%20%20%20%20uint32%20configType%3B%5Cn%20%20%20%20bytes%20config%3B%5Cn%7D%5Cn%5Cninterface%20IMessageLibManager%20%7B%5Cn%20%20%20%20struct%20Timeout%20%7B%5Cn%20%20%20%20%20%20%20%20address%20lib%3B%5Cn%20%20%20%20%20%20%20%20uint256%20expiry%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20event%20LibraryRegistered%28address%20newLib%29%3B%5Cn%20%20%20%20event%20DefaultSendLibrarySet%28uint32%20eid%2C%20address%20newLib%29%3B%5Cn%20%20%20%20event%20DefaultReceiveLibrarySet%28uint32%20eid%2C%20address%20newLib%29%3B%5Cn%20%20%20%20event%20DefaultReceiveLibraryTimeoutSet%28uint32%20eid%2C%20address%20oldLib%2C%20uint256%20expiry%29%3B%5Cn%20%20%20%20event%20SendLibrarySet%28address%20sender%2C%20uint32%20eid%2C%20address%20newLib%29%3B%5Cn%20%20%20%20event%20ReceiveLibrarySet%28address%20receiver%2C%20uint32%20eid%2C%20address%20newLib%29%3B%5Cn%20%20%20%20event%20ReceiveLibraryTimeoutSet%28address%20receiver%2C%20uint32%20eid%2C%20address%20oldLib%2C%20uint256%20timeout%29%3B%5Cn%5Cn%20%20%20%20function%20registerLibrary%28address%20_lib%29%20external%3B%5Cn%5Cn%20%20%20%20function%20isRegisteredLibrary%28address%20_lib%29%20external%20view%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20function%20getRegisteredLibraries%28%29%20external%20view%20returns%20%28address%5B%5D%20memory%29%3B%5Cn%5Cn%20%20%20%20function%20setDefaultSendLibrary%28uint32%20_eid%2C%20address%20_newLib%29%20external%3B%5Cn%5Cn%20%20%20%20function%20defaultSendLibrary%28uint32%20_eid%29%20external%20view%20returns%20%28address%29%3B%5Cn%5Cn%20%20%20%20function%20setDefaultReceiveLibrary%28uint32%20_eid%2C%20address%20_newLib%2C%20uint256%20_gracePeriod%29%20external%3B%5Cn%5Cn%20%20%20%20function%20defaultReceiveLibrary%28uint32%20_eid%29%20external%20view%20returns%20%28address%29%3B%5Cn%5Cn%20%20%20%20function%20setDefaultReceiveLibraryTimeout%28uint32%20_eid%2C%20address%20_lib%2C%20uint256%20_expiry%29%20external%3B%5Cn%5Cn%20%20%20%20function%20defaultReceiveLibraryTimeout%28uint32%20_eid%29%20external%20view%20returns%20%28address%20lib%2C%20uint256%20expiry%29%3B%5Cn%5Cn%20%20%20%20function%20isSupportedEid%28uint32%20_eid%29%20external%20view%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20function%20isValidReceiveLibrary%28address%20_receiver%2C%20uint32%20_eid%2C%20address%20_lib%29%20external%20view%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20-------------------%20OApp%20interfaces%20-------------------%5Cn%20%20%20%20function%20setSendLibrary%28address%20_oapp%2C%20uint32%20_eid%2C%20address%20_newLib%29%20external%3B%5Cn%5Cn%20%20%20%20function%20getSendLibrary%28address%20_sender%2C%20uint32%20_eid%29%20external%20view%20returns%20%28address%20lib%29%3B%5Cn%5Cn%20%20%20%20function%20isDefaultSendLibrary%28address%20_sender%2C%20uint32%20_eid%29%20external%20view%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20function%20setReceiveLibrary%28address%20_oapp%2C%20uint32%20_eid%2C%20address%20_newLib%2C%20uint256%20_gracePeriod%29%20external%3B%5Cn%5Cn%20%20%20%20function%20getReceiveLibrary%28address%20_receiver%2C%20uint32%20_eid%29%20external%20view%20returns%20%28address%20lib%2C%20bool%20isDefault%29%3B%5Cn%5Cn%20%20%20%20function%20setReceiveLibraryTimeout%28address%20_oapp%2C%20uint32%20_eid%2C%20address%20_lib%2C%20uint256%20_expiry%29%20external%3B%5Cn%5Cn%20%20%20%20function%20receiveLibraryTimeout%28address%20_receiver%2C%20uint32%20_eid%29%20external%20view%20returns%20%28address%20lib%2C%20uint256%20expiry%29%3B%5Cn%5Cn%20%20%20%20function%20setConfig%28address%20_oapp%2C%20address%20_lib%2C%20SetConfigParam%5B%5D%20calldata%20_params%29%20external%3B%5Cn%5Cn%20%20%20%20function%20getConfig%28%5Cn%20%20%20%20%20%20%20%20address%20_oapp%2C%5Cn%20%20%20%20%20%20%20%20address%20_lib%2C%5Cn%20%20%20%20%20%20%20%20uint32%20_eid%2C%5Cn%20%20%20%20%20%20%20%20uint32%20_configType%5Cn%20%20%20%20%29%20external%20view%20returns%20%28bytes%20memory%20config%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FIMessagingChannel.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%3E%3D0.8.0%3B%5Cn%5Cninterface%20IMessagingChannel%20%7B%5Cn%20%20%20%20event%20InboundNonceSkipped%28uint32%20srcEid%2C%20bytes32%20sender%2C%20address%20receiver%2C%20uint64%20nonce%29%3B%5Cn%20%20%20%20event%20PacketNilified%28uint32%20srcEid%2C%20bytes32%20sender%2C%20address%20receiver%2C%20uint64%20nonce%2C%20bytes32%20payloadHash%29%3B%5Cn%20%20%20%20event%20PacketBurnt%28uint32%20srcEid%2C%20bytes32%20sender%2C%20address%20receiver%2C%20uint64%20nonce%2C%20bytes32%20payloadHash%29%3B%5Cn%5Cn%20%20%20%20function%20eid%28%29%20external%20view%20returns%20%28uint32%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%20this%20is%20an%20emergency%20function%20if%20a%20message%20cannot%20be%20verified%20for%20some%20reasons%5Cn%20%20%20%20%2F%2F%20required%20to%20provide%20_nextNonce%20to%20avoid%20race%20condition%5Cn%20%20%20%20function%20skip%28address%20_oapp%2C%20uint32%20_srcEid%2C%20bytes32%20_sender%2C%20uint64%20_nonce%29%20external%3B%5Cn%5Cn%20%20%20%20function%20nilify%28address%20_oapp%2C%20uint32%20_srcEid%2C%20bytes32%20_sender%2C%20uint64%20_nonce%2C%20bytes32%20_payloadHash%29%20external%3B%5Cn%5Cn%20%20%20%20function%20burn%28address%20_oapp%2C%20uint32%20_srcEid%2C%20bytes32%20_sender%2C%20uint64%20_nonce%2C%20bytes32%20_payloadHash%29%20external%3B%5Cn%5Cn%20%20%20%20function%20nextGuid%28address%20_sender%2C%20uint32%20_dstEid%2C%20bytes32%20_receiver%29%20external%20view%20returns%20%28bytes32%29%3B%5Cn%5Cn%20%20%20%20function%20inboundNonce%28address%20_receiver%2C%20uint32%20_srcEid%2C%20bytes32%20_sender%29%20external%20view%20returns%20%28uint64%29%3B%5Cn%5Cn%20%20%20%20function%20outboundNonce%28address%20_sender%2C%20uint32%20_dstEid%2C%20bytes32%20_receiver%29%20external%20view%20returns%20%28uint64%29%3B%5Cn%5Cn%20%20%20%20function%20inboundPayloadHash%28%5Cn%20%20%20%20%20%20%20%20address%20_receiver%2C%5Cn%20%20%20%20%20%20%20%20uint32%20_srcEid%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_sender%2C%5Cn%20%20%20%20%20%20%20%20uint64%20_nonce%5Cn%20%20%20%20%29%20external%20view%20returns%20%28bytes32%29%3B%5Cn%5Cn%20%20%20%20function%20lazyInboundNonce%28address%20_receiver%2C%20uint32%20_srcEid%2C%20bytes32%20_sender%29%20external%20view%20returns%20%28uint64%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FIMessagingComposer.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%3E%3D0.8.0%3B%5Cn%5Cninterface%20IMessagingComposer%20%7B%5Cn%20%20%20%20event%20ComposeSent%28address%20from%2C%20address%20to%2C%20bytes32%20guid%2C%20uint16%20index%2C%20bytes%20message%29%3B%5Cn%20%20%20%20event%20ComposeDelivered%28address%20from%2C%20address%20to%2C%20bytes32%20guid%2C%20uint16%20index%29%3B%5Cn%20%20%20%20event%20LzComposeAlert%28%5Cn%20%20%20%20%20%20%20%20address%20indexed%20from%2C%5Cn%20%20%20%20%20%20%20%20address%20indexed%20to%2C%5Cn%20%20%20%20%20%20%20%20address%20indexed%20executor%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20guid%2C%5Cn%20%20%20%20%20%20%20%20uint16%20index%2C%5Cn%20%20%20%20%20%20%20%20uint256%20gas%2C%5Cn%20%20%20%20%20%20%20%20uint256%20value%2C%5Cn%20%20%20%20%20%20%20%20bytes%20message%2C%5Cn%20%20%20%20%20%20%20%20bytes%20extraData%2C%5Cn%20%20%20%20%20%20%20%20bytes%20reason%5Cn%20%20%20%20%29%3B%5Cn%5Cn%20%20%20%20function%20composeQueue%28%5Cn%20%20%20%20%20%20%20%20address%20_from%2C%5Cn%20%20%20%20%20%20%20%20address%20_to%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20uint16%20_index%5Cn%20%20%20%20%29%20external%20view%20returns%20%28bytes32%20messageHash%29%3B%5Cn%5Cn%20%20%20%20function%20sendCompose%28address%20_to%2C%20bytes32%20_guid%2C%20uint16%20_index%2C%20bytes%20calldata%20_message%29%20external%3B%5Cn%5Cn%20%20%20%20function%20lzCompose%28%5Cn%20%20%20%20%20%20%20%20address%20_from%2C%5Cn%20%20%20%20%20%20%20%20address%20_to%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20uint16%20_index%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_extraData%5Cn%20%20%20%20%29%20external%20payable%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FIMessagingContext.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%3E%3D0.8.0%3B%5Cn%5Cninterface%20IMessagingContext%20%7B%5Cn%20%20%20%20function%20isSendingMessage%28%29%20external%20view%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20function%20getSendContext%28%29%20external%20view%20returns%20%28uint32%20dstEid%2C%20address%20sender%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Finterfaces%2FISendLib.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%5Cnpragma%20solidity%20%3E%3D0.8.0%3B%5Cn%5Cnimport%20%7B%20MessagingFee%20%7D%20from%20%5C%22.%2FILayerZeroEndpointV2.sol%5C%22%3B%5Cnimport%20%7B%20IMessageLib%20%7D%20from%20%5C%22.%2FIMessageLib.sol%5C%22%3B%5Cn%5Cnstruct%20Packet%20%7B%5Cn%20%20%20%20uint64%20nonce%3B%5Cn%20%20%20%20uint32%20srcEid%3B%5Cn%20%20%20%20address%20sender%3B%5Cn%20%20%20%20uint32%20dstEid%3B%5Cn%20%20%20%20bytes32%20receiver%3B%5Cn%20%20%20%20bytes32%20guid%3B%5Cn%20%20%20%20bytes%20message%3B%5Cn%7D%5Cn%5Cninterface%20ISendLib%20is%20IMessageLib%20%7B%5Cn%20%20%20%20function%20send%28%5Cn%20%20%20%20%20%20%20%20Packet%20calldata%20_packet%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_options%2C%5Cn%20%20%20%20%20%20%20%20bool%20_payInLzToken%5Cn%20%20%20%20%29%20external%20returns%20%28MessagingFee%20memory%2C%20bytes%20memory%20encodedPacket%29%3B%5Cn%5Cn%20%20%20%20function%20quote%28%5Cn%20%20%20%20%20%20%20%20Packet%20calldata%20_packet%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_options%2C%5Cn%20%20%20%20%20%20%20%20bool%20_payInLzToken%5Cn%20%20%20%20%29%20external%20view%20returns%20%28MessagingFee%20memory%29%3B%5Cn%5Cn%20%20%20%20function%20setTreasury%28address%20_treasury%29%20external%3B%5Cn%5Cn%20%20%20%20function%20withdrawFee%28address%20_to%2C%20uint256%20_amount%29%20external%3B%5Cn%5Cn%20%20%20%20function%20withdrawLzTokenFee%28address%20_lzToken%2C%20address%20_to%2C%20uint256%20_amount%29%20external%3B%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Flibs%2FAddressCast.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20LZBL-1.2%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnlibrary%20AddressCast%20%7B%5Cn%20%20%20%20error%20AddressCast_InvalidSizeForAddress%28%29%3B%5Cn%20%20%20%20error%20AddressCast_InvalidAddress%28%29%3B%5Cn%5Cn%20%20%20%20function%20toBytes32%28bytes%20calldata%20_addressBytes%29%20internal%20pure%20returns%20%28bytes32%20result%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_addressBytes.length%20%3E%2032%29%20revert%20AddressCast_InvalidAddress%28%29%3B%5Cn%20%20%20%20%20%20%20%20result%20%3D%20bytes32%28_addressBytes%29%3B%5Cn%20%20%20%20%20%20%20%20unchecked%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20uint256%20offset%20%3D%2032%20-%20_addressBytes.length%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20result%20%3E%3E%20%28offset%20%2A%208%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20toBytes32%28address%20_address%29%20internal%20pure%20returns%20%28bytes32%20result%29%20%7B%5Cn%20%20%20%20%20%20%20%20result%20%3D%20bytes32%28uint256%28uint160%28_address%29%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20toBytes%28bytes32%20_addressBytes32%2C%20uint256%20_size%29%20internal%20pure%20returns%20%28bytes%20memory%20result%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_size%20%3D%3D%200%20%7C%7C%20_size%20%3E%2032%29%20revert%20AddressCast_InvalidSizeForAddress%28%29%3B%5Cn%20%20%20%20%20%20%20%20result%20%3D%20new%20bytes%28_size%29%3B%5Cn%20%20%20%20%20%20%20%20unchecked%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20uint256%20offset%20%3D%20256%20-%20_size%20%2A%208%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20assembly%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mstore%28add%28result%2C%2032%29%2C%20shl%28offset%2C%20_addressBytes32%29%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20toAddress%28bytes32%20_addressBytes32%29%20internal%20pure%20returns%20%28address%20result%29%20%7B%5Cn%20%20%20%20%20%20%20%20result%20%3D%20address%28uint160%28uint256%28_addressBytes32%29%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20toAddress%28bytes%20calldata%20_addressBytes%29%20internal%20pure%20returns%20%28address%20result%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_addressBytes.length%20%21%3D%2020%29%20revert%20AddressCast_InvalidAddress%28%29%3B%5Cn%20%20%20%20%20%20%20%20result%20%3D%20address%28bytes20%28_addressBytes%29%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40layerzerolabs%2Flz-evm-protocol-v2%2Fcontracts%2Fmessagelib%2Flibs%2FPacketV1Codec.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20LZBL-1.2%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7B%20Packet%20%7D%20from%20%5C%22..%2F..%2Finterfaces%2FISendLib.sol%5C%22%3B%5Cnimport%20%7B%20AddressCast%20%7D%20from%20%5C%22..%2F..%2Flibs%2FAddressCast.sol%5C%22%3B%5Cn%5Cnlibrary%20PacketV1Codec%20%7B%5Cn%20%20%20%20using%20AddressCast%20for%20address%3B%5Cn%20%20%20%20using%20AddressCast%20for%20bytes32%3B%5Cn%5Cn%20%20%20%20uint8%20internal%20constant%20PACKET_VERSION%20%3D%201%3B%5Cn%5Cn%20%20%20%20%2F%2F%20header%20%28version%20%2B%20nonce%20%2B%20path%29%5Cn%20%20%20%20%2F%2F%20version%5Cn%20%20%20%20uint256%20private%20constant%20PACKET_VERSION_OFFSET%20%3D%200%3B%5Cn%20%20%20%20%2F%2F%20%20%20%20nonce%5Cn%20%20%20%20uint256%20private%20constant%20NONCE_OFFSET%20%3D%201%3B%5Cn%20%20%20%20%2F%2F%20%20%20%20path%5Cn%20%20%20%20uint256%20private%20constant%20SRC_EID_OFFSET%20%3D%209%3B%5Cn%20%20%20%20uint256%20private%20constant%20SENDER_OFFSET%20%3D%2013%3B%5Cn%20%20%20%20uint256%20private%20constant%20DST_EID_OFFSET%20%3D%2045%3B%5Cn%20%20%20%20uint256%20private%20constant%20RECEIVER_OFFSET%20%3D%2049%3B%5Cn%20%20%20%20%2F%2F%20payload%20%28guid%20%2B%20message%29%5Cn%20%20%20%20uint256%20private%20constant%20GUID_OFFSET%20%3D%2081%3B%20%2F%2F%20keccak256%28nonce%20%2B%20path%29%5Cn%20%20%20%20uint256%20private%20constant%20MESSAGE_OFFSET%20%3D%20113%3B%5Cn%5Cn%20%20%20%20function%20encode%28Packet%20memory%20_packet%29%20internal%20pure%20returns%20%28bytes%20memory%20encodedPacket%29%20%7B%5Cn%20%20%20%20%20%20%20%20encodedPacket%20%3D%20abi.encodePacked%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20PACKET_VERSION%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_packet.nonce%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_packet.srcEid%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_packet.sender.toBytes32%28%29%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_packet.dstEid%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_packet.receiver%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_packet.guid%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_packet.message%5Cn%20%20%20%20%20%20%20%20%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20encodePacketHeader%28Packet%20memory%20_packet%29%20internal%20pure%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%5Cn%20%20%20%20%20%20%20%20%20%20%20%20abi.encodePacked%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20PACKET_VERSION%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_packet.nonce%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_packet.srcEid%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_packet.sender.toBytes32%28%29%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_packet.dstEid%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_packet.receiver%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20encodePayload%28Packet%20memory%20_packet%29%20internal%20pure%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20abi.encodePacked%28_packet.guid%2C%20_packet.message%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20header%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28bytes%20calldata%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_packet%5B0%3AGUID_OFFSET%5D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20version%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28uint8%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20uint8%28bytes1%28_packet%5BPACKET_VERSION_OFFSET%3ANONCE_OFFSET%5D%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20nonce%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28uint64%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20uint64%28bytes8%28_packet%5BNONCE_OFFSET%3ASRC_EID_OFFSET%5D%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20srcEid%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28uint32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20uint32%28bytes4%28_packet%5BSRC_EID_OFFSET%3ASENDER_OFFSET%5D%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20sender%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28bytes32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20bytes32%28_packet%5BSENDER_OFFSET%3ADST_EID_OFFSET%5D%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20senderAddressB20%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28address%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20sender%28_packet%29.toAddress%28%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20dstEid%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28uint32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20uint32%28bytes4%28_packet%5BDST_EID_OFFSET%3ARECEIVER_OFFSET%5D%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20receiver%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28bytes32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20bytes32%28_packet%5BRECEIVER_OFFSET%3AGUID_OFFSET%5D%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20receiverB20%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28address%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20receiver%28_packet%29.toAddress%28%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20guid%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28bytes32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20bytes32%28_packet%5BGUID_OFFSET%3AMESSAGE_OFFSET%5D%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20message%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28bytes%20calldata%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20bytes%28_packet%5BMESSAGE_OFFSET%3A%5D%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20payload%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28bytes%20calldata%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20bytes%28_packet%5BGUID_OFFSET%3A%5D%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20payloadHash%28bytes%20calldata%20_packet%29%20internal%20pure%20returns%20%28bytes32%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20keccak256%28payload%28_packet%29%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Faccess%2FOwnable.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.0.0%29%20%28access%2FOwnable.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7BContext%7D%20from%20%5C%22..%2Futils%2FContext.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Contract%20module%20which%20provides%20a%20basic%20access%20control%20mechanism%2C%20where%5Cn%20%2A%20there%20is%20an%20account%20%28an%20owner%29%20that%20can%20be%20granted%20exclusive%20access%20to%5Cn%20%2A%20specific%20functions.%5Cn%20%2A%5Cn%20%2A%20The%20initial%20owner%20is%20set%20to%20the%20address%20provided%20by%20the%20deployer.%20This%20can%5Cn%20%2A%20later%20be%20changed%20with%20%7BtransferOwnership%7D.%5Cn%20%2A%5Cn%20%2A%20This%20module%20is%20used%20through%20inheritance.%20It%20will%20make%20available%20the%20modifier%5Cn%20%2A%20%60onlyOwner%60%2C%20which%20can%20be%20applied%20to%20your%20functions%20to%20restrict%20their%20use%20to%5Cn%20%2A%20the%20owner.%5Cn%20%2A%2F%5Cnabstract%20contract%20Ownable%20is%20Context%20%7B%5Cn%20%20%20%20address%20private%20_owner%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20The%20caller%20account%20is%20not%20authorized%20to%20perform%20an%20operation.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20OwnableUnauthorizedAccount%28address%20account%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20The%20owner%20is%20not%20a%20valid%20owner%20account.%20%28eg.%20%60address%280%29%60%29%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20OwnableInvalidOwner%28address%20owner%29%3B%5Cn%5Cn%20%20%20%20event%20OwnershipTransferred%28address%20indexed%20previousOwner%2C%20address%20indexed%20newOwner%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Initializes%20the%20contract%20setting%20the%20address%20provided%20by%20the%20deployer%20as%20the%20initial%20owner.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20constructor%28address%20initialOwner%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28initialOwner%20%3D%3D%20address%280%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20OwnableInvalidOwner%28address%280%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20_transferOwnership%28initialOwner%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Throws%20if%20called%20by%20any%20account%20other%20than%20the%20owner.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20modifier%20onlyOwner%28%29%20%7B%5Cn%20%20%20%20%20%20%20%20_checkOwner%28%29%3B%5Cn%20%20%20%20%20%20%20%20_%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20the%20address%20of%20the%20current%20owner.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20owner%28%29%20public%20view%20virtual%20returns%20%28address%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_owner%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Throws%20if%20the%20sender%20is%20not%20the%20owner.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_checkOwner%28%29%20internal%20view%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28owner%28%29%20%21%3D%20_msgSender%28%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20OwnableUnauthorizedAccount%28_msgSender%28%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Leaves%20the%20contract%20without%20owner.%20It%20will%20not%20be%20possible%20to%20call%5Cn%20%20%20%20%20%2A%20%60onlyOwner%60%20functions.%20Can%20only%20be%20called%20by%20the%20current%20owner.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20NOTE%3A%20Renouncing%20ownership%20will%20leave%20the%20contract%20without%20an%20owner%2C%5Cn%20%20%20%20%20%2A%20thereby%20disabling%20any%20functionality%20that%20is%20only%20available%20to%20the%20owner.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20renounceOwnership%28%29%20public%20virtual%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_transferOwnership%28address%280%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Transfers%20ownership%20of%20the%20contract%20to%20a%20new%20account%20%28%60newOwner%60%29.%5Cn%20%20%20%20%20%2A%20Can%20only%20be%20called%20by%20the%20current%20owner.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transferOwnership%28address%20newOwner%29%20public%20virtual%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28newOwner%20%3D%3D%20address%280%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20OwnableInvalidOwner%28address%280%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20_transferOwnership%28newOwner%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Transfers%20ownership%20of%20the%20contract%20to%20a%20new%20account%20%28%60newOwner%60%29.%5Cn%20%20%20%20%20%2A%20Internal%20function%20without%20access%20restriction.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_transferOwnership%28address%20newOwner%29%20internal%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20address%20oldOwner%20%3D%20_owner%3B%5Cn%20%20%20%20%20%20%20%20_owner%20%3D%20newOwner%3B%5Cn%20%20%20%20%20%20%20%20emit%20OwnershipTransferred%28oldOwner%2C%20newOwner%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Finterfaces%2FIERC1363.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.1.0%29%20%28interfaces%2FIERC1363.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7BIERC20%7D%20from%20%5C%22.%2FIERC20.sol%5C%22%3B%5Cnimport%20%7BIERC165%7D%20from%20%5C%22.%2FIERC165.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20IERC1363%5Cn%20%2A%20%40dev%20Interface%20of%20the%20ERC-1363%20standard%20as%20defined%20in%20the%20https%3A%2F%2Feips.ethereum.org%2FEIPS%2Feip-1363%5BERC-1363%5D.%5Cn%20%2A%5Cn%20%2A%20Defines%20an%20extension%20interface%20for%20ERC-20%20tokens%20that%20supports%20executing%20code%20on%20a%20recipient%20contract%5Cn%20%2A%20after%20%60transfer%60%20or%20%60transferFrom%60%2C%20or%20code%20on%20a%20spender%20contract%20after%20%60approve%60%2C%20in%20a%20single%20transaction.%5Cn%20%2A%2F%5Cninterface%20IERC1363%20is%20IERC20%2C%20IERC165%20%7B%5Cn%20%20%20%20%2F%2A%5Cn%20%20%20%20%20%2A%20Note%3A%20the%20ERC-165%20identifier%20for%20this%20interface%20is%200xb0202a11.%5Cn%20%20%20%20%20%2A%200xb0202a11%20%3D%3D%3D%5Cn%20%20%20%20%20%2A%20%20%20bytes4%28keccak256%28%27transferAndCall%28address%2Cuint256%29%27%29%29%20%5E%5Cn%20%20%20%20%20%2A%20%20%20bytes4%28keccak256%28%27transferAndCall%28address%2Cuint256%2Cbytes%29%27%29%29%20%5E%5Cn%20%20%20%20%20%2A%20%20%20bytes4%28keccak256%28%27transferFromAndCall%28address%2Caddress%2Cuint256%29%27%29%29%20%5E%5Cn%20%20%20%20%20%2A%20%20%20bytes4%28keccak256%28%27transferFromAndCall%28address%2Caddress%2Cuint256%2Cbytes%29%27%29%29%20%5E%5Cn%20%20%20%20%20%2A%20%20%20bytes4%28keccak256%28%27approveAndCall%28address%2Cuint256%29%27%29%29%20%5E%5Cn%20%20%20%20%20%2A%20%20%20bytes4%28keccak256%28%27approveAndCall%28address%2Cuint256%2Cbytes%29%27%29%29%5Cn%20%20%20%20%20%2A%2F%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Moves%20a%20%60value%60%20amount%20of%20tokens%20from%20the%20caller%27s%20account%20to%20%60to%60%5Cn%20%20%20%20%20%2A%20and%20then%20calls%20%7BIERC1363Receiver-onTransferReceived%7D%20on%20%60to%60.%5Cn%20%20%20%20%20%2A%20%40param%20to%20The%20address%20which%20you%20want%20to%20transfer%20to.%5Cn%20%20%20%20%20%2A%20%40param%20value%20The%20amount%20of%20tokens%20to%20be%20transferred.%5Cn%20%20%20%20%20%2A%20%40return%20A%20boolean%20value%20indicating%20whether%20the%20operation%20succeeded%20unless%20throwing.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transferAndCall%28address%20to%2C%20uint256%20value%29%20external%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Moves%20a%20%60value%60%20amount%20of%20tokens%20from%20the%20caller%27s%20account%20to%20%60to%60%5Cn%20%20%20%20%20%2A%20and%20then%20calls%20%7BIERC1363Receiver-onTransferReceived%7D%20on%20%60to%60.%5Cn%20%20%20%20%20%2A%20%40param%20to%20The%20address%20which%20you%20want%20to%20transfer%20to.%5Cn%20%20%20%20%20%2A%20%40param%20value%20The%20amount%20of%20tokens%20to%20be%20transferred.%5Cn%20%20%20%20%20%2A%20%40param%20data%20Additional%20data%20with%20no%20specified%20format%2C%20sent%20in%20call%20to%20%60to%60.%5Cn%20%20%20%20%20%2A%20%40return%20A%20boolean%20value%20indicating%20whether%20the%20operation%20succeeded%20unless%20throwing.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transferAndCall%28address%20to%2C%20uint256%20value%2C%20bytes%20calldata%20data%29%20external%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Moves%20a%20%60value%60%20amount%20of%20tokens%20from%20%60from%60%20to%20%60to%60%20using%20the%20allowance%20mechanism%5Cn%20%20%20%20%20%2A%20and%20then%20calls%20%7BIERC1363Receiver-onTransferReceived%7D%20on%20%60to%60.%5Cn%20%20%20%20%20%2A%20%40param%20from%20The%20address%20which%20you%20want%20to%20send%20tokens%20from.%5Cn%20%20%20%20%20%2A%20%40param%20to%20The%20address%20which%20you%20want%20to%20transfer%20to.%5Cn%20%20%20%20%20%2A%20%40param%20value%20The%20amount%20of%20tokens%20to%20be%20transferred.%5Cn%20%20%20%20%20%2A%20%40return%20A%20boolean%20value%20indicating%20whether%20the%20operation%20succeeded%20unless%20throwing.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transferFromAndCall%28address%20from%2C%20address%20to%2C%20uint256%20value%29%20external%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Moves%20a%20%60value%60%20amount%20of%20tokens%20from%20%60from%60%20to%20%60to%60%20using%20the%20allowance%20mechanism%5Cn%20%20%20%20%20%2A%20and%20then%20calls%20%7BIERC1363Receiver-onTransferReceived%7D%20on%20%60to%60.%5Cn%20%20%20%20%20%2A%20%40param%20from%20The%20address%20which%20you%20want%20to%20send%20tokens%20from.%5Cn%20%20%20%20%20%2A%20%40param%20to%20The%20address%20which%20you%20want%20to%20transfer%20to.%5Cn%20%20%20%20%20%2A%20%40param%20value%20The%20amount%20of%20tokens%20to%20be%20transferred.%5Cn%20%20%20%20%20%2A%20%40param%20data%20Additional%20data%20with%20no%20specified%20format%2C%20sent%20in%20call%20to%20%60to%60.%5Cn%20%20%20%20%20%2A%20%40return%20A%20boolean%20value%20indicating%20whether%20the%20operation%20succeeded%20unless%20throwing.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transferFromAndCall%28address%20from%2C%20address%20to%2C%20uint256%20value%2C%20bytes%20calldata%20data%29%20external%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20a%20%60value%60%20amount%20of%20tokens%20as%20the%20allowance%20of%20%60spender%60%20over%20the%5Cn%20%20%20%20%20%2A%20caller%27s%20tokens%20and%20then%20calls%20%7BIERC1363Spender-onApprovalReceived%7D%20on%20%60spender%60.%5Cn%20%20%20%20%20%2A%20%40param%20spender%20The%20address%20which%20will%20spend%20the%20funds.%5Cn%20%20%20%20%20%2A%20%40param%20value%20The%20amount%20of%20tokens%20to%20be%20spent.%5Cn%20%20%20%20%20%2A%20%40return%20A%20boolean%20value%20indicating%20whether%20the%20operation%20succeeded%20unless%20throwing.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20approveAndCall%28address%20spender%2C%20uint256%20value%29%20external%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20a%20%60value%60%20amount%20of%20tokens%20as%20the%20allowance%20of%20%60spender%60%20over%20the%5Cn%20%20%20%20%20%2A%20caller%27s%20tokens%20and%20then%20calls%20%7BIERC1363Spender-onApprovalReceived%7D%20on%20%60spender%60.%5Cn%20%20%20%20%20%2A%20%40param%20spender%20The%20address%20which%20will%20spend%20the%20funds.%5Cn%20%20%20%20%20%2A%20%40param%20value%20The%20amount%20of%20tokens%20to%20be%20spent.%5Cn%20%20%20%20%20%2A%20%40param%20data%20Additional%20data%20with%20no%20specified%20format%2C%20sent%20in%20call%20to%20%60spender%60.%5Cn%20%20%20%20%20%2A%20%40return%20A%20boolean%20value%20indicating%20whether%20the%20operation%20succeeded%20unless%20throwing.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20approveAndCall%28address%20spender%2C%20uint256%20value%2C%20bytes%20calldata%20data%29%20external%20returns%20%28bool%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Finterfaces%2FIERC165.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.0.0%29%20%28interfaces%2FIERC165.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7BIERC165%7D%20from%20%5C%22..%2Futils%2Fintrospection%2FIERC165.sol%5C%22%3B%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Finterfaces%2FIERC20.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.0.0%29%20%28interfaces%2FIERC20.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7BIERC20%7D%20from%20%5C%22..%2Ftoken%2FERC20%2FIERC20.sol%5C%22%3B%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Finterfaces%2Fdraft-IERC6093.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.1.0%29%20%28interfaces%2Fdraft-IERC6093.sol%29%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Standard%20ERC-20%20Errors%5Cn%20%2A%20Interface%20of%20the%20https%3A%2F%2Feips.ethereum.org%2FEIPS%2Feip-6093%5BERC-6093%5D%20custom%20errors%20for%20ERC-20%20tokens.%5Cn%20%2A%2F%5Cninterface%20IERC20Errors%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20an%20error%20related%20to%20the%20current%20%60balance%60%20of%20a%20%60sender%60.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20sender%20Address%20whose%20tokens%20are%20being%20transferred.%5Cn%20%20%20%20%20%2A%20%40param%20balance%20Current%20balance%20for%20the%20interacting%20account.%5Cn%20%20%20%20%20%2A%20%40param%20needed%20Minimum%20amount%20required%20to%20perform%20a%20transfer.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC20InsufficientBalance%28address%20sender%2C%20uint256%20balance%2C%20uint256%20needed%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20token%20%60sender%60.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20sender%20Address%20whose%20tokens%20are%20being%20transferred.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC20InvalidSender%28address%20sender%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20token%20%60receiver%60.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20receiver%20Address%20to%20which%20tokens%20are%20being%20transferred.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC20InvalidReceiver%28address%20receiver%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20%60spender%60%E2%80%99s%20%60allowance%60.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20spender%20Address%20that%20may%20be%20allowed%20to%20operate%20on%20tokens%20without%20being%20their%20owner.%5Cn%20%20%20%20%20%2A%20%40param%20allowance%20Amount%20of%20tokens%20a%20%60spender%60%20is%20allowed%20to%20operate%20with.%5Cn%20%20%20%20%20%2A%20%40param%20needed%20Minimum%20amount%20required%20to%20perform%20a%20transfer.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC20InsufficientAllowance%28address%20spender%2C%20uint256%20allowance%2C%20uint256%20needed%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20%60approver%60%20of%20a%20token%20to%20be%20approved.%20Used%20in%20approvals.%5Cn%20%20%20%20%20%2A%20%40param%20approver%20Address%20initiating%20an%20approval%20operation.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC20InvalidApprover%28address%20approver%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20%60spender%60%20to%20be%20approved.%20Used%20in%20approvals.%5Cn%20%20%20%20%20%2A%20%40param%20spender%20Address%20that%20may%20be%20allowed%20to%20operate%20on%20tokens%20without%20being%20their%20owner.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC20InvalidSpender%28address%20spender%29%3B%5Cn%7D%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Standard%20ERC-721%20Errors%5Cn%20%2A%20Interface%20of%20the%20https%3A%2F%2Feips.ethereum.org%2FEIPS%2Feip-6093%5BERC-6093%5D%20custom%20errors%20for%20ERC-721%20tokens.%5Cn%20%2A%2F%5Cninterface%20IERC721Errors%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20that%20an%20address%20can%27t%20be%20an%20owner.%20For%20example%2C%20%60address%280%29%60%20is%20a%20forbidden%20owner%20in%20ERC-20.%5Cn%20%20%20%20%20%2A%20Used%20in%20balance%20queries.%5Cn%20%20%20%20%20%2A%20%40param%20owner%20Address%20of%20the%20current%20owner%20of%20a%20token.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC721InvalidOwner%28address%20owner%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20%60tokenId%60%20whose%20%60owner%60%20is%20the%20zero%20address.%5Cn%20%20%20%20%20%2A%20%40param%20tokenId%20Identifier%20number%20of%20a%20token.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC721NonexistentToken%28uint256%20tokenId%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20an%20error%20related%20to%20the%20ownership%20over%20a%20particular%20token.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20sender%20Address%20whose%20tokens%20are%20being%20transferred.%5Cn%20%20%20%20%20%2A%20%40param%20tokenId%20Identifier%20number%20of%20a%20token.%5Cn%20%20%20%20%20%2A%20%40param%20owner%20Address%20of%20the%20current%20owner%20of%20a%20token.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC721IncorrectOwner%28address%20sender%2C%20uint256%20tokenId%2C%20address%20owner%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20token%20%60sender%60.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20sender%20Address%20whose%20tokens%20are%20being%20transferred.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC721InvalidSender%28address%20sender%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20token%20%60receiver%60.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20receiver%20Address%20to%20which%20tokens%20are%20being%20transferred.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC721InvalidReceiver%28address%20receiver%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20%60operator%60%E2%80%99s%20approval.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20operator%20Address%20that%20may%20be%20allowed%20to%20operate%20on%20tokens%20without%20being%20their%20owner.%5Cn%20%20%20%20%20%2A%20%40param%20tokenId%20Identifier%20number%20of%20a%20token.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC721InsufficientApproval%28address%20operator%2C%20uint256%20tokenId%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20%60approver%60%20of%20a%20token%20to%20be%20approved.%20Used%20in%20approvals.%5Cn%20%20%20%20%20%2A%20%40param%20approver%20Address%20initiating%20an%20approval%20operation.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC721InvalidApprover%28address%20approver%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20%60operator%60%20to%20be%20approved.%20Used%20in%20approvals.%5Cn%20%20%20%20%20%2A%20%40param%20operator%20Address%20that%20may%20be%20allowed%20to%20operate%20on%20tokens%20without%20being%20their%20owner.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC721InvalidOperator%28address%20operator%29%3B%5Cn%7D%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Standard%20ERC-1155%20Errors%5Cn%20%2A%20Interface%20of%20the%20https%3A%2F%2Feips.ethereum.org%2FEIPS%2Feip-6093%5BERC-6093%5D%20custom%20errors%20for%20ERC-1155%20tokens.%5Cn%20%2A%2F%5Cninterface%20IERC1155Errors%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20an%20error%20related%20to%20the%20current%20%60balance%60%20of%20a%20%60sender%60.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20sender%20Address%20whose%20tokens%20are%20being%20transferred.%5Cn%20%20%20%20%20%2A%20%40param%20balance%20Current%20balance%20for%20the%20interacting%20account.%5Cn%20%20%20%20%20%2A%20%40param%20needed%20Minimum%20amount%20required%20to%20perform%20a%20transfer.%5Cn%20%20%20%20%20%2A%20%40param%20tokenId%20Identifier%20number%20of%20a%20token.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC1155InsufficientBalance%28address%20sender%2C%20uint256%20balance%2C%20uint256%20needed%2C%20uint256%20tokenId%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20token%20%60sender%60.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20sender%20Address%20whose%20tokens%20are%20being%20transferred.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC1155InvalidSender%28address%20sender%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20token%20%60receiver%60.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20receiver%20Address%20to%20which%20tokens%20are%20being%20transferred.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC1155InvalidReceiver%28address%20receiver%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20%60operator%60%E2%80%99s%20approval.%20Used%20in%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20operator%20Address%20that%20may%20be%20allowed%20to%20operate%20on%20tokens%20without%20being%20their%20owner.%5Cn%20%20%20%20%20%2A%20%40param%20owner%20Address%20of%20the%20current%20owner%20of%20a%20token.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC1155MissingApprovalForAll%28address%20operator%2C%20address%20owner%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20%60approver%60%20of%20a%20token%20to%20be%20approved.%20Used%20in%20approvals.%5Cn%20%20%20%20%20%2A%20%40param%20approver%20Address%20initiating%20an%20approval%20operation.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC1155InvalidApprover%28address%20approver%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failure%20with%20the%20%60operator%60%20to%20be%20approved.%20Used%20in%20approvals.%5Cn%20%20%20%20%20%2A%20%40param%20operator%20Address%20that%20may%20be%20allowed%20to%20operate%20on%20tokens%20without%20being%20their%20owner.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC1155InvalidOperator%28address%20operator%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20an%20array%20length%20mismatch%20between%20ids%20and%20values%20in%20a%20safeBatchTransferFrom%20operation.%5Cn%20%20%20%20%20%2A%20Used%20in%20batch%20transfers.%5Cn%20%20%20%20%20%2A%20%40param%20idsLength%20Length%20of%20the%20array%20of%20token%20identifiers%5Cn%20%20%20%20%20%2A%20%40param%20valuesLength%20Length%20of%20the%20array%20of%20token%20amounts%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ERC1155InvalidArrayLength%28uint256%20idsLength%2C%20uint256%20valuesLength%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Ftoken%2FERC20%2FERC20.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.1.0%29%20%28token%2FERC20%2FERC20.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7BIERC20%7D%20from%20%5C%22.%2FIERC20.sol%5C%22%3B%5Cnimport%20%7BIERC20Metadata%7D%20from%20%5C%22.%2Fextensions%2FIERC20Metadata.sol%5C%22%3B%5Cnimport%20%7BContext%7D%20from%20%5C%22..%2F..%2Futils%2FContext.sol%5C%22%3B%5Cnimport%20%7BIERC20Errors%7D%20from%20%5C%22..%2F..%2Finterfaces%2Fdraft-IERC6093.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Implementation%20of%20the%20%7BIERC20%7D%20interface.%5Cn%20%2A%5Cn%20%2A%20This%20implementation%20is%20agnostic%20to%20the%20way%20tokens%20are%20created.%20This%20means%5Cn%20%2A%20that%20a%20supply%20mechanism%20has%20to%20be%20added%20in%20a%20derived%20contract%20using%20%7B_mint%7D.%5Cn%20%2A%5Cn%20%2A%20TIP%3A%20For%20a%20detailed%20writeup%20see%20our%20guide%5Cn%20%2A%20https%3A%2F%2Fforum.openzeppelin.com%2Ft%2Fhow-to-implement-erc20-supply-mechanisms%2F226%5BHow%5Cn%20%2A%20to%20implement%20supply%20mechanisms%5D.%5Cn%20%2A%5Cn%20%2A%20The%20default%20value%20of%20%7Bdecimals%7D%20is%2018.%20To%20change%20this%2C%20you%20should%20override%5Cn%20%2A%20this%20function%20so%20it%20returns%20a%20different%20value.%5Cn%20%2A%5Cn%20%2A%20We%20have%20followed%20general%20OpenZeppelin%20Contracts%20guidelines%3A%20functions%20revert%5Cn%20%2A%20instead%20returning%20%60false%60%20on%20failure.%20This%20behavior%20is%20nonetheless%5Cn%20%2A%20conventional%20and%20does%20not%20conflict%20with%20the%20expectations%20of%20ERC-20%5Cn%20%2A%20applications.%5Cn%20%2A%2F%5Cnabstract%20contract%20ERC20%20is%20Context%2C%20IERC20%2C%20IERC20Metadata%2C%20IERC20Errors%20%7B%5Cn%20%20%20%20mapping%28address%20account%20%3D%3E%20uint256%29%20private%20_balances%3B%5Cn%5Cn%20%20%20%20mapping%28address%20account%20%3D%3E%20mapping%28address%20spender%20%3D%3E%20uint256%29%29%20private%20_allowances%3B%5Cn%5Cn%20%20%20%20uint256%20private%20_totalSupply%3B%5Cn%5Cn%20%20%20%20string%20private%20_name%3B%5Cn%20%20%20%20string%20private%20_symbol%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20the%20values%20for%20%7Bname%7D%20and%20%7Bsymbol%7D.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20All%20two%20of%20these%20values%20are%20immutable%3A%20they%20can%20only%20be%20set%20once%20during%5Cn%20%20%20%20%20%2A%20construction.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20constructor%28string%20memory%20name_%2C%20string%20memory%20symbol_%29%20%7B%5Cn%20%20%20%20%20%20%20%20_name%20%3D%20name_%3B%5Cn%20%20%20%20%20%20%20%20_symbol%20%3D%20symbol_%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20the%20name%20of%20the%20token.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20name%28%29%20public%20view%20virtual%20returns%20%28string%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_name%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20the%20symbol%20of%20the%20token%2C%20usually%20a%20shorter%20version%20of%20the%5Cn%20%20%20%20%20%2A%20name.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20symbol%28%29%20public%20view%20virtual%20returns%20%28string%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_symbol%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20the%20number%20of%20decimals%20used%20to%20get%20its%20user%20representation.%5Cn%20%20%20%20%20%2A%20For%20example%2C%20if%20%60decimals%60%20equals%20%602%60%2C%20a%20balance%20of%20%60505%60%20tokens%20should%5Cn%20%20%20%20%20%2A%20be%20displayed%20to%20a%20user%20as%20%605.05%60%20%28%60505%20%2F%2010%20%2A%2A%202%60%29.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Tokens%20usually%20opt%20for%20a%20value%20of%2018%2C%20imitating%20the%20relationship%20between%5Cn%20%20%20%20%20%2A%20Ether%20and%20Wei.%20This%20is%20the%20default%20value%20returned%20by%20this%20function%2C%20unless%5Cn%20%20%20%20%20%2A%20it%27s%20overridden.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20NOTE%3A%20This%20information%20is%20only%20used%20for%20_display_%20purposes%3A%20it%20in%5Cn%20%20%20%20%20%2A%20no%20way%20affects%20any%20of%20the%20arithmetic%20of%20the%20contract%2C%20including%5Cn%20%20%20%20%20%2A%20%7BIERC20-balanceOf%7D%20and%20%7BIERC20-transfer%7D.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20decimals%28%29%20public%20view%20virtual%20returns%20%28uint8%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%2018%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20See%20%7BIERC20-totalSupply%7D.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20totalSupply%28%29%20public%20view%20virtual%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_totalSupply%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20See%20%7BIERC20-balanceOf%7D.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20balanceOf%28address%20account%29%20public%20view%20virtual%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_balances%5Baccount%5D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20See%20%7BIERC20-transfer%7D.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20-%20%60to%60%20cannot%20be%20the%20zero%20address.%5Cn%20%20%20%20%20%2A%20-%20the%20caller%20must%20have%20a%20balance%20of%20at%20least%20%60value%60.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transfer%28address%20to%2C%20uint256%20value%29%20public%20virtual%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20address%20owner%20%3D%20_msgSender%28%29%3B%5Cn%20%20%20%20%20%20%20%20_transfer%28owner%2C%20to%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20See%20%7BIERC20-allowance%7D.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20allowance%28address%20owner%2C%20address%20spender%29%20public%20view%20virtual%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_allowances%5Bowner%5D%5Bspender%5D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20See%20%7BIERC20-approve%7D.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20NOTE%3A%20If%20%60value%60%20is%20the%20maximum%20%60uint256%60%2C%20the%20allowance%20is%20not%20updated%20on%5Cn%20%20%20%20%20%2A%20%60transferFrom%60.%20This%20is%20semantically%20equivalent%20to%20an%20infinite%20approval.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20-%20%60spender%60%20cannot%20be%20the%20zero%20address.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20approve%28address%20spender%2C%20uint256%20value%29%20public%20virtual%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20address%20owner%20%3D%20_msgSender%28%29%3B%5Cn%20%20%20%20%20%20%20%20_approve%28owner%2C%20spender%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20See%20%7BIERC20-transferFrom%7D.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Skips%20emitting%20an%20%7BApproval%7D%20event%20indicating%20an%20allowance%20update.%20This%20is%20not%5Cn%20%20%20%20%20%2A%20required%20by%20the%20ERC.%20See%20%7Bxref-ERC20-_approve-address-address-uint256-bool-%7D%5B_approve%5D.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20NOTE%3A%20Does%20not%20update%20the%20allowance%20if%20the%20current%20allowance%5Cn%20%20%20%20%20%2A%20is%20the%20maximum%20%60uint256%60.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20-%20%60from%60%20and%20%60to%60%20cannot%20be%20the%20zero%20address.%5Cn%20%20%20%20%20%2A%20-%20%60from%60%20must%20have%20a%20balance%20of%20at%20least%20%60value%60.%5Cn%20%20%20%20%20%2A%20-%20the%20caller%20must%20have%20allowance%20for%20%60%60from%60%60%27s%20tokens%20of%20at%20least%5Cn%20%20%20%20%20%2A%20%60value%60.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transferFrom%28address%20from%2C%20address%20to%2C%20uint256%20value%29%20public%20virtual%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20address%20spender%20%3D%20_msgSender%28%29%3B%5Cn%20%20%20%20%20%20%20%20_spendAllowance%28from%2C%20spender%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20_transfer%28from%2C%20to%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20return%20true%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Moves%20a%20%60value%60%20amount%20of%20tokens%20from%20%60from%60%20to%20%60to%60.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20This%20internal%20function%20is%20equivalent%20to%20%7Btransfer%7D%2C%20and%20can%20be%20used%20to%5Cn%20%20%20%20%20%2A%20e.g.%20implement%20automatic%20token%20fees%2C%20slashing%20mechanisms%2C%20etc.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Emits%20a%20%7BTransfer%7D%20event.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20NOTE%3A%20This%20function%20is%20not%20virtual%2C%20%7B_update%7D%20should%20be%20overridden%20instead.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_transfer%28address%20from%2C%20address%20to%2C%20uint256%20value%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28from%20%3D%3D%20address%280%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20ERC20InvalidSender%28address%280%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20if%20%28to%20%3D%3D%20address%280%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20ERC20InvalidReceiver%28address%280%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20_update%28from%2C%20to%2C%20value%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Transfers%20a%20%60value%60%20amount%20of%20tokens%20from%20%60from%60%20to%20%60to%60%2C%20or%20alternatively%20mints%20%28or%20burns%29%20if%20%60from%60%5Cn%20%20%20%20%20%2A%20%28or%20%60to%60%29%20is%20the%20zero%20address.%20All%20customizations%20to%20transfers%2C%20mints%2C%20and%20burns%20should%20be%20done%20by%20overriding%5Cn%20%20%20%20%20%2A%20this%20function.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Emits%20a%20%7BTransfer%7D%20event.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_update%28address%20from%2C%20address%20to%2C%20uint256%20value%29%20internal%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28from%20%3D%3D%20address%280%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Overflow%20check%20required%3A%20The%20rest%20of%20the%20code%20assumes%20that%20totalSupply%20never%20overflows%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_totalSupply%20%2B%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20uint256%20fromBalance%20%3D%20_balances%5Bfrom%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28fromBalance%20%3C%20value%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20revert%20ERC20InsufficientBalance%28from%2C%20fromBalance%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20unchecked%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Overflow%20not%20possible%3A%20value%20%3C%3D%20fromBalance%20%3C%3D%20totalSupply.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_balances%5Bfrom%5D%20%3D%20fromBalance%20-%20value%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20if%20%28to%20%3D%3D%20address%280%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20unchecked%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Overflow%20not%20possible%3A%20value%20%3C%3D%20totalSupply%20or%20value%20%3C%3D%20fromBalance%20%3C%3D%20totalSupply.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_totalSupply%20-%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20unchecked%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Overflow%20not%20possible%3A%20balance%20%2B%20value%20is%20at%20most%20totalSupply%2C%20which%20we%20know%20fits%20into%20a%20uint256.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_balances%5Bto%5D%20%2B%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20emit%20Transfer%28from%2C%20to%2C%20value%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Creates%20a%20%60value%60%20amount%20of%20tokens%20and%20assigns%20them%20to%20%60account%60%2C%20by%20transferring%20it%20from%20address%280%29.%5Cn%20%20%20%20%20%2A%20Relies%20on%20the%20%60_update%60%20mechanism%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Emits%20a%20%7BTransfer%7D%20event%20with%20%60from%60%20set%20to%20the%20zero%20address.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20NOTE%3A%20This%20function%20is%20not%20virtual%2C%20%7B_update%7D%20should%20be%20overridden%20instead.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_mint%28address%20account%2C%20uint256%20value%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28account%20%3D%3D%20address%280%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20ERC20InvalidReceiver%28address%280%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20_update%28address%280%29%2C%20account%2C%20value%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Destroys%20a%20%60value%60%20amount%20of%20tokens%20from%20%60account%60%2C%20lowering%20the%20total%20supply.%5Cn%20%20%20%20%20%2A%20Relies%20on%20the%20%60_update%60%20mechanism.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Emits%20a%20%7BTransfer%7D%20event%20with%20%60to%60%20set%20to%20the%20zero%20address.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20NOTE%3A%20This%20function%20is%20not%20virtual%2C%20%7B_update%7D%20should%20be%20overridden%20instead%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_burn%28address%20account%2C%20uint256%20value%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28account%20%3D%3D%20address%280%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20ERC20InvalidSender%28address%280%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20_update%28account%2C%20address%280%29%2C%20value%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20%60value%60%20as%20the%20allowance%20of%20%60spender%60%20over%20the%20%60owner%60%20s%20tokens.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20This%20internal%20function%20is%20equivalent%20to%20%60approve%60%2C%20and%20can%20be%20used%20to%5Cn%20%20%20%20%20%2A%20e.g.%20set%20automatic%20allowances%20for%20certain%20subsystems%2C%20etc.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Emits%20an%20%7BApproval%7D%20event.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20-%20%60owner%60%20cannot%20be%20the%20zero%20address.%5Cn%20%20%20%20%20%2A%20-%20%60spender%60%20cannot%20be%20the%20zero%20address.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Overrides%20to%20this%20logic%20should%20be%20done%20to%20the%20variant%20with%20an%20additional%20%60bool%20emitEvent%60%20argument.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_approve%28address%20owner%2C%20address%20spender%2C%20uint256%20value%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20_approve%28owner%2C%20spender%2C%20value%2C%20true%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Variant%20of%20%7B_approve%7D%20with%20an%20optional%20flag%20to%20enable%20or%20disable%20the%20%7BApproval%7D%20event.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20By%20default%20%28when%20calling%20%7B_approve%7D%29%20the%20flag%20is%20set%20to%20true.%20On%20the%20other%20hand%2C%20approval%20changes%20made%20by%5Cn%20%20%20%20%20%2A%20%60_spendAllowance%60%20during%20the%20%60transferFrom%60%20operation%20set%20the%20flag%20to%20false.%20This%20saves%20gas%20by%20not%20emitting%20any%5Cn%20%20%20%20%20%2A%20%60Approval%60%20event%20during%20%60transferFrom%60%20operations.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Anyone%20who%20wishes%20to%20continue%20emitting%20%60Approval%60%20events%20on%20the%60transferFrom%60%20operation%20can%20force%20the%20flag%20to%5Cn%20%20%20%20%20%2A%20true%20using%20the%20following%20override%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20%60%60%60solidity%5Cn%20%20%20%20%20%2A%20function%20_approve%28address%20owner%2C%20address%20spender%2C%20uint256%20value%2C%20bool%29%20internal%20virtual%20override%20%7B%5Cn%20%20%20%20%20%2A%20%20%20%20%20super._approve%28owner%2C%20spender%2C%20value%2C%20true%29%3B%5Cn%20%20%20%20%20%2A%20%7D%5Cn%20%20%20%20%20%2A%20%60%60%60%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%20are%20the%20same%20as%20%7B_approve%7D.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_approve%28address%20owner%2C%20address%20spender%2C%20uint256%20value%2C%20bool%20emitEvent%29%20internal%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28owner%20%3D%3D%20address%280%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20ERC20InvalidApprover%28address%280%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20if%20%28spender%20%3D%3D%20address%280%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20ERC20InvalidSpender%28address%280%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20_allowances%5Bowner%5D%5Bspender%5D%20%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20if%20%28emitEvent%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20emit%20Approval%28owner%2C%20spender%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Updates%20%60owner%60%20s%20allowance%20for%20%60spender%60%20based%20on%20spent%20%60value%60.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Does%20not%20update%20the%20allowance%20value%20in%20case%20of%20infinite%20allowance.%5Cn%20%20%20%20%20%2A%20Revert%20if%20not%20enough%20allowance%20is%20available.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Does%20not%20emit%20an%20%7BApproval%7D%20event.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_spendAllowance%28address%20owner%2C%20address%20spender%2C%20uint256%20value%29%20internal%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20uint256%20currentAllowance%20%3D%20allowance%28owner%2C%20spender%29%3B%5Cn%20%20%20%20%20%20%20%20if%20%28currentAllowance%20%21%3D%20type%28uint256%29.max%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentAllowance%20%3C%20value%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20revert%20ERC20InsufficientAllowance%28spender%2C%20currentAllowance%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20unchecked%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_approve%28owner%2C%20spender%2C%20currentAllowance%20-%20value%2C%20false%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Ftoken%2FERC20%2FIERC20.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.1.0%29%20%28token%2FERC20%2FIERC20.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Interface%20of%20the%20ERC-20%20standard%20as%20defined%20in%20the%20ERC.%5Cn%20%2A%2F%5Cninterface%20IERC20%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Emitted%20when%20%60value%60%20tokens%20are%20moved%20from%20one%20account%20%28%60from%60%29%20to%5Cn%20%20%20%20%20%2A%20another%20%28%60to%60%29.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Note%20that%20%60value%60%20may%20be%20zero.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20event%20Transfer%28address%20indexed%20from%2C%20address%20indexed%20to%2C%20uint256%20value%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Emitted%20when%20the%20allowance%20of%20a%20%60spender%60%20for%20an%20%60owner%60%20is%20set%20by%5Cn%20%20%20%20%20%2A%20a%20call%20to%20%7Bapprove%7D.%20%60value%60%20is%20the%20new%20allowance.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20event%20Approval%28address%20indexed%20owner%2C%20address%20indexed%20spender%2C%20uint256%20value%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20the%20value%20of%20tokens%20in%20existence.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20totalSupply%28%29%20external%20view%20returns%20%28uint256%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20the%20value%20of%20tokens%20owned%20by%20%60account%60.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20balanceOf%28address%20account%29%20external%20view%20returns%20%28uint256%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Moves%20a%20%60value%60%20amount%20of%20tokens%20from%20the%20caller%27s%20account%20to%20%60to%60.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Returns%20a%20boolean%20value%20indicating%20whether%20the%20operation%20succeeded.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Emits%20a%20%7BTransfer%7D%20event.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transfer%28address%20to%2C%20uint256%20value%29%20external%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20the%20remaining%20number%20of%20tokens%20that%20%60spender%60%20will%20be%5Cn%20%20%20%20%20%2A%20allowed%20to%20spend%20on%20behalf%20of%20%60owner%60%20through%20%7BtransferFrom%7D.%20This%20is%5Cn%20%20%20%20%20%2A%20zero%20by%20default.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20This%20value%20changes%20when%20%7Bapprove%7D%20or%20%7BtransferFrom%7D%20are%20called.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20allowance%28address%20owner%2C%20address%20spender%29%20external%20view%20returns%20%28uint256%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Sets%20a%20%60value%60%20amount%20of%20tokens%20as%20the%20allowance%20of%20%60spender%60%20over%20the%5Cn%20%20%20%20%20%2A%20caller%27s%20tokens.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Returns%20a%20boolean%20value%20indicating%20whether%20the%20operation%20succeeded.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20IMPORTANT%3A%20Beware%20that%20changing%20an%20allowance%20with%20this%20method%20brings%20the%20risk%5Cn%20%20%20%20%20%2A%20that%20someone%20may%20use%20both%20the%20old%20and%20the%20new%20allowance%20by%20unfortunate%5Cn%20%20%20%20%20%2A%20transaction%20ordering.%20One%20possible%20solution%20to%20mitigate%20this%20race%5Cn%20%20%20%20%20%2A%20condition%20is%20to%20first%20reduce%20the%20spender%27s%20allowance%20to%200%20and%20set%20the%5Cn%20%20%20%20%20%2A%20desired%20value%20afterwards%3A%5Cn%20%20%20%20%20%2A%20https%3A%2F%2Fgithub.com%2Fethereum%2FEIPs%2Fissues%2F20%23issuecomment-263524729%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Emits%20an%20%7BApproval%7D%20event.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20approve%28address%20spender%2C%20uint256%20value%29%20external%20returns%20%28bool%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Moves%20a%20%60value%60%20amount%20of%20tokens%20from%20%60from%60%20to%20%60to%60%20using%20the%5Cn%20%20%20%20%20%2A%20allowance%20mechanism.%20%60value%60%20is%20then%20deducted%20from%20the%20caller%27s%5Cn%20%20%20%20%20%2A%20allowance.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Returns%20a%20boolean%20value%20indicating%20whether%20the%20operation%20succeeded.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Emits%20a%20%7BTransfer%7D%20event.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transferFrom%28address%20from%2C%20address%20to%2C%20uint256%20value%29%20external%20returns%20%28bool%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Ftoken%2FERC20%2Fextensions%2FIERC20Metadata.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.1.0%29%20%28token%2FERC20%2Fextensions%2FIERC20Metadata.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7BIERC20%7D%20from%20%5C%22..%2FIERC20.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Interface%20for%20the%20optional%20metadata%20functions%20from%20the%20ERC-20%20standard.%5Cn%20%2A%2F%5Cninterface%20IERC20Metadata%20is%20IERC20%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20the%20name%20of%20the%20token.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20name%28%29%20external%20view%20returns%20%28string%20memory%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20the%20symbol%20of%20the%20token.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20symbol%28%29%20external%20view%20returns%20%28string%20memory%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20the%20decimals%20places%20of%20the%20token.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20decimals%28%29%20external%20view%20returns%20%28uint8%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Ftoken%2FERC20%2Futils%2FSafeERC20.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.1.0%29%20%28token%2FERC20%2Futils%2FSafeERC20.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7BIERC20%7D%20from%20%5C%22..%2FIERC20.sol%5C%22%3B%5Cnimport%20%7BIERC1363%7D%20from%20%5C%22..%2F..%2F..%2Finterfaces%2FIERC1363.sol%5C%22%3B%5Cnimport%20%7BAddress%7D%20from%20%5C%22..%2F..%2F..%2Futils%2FAddress.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40title%20SafeERC20%5Cn%20%2A%20%40dev%20Wrappers%20around%20ERC-20%20operations%20that%20throw%20on%20failure%20%28when%20the%20token%5Cn%20%2A%20contract%20returns%20false%29.%20Tokens%20that%20return%20no%20value%20%28and%20instead%20revert%20or%5Cn%20%2A%20throw%20on%20failure%29%20are%20also%20supported%2C%20non-reverting%20calls%20are%20assumed%20to%20be%5Cn%20%2A%20successful.%5Cn%20%2A%20To%20use%20this%20library%20you%20can%20add%20a%20%60using%20SafeERC20%20for%20IERC20%3B%60%20statement%20to%20your%20contract%2C%5Cn%20%2A%20which%20allows%20you%20to%20call%20the%20safe%20operations%20as%20%60token.safeTransfer%28...%29%60%2C%20etc.%5Cn%20%2A%2F%5Cnlibrary%20SafeERC20%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20An%20operation%20with%20an%20ERC-20%20token%20failed.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20SafeERC20FailedOperation%28address%20token%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Indicates%20a%20failed%20%60decreaseAllowance%60%20request.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20SafeERC20FailedDecreaseAllowance%28address%20spender%2C%20uint256%20currentAllowance%2C%20uint256%20requestedDecrease%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Transfer%20%60value%60%20amount%20of%20%60token%60%20from%20the%20calling%20contract%20to%20%60to%60.%20If%20%60token%60%20returns%20no%20value%2C%5Cn%20%20%20%20%20%2A%20non-reverting%20calls%20are%20assumed%20to%20be%20successful.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20safeTransfer%28IERC20%20token%2C%20address%20to%2C%20uint256%20value%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20_callOptionalReturn%28token%2C%20abi.encodeCall%28token.transfer%2C%20%28to%2C%20value%29%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Transfer%20%60value%60%20amount%20of%20%60token%60%20from%20%60from%60%20to%20%60to%60%2C%20spending%20the%20approval%20given%20by%20%60from%60%20to%20the%5Cn%20%20%20%20%20%2A%20calling%20contract.%20If%20%60token%60%20returns%20no%20value%2C%20non-reverting%20calls%20are%20assumed%20to%20be%20successful.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20safeTransferFrom%28IERC20%20token%2C%20address%20from%2C%20address%20to%2C%20uint256%20value%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20_callOptionalReturn%28token%2C%20abi.encodeCall%28token.transferFrom%2C%20%28from%2C%20to%2C%20value%29%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Increase%20the%20calling%20contract%27s%20allowance%20toward%20%60spender%60%20by%20%60value%60.%20If%20%60token%60%20returns%20no%20value%2C%5Cn%20%20%20%20%20%2A%20non-reverting%20calls%20are%20assumed%20to%20be%20successful.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20IMPORTANT%3A%20If%20the%20token%20implements%20ERC-7674%20%28ERC-20%20with%20temporary%20allowance%29%2C%20and%20if%20the%20%5C%22client%5C%22%5Cn%20%20%20%20%20%2A%20smart%20contract%20uses%20ERC-7674%20to%20set%20temporary%20allowances%2C%20then%20the%20%5C%22client%5C%22%20smart%20contract%20should%20avoid%20using%5Cn%20%20%20%20%20%2A%20this%20function.%20Performing%20a%20%7BsafeIncreaseAllowance%7D%20or%20%7BsafeDecreaseAllowance%7D%20operation%20on%20a%20token%20contract%5Cn%20%20%20%20%20%2A%20that%20has%20a%20non-zero%20temporary%20allowance%20%28for%20that%20particular%20owner-spender%29%20will%20result%20in%20unexpected%20behavior.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20safeIncreaseAllowance%28IERC20%20token%2C%20address%20spender%2C%20uint256%20value%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20uint256%20oldAllowance%20%3D%20token.allowance%28address%28this%29%2C%20spender%29%3B%5Cn%20%20%20%20%20%20%20%20forceApprove%28token%2C%20spender%2C%20oldAllowance%20%2B%20value%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Decrease%20the%20calling%20contract%27s%20allowance%20toward%20%60spender%60%20by%20%60requestedDecrease%60.%20If%20%60token%60%20returns%20no%5Cn%20%20%20%20%20%2A%20value%2C%20non-reverting%20calls%20are%20assumed%20to%20be%20successful.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20IMPORTANT%3A%20If%20the%20token%20implements%20ERC-7674%20%28ERC-20%20with%20temporary%20allowance%29%2C%20and%20if%20the%20%5C%22client%5C%22%5Cn%20%20%20%20%20%2A%20smart%20contract%20uses%20ERC-7674%20to%20set%20temporary%20allowances%2C%20then%20the%20%5C%22client%5C%22%20smart%20contract%20should%20avoid%20using%5Cn%20%20%20%20%20%2A%20this%20function.%20Performing%20a%20%7BsafeIncreaseAllowance%7D%20or%20%7BsafeDecreaseAllowance%7D%20operation%20on%20a%20token%20contract%5Cn%20%20%20%20%20%2A%20that%20has%20a%20non-zero%20temporary%20allowance%20%28for%20that%20particular%20owner-spender%29%20will%20result%20in%20unexpected%20behavior.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20safeDecreaseAllowance%28IERC20%20token%2C%20address%20spender%2C%20uint256%20requestedDecrease%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20unchecked%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20uint256%20currentAllowance%20%3D%20token.allowance%28address%28this%29%2C%20spender%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentAllowance%20%3C%20requestedDecrease%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20revert%20SafeERC20FailedDecreaseAllowance%28spender%2C%20currentAllowance%2C%20requestedDecrease%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20forceApprove%28token%2C%20spender%2C%20currentAllowance%20-%20requestedDecrease%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Set%20the%20calling%20contract%27s%20allowance%20toward%20%60spender%60%20to%20%60value%60.%20If%20%60token%60%20returns%20no%20value%2C%5Cn%20%20%20%20%20%2A%20non-reverting%20calls%20are%20assumed%20to%20be%20successful.%20Meant%20to%20be%20used%20with%20tokens%20that%20require%20the%20approval%5Cn%20%20%20%20%20%2A%20to%20be%20set%20to%20zero%20before%20setting%20it%20to%20a%20non-zero%20value%2C%20such%20as%20USDT.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20NOTE%3A%20If%20the%20token%20implements%20ERC-7674%2C%20this%20function%20will%20not%20modify%20any%20temporary%20allowance.%20This%20function%5Cn%20%20%20%20%20%2A%20only%20sets%20the%20%5C%22standard%5C%22%20allowance.%20Any%20temporary%20allowance%20will%20remain%20active%2C%20in%20addition%20to%20the%20value%20being%5Cn%20%20%20%20%20%2A%20set%20here.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20forceApprove%28IERC20%20token%2C%20address%20spender%2C%20uint256%20value%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20bytes%20memory%20approvalCall%20%3D%20abi.encodeCall%28token.approve%2C%20%28spender%2C%20value%29%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20%28%21_callOptionalReturnBool%28token%2C%20approvalCall%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_callOptionalReturn%28token%2C%20abi.encodeCall%28token.approve%2C%20%28spender%2C%200%29%29%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_callOptionalReturn%28token%2C%20approvalCall%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Performs%20an%20%7BERC1363%7D%20transferAndCall%2C%20with%20a%20fallback%20to%20the%20simple%20%7BERC20%7D%20transfer%20if%20the%20target%20has%20no%5Cn%20%20%20%20%20%2A%20code.%20This%20can%20be%20used%20to%20implement%20an%20%7BERC721%7D-like%20safe%20transfer%20that%20rely%20on%20%7BERC1363%7D%20checks%20when%5Cn%20%20%20%20%20%2A%20targeting%20contracts.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Reverts%20if%20the%20returned%20value%20is%20other%20than%20%60true%60.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transferAndCallRelaxed%28IERC1363%20token%2C%20address%20to%2C%20uint256%20value%2C%20bytes%20memory%20data%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28to.code.length%20%3D%3D%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20safeTransfer%28token%2C%20to%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21token.transferAndCall%28to%2C%20value%2C%20data%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20SafeERC20FailedOperation%28address%28token%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Performs%20an%20%7BERC1363%7D%20transferFromAndCall%2C%20with%20a%20fallback%20to%20the%20simple%20%7BERC20%7D%20transferFrom%20if%20the%20target%5Cn%20%20%20%20%20%2A%20has%20no%20code.%20This%20can%20be%20used%20to%20implement%20an%20%7BERC721%7D-like%20safe%20transfer%20that%20rely%20on%20%7BERC1363%7D%20checks%20when%5Cn%20%20%20%20%20%2A%20targeting%20contracts.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Reverts%20if%20the%20returned%20value%20is%20other%20than%20%60true%60.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20transferFromAndCallRelaxed%28%5Cn%20%20%20%20%20%20%20%20IERC1363%20token%2C%5Cn%20%20%20%20%20%20%20%20address%20from%2C%5Cn%20%20%20%20%20%20%20%20address%20to%2C%5Cn%20%20%20%20%20%20%20%20uint256%20value%2C%5Cn%20%20%20%20%20%20%20%20bytes%20memory%20data%5Cn%20%20%20%20%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28to.code.length%20%3D%3D%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20safeTransferFrom%28token%2C%20from%2C%20to%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21token.transferFromAndCall%28from%2C%20to%2C%20value%2C%20data%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20SafeERC20FailedOperation%28address%28token%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Performs%20an%20%7BERC1363%7D%20approveAndCall%2C%20with%20a%20fallback%20to%20the%20simple%20%7BERC20%7D%20approve%20if%20the%20target%20has%20no%5Cn%20%20%20%20%20%2A%20code.%20This%20can%20be%20used%20to%20implement%20an%20%7BERC721%7D-like%20safe%20transfer%20that%20rely%20on%20%7BERC1363%7D%20checks%20when%5Cn%20%20%20%20%20%2A%20targeting%20contracts.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20NOTE%3A%20When%20the%20recipient%20address%20%28%60to%60%29%20has%20no%20code%20%28i.e.%20is%20an%20EOA%29%2C%20this%20function%20behaves%20as%20%7BforceApprove%7D.%5Cn%20%20%20%20%20%2A%20Opposedly%2C%20when%20the%20recipient%20address%20%28%60to%60%29%20has%20code%2C%20this%20function%20only%20attempts%20to%20call%20%7BERC1363-approveAndCall%7D%5Cn%20%20%20%20%20%2A%20once%20without%20retrying%2C%20and%20relies%20on%20the%20returned%20value%20to%20be%20true.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Reverts%20if%20the%20returned%20value%20is%20other%20than%20%60true%60.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20approveAndCallRelaxed%28IERC1363%20token%2C%20address%20to%2C%20uint256%20value%2C%20bytes%20memory%20data%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28to.code.length%20%3D%3D%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20forceApprove%28token%2C%20to%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21token.approveAndCall%28to%2C%20value%2C%20data%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20SafeERC20FailedOperation%28address%28token%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Imitates%20a%20Solidity%20high-level%20call%20%28i.e.%20a%20regular%20function%20call%20to%20a%20contract%29%2C%20relaxing%20the%20requirement%5Cn%20%20%20%20%20%2A%20on%20the%20return%20value%3A%20the%20return%20value%20is%20optional%20%28but%20if%20data%20is%20returned%2C%20it%20must%20not%20be%20false%29.%5Cn%20%20%20%20%20%2A%20%40param%20token%20The%20token%20targeted%20by%20the%20call.%5Cn%20%20%20%20%20%2A%20%40param%20data%20The%20call%20data%20%28encoded%20using%20abi.encode%20or%20one%20of%20its%20variants%29.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20This%20is%20a%20variant%20of%20%7B_callOptionalReturnBool%7D%20that%20reverts%20if%20call%20fails%20to%20meet%20the%20requirements.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_callOptionalReturn%28IERC20%20token%2C%20bytes%20memory%20data%29%20private%20%7B%5Cn%20%20%20%20%20%20%20%20uint256%20returnSize%3B%5Cn%20%20%20%20%20%20%20%20uint256%20returnValue%3B%5Cn%20%20%20%20%20%20%20%20assembly%20%28%5C%22memory-safe%5C%22%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20let%20success%20%3A%3D%20call%28gas%28%29%2C%20token%2C%200%2C%20add%28data%2C%200x20%29%2C%20mload%28data%29%2C%200%2C%200x20%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20bubble%20errors%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20iszero%28success%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ptr%20%3A%3D%20mload%280x40%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20returndatacopy%28ptr%2C%200%2C%20returndatasize%28%29%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20revert%28ptr%2C%20returndatasize%28%29%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20returnSize%20%3A%3D%20returndatasize%28%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20returnValue%20%3A%3D%20mload%280%29%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20if%20%28returnSize%20%3D%3D%200%20%3F%20address%28token%29.code.length%20%3D%3D%200%20%3A%20returnValue%20%21%3D%201%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20SafeERC20FailedOperation%28address%28token%29%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Imitates%20a%20Solidity%20high-level%20call%20%28i.e.%20a%20regular%20function%20call%20to%20a%20contract%29%2C%20relaxing%20the%20requirement%5Cn%20%20%20%20%20%2A%20on%20the%20return%20value%3A%20the%20return%20value%20is%20optional%20%28but%20if%20data%20is%20returned%2C%20it%20must%20not%20be%20false%29.%5Cn%20%20%20%20%20%2A%20%40param%20token%20The%20token%20targeted%20by%20the%20call.%5Cn%20%20%20%20%20%2A%20%40param%20data%20The%20call%20data%20%28encoded%20using%20abi.encode%20or%20one%20of%20its%20variants%29.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20This%20is%20a%20variant%20of%20%7B_callOptionalReturn%7D%20that%20silently%20catches%20all%20reverts%20and%20returns%20a%20bool%20instead.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_callOptionalReturnBool%28IERC20%20token%2C%20bytes%20memory%20data%29%20private%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20bool%20success%3B%5Cn%20%20%20%20%20%20%20%20uint256%20returnSize%3B%5Cn%20%20%20%20%20%20%20%20uint256%20returnValue%3B%5Cn%20%20%20%20%20%20%20%20assembly%20%28%5C%22memory-safe%5C%22%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20success%20%3A%3D%20call%28gas%28%29%2C%20token%2C%200%2C%20add%28data%2C%200x20%29%2C%20mload%28data%29%2C%200%2C%200x20%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20returnSize%20%3A%3D%20returndatasize%28%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20returnValue%20%3A%3D%20mload%280%29%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20return%20success%20%26%26%20%28returnSize%20%3D%3D%200%20%3F%20address%28token%29.code.length%20%3E%200%20%3A%20returnValue%20%3D%3D%201%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Futils%2FAddress.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.1.0%29%20%28utils%2FAddress.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7BErrors%7D%20from%20%5C%22.%2FErrors.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Collection%20of%20functions%20related%20to%20the%20address%20type%5Cn%20%2A%2F%5Cnlibrary%20Address%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20There%27s%20no%20code%20at%20%60target%60%20%28it%20is%20not%20a%20contract%29.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20AddressEmptyCode%28address%20target%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Replacement%20for%20Solidity%27s%20%60transfer%60%3A%20sends%20%60amount%60%20wei%20to%5Cn%20%20%20%20%20%2A%20%60recipient%60%2C%20forwarding%20all%20available%20gas%20and%20reverting%20on%20errors.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20https%3A%2F%2Feips.ethereum.org%2FEIPS%2Feip-1884%5BEIP1884%5D%20increases%20the%20gas%20cost%5Cn%20%20%20%20%20%2A%20of%20certain%20opcodes%2C%20possibly%20making%20contracts%20go%20over%20the%202300%20gas%20limit%5Cn%20%20%20%20%20%2A%20imposed%20by%20%60transfer%60%2C%20making%20them%20unable%20to%20receive%20funds%20via%5Cn%20%20%20%20%20%2A%20%60transfer%60.%20%7BsendValue%7D%20removes%20this%20limitation.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20https%3A%2F%2Fconsensys.net%2Fdiligence%2Fblog%2F2019%2F09%2Fstop-using-soliditys-transfer-now%2F%5BLearn%20more%5D.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20IMPORTANT%3A%20because%20control%20is%20transferred%20to%20%60recipient%60%2C%20care%20must%20be%5Cn%20%20%20%20%20%2A%20taken%20to%20not%20create%20reentrancy%20vulnerabilities.%20Consider%20using%5Cn%20%20%20%20%20%2A%20%7BReentrancyGuard%7D%20or%20the%5Cn%20%20%20%20%20%2A%20https%3A%2F%2Fsolidity.readthedocs.io%2Fen%2Fv0.8.20%2Fsecurity-considerations.html%23use-the-checks-effects-interactions-pattern%5Bchecks-effects-interactions%20pattern%5D.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20sendValue%28address%20payable%20recipient%2C%20uint256%20amount%29%20internal%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28address%28this%29.balance%20%3C%20amount%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20Errors.InsufficientBalance%28address%28this%29.balance%2C%20amount%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%28bool%20success%2C%20%29%20%3D%20recipient.call%7Bvalue%3A%20amount%7D%28%5C%22%5C%22%29%3B%5Cn%20%20%20%20%20%20%20%20if%20%28%21success%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20Errors.FailedCall%28%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Performs%20a%20Solidity%20function%20call%20using%20a%20low%20level%20%60call%60.%20A%5Cn%20%20%20%20%20%2A%20plain%20%60call%60%20is%20an%20unsafe%20replacement%20for%20a%20function%20call%3A%20use%20this%5Cn%20%20%20%20%20%2A%20function%20instead.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20If%20%60target%60%20reverts%20with%20a%20revert%20reason%20or%20custom%20error%2C%20it%20is%20bubbled%5Cn%20%20%20%20%20%2A%20up%20by%20this%20function%20%28like%20regular%20Solidity%20function%20calls%29.%20However%2C%20if%5Cn%20%20%20%20%20%2A%20the%20call%20reverted%20with%20no%20returned%20reason%2C%20this%20function%20reverts%20with%20a%5Cn%20%20%20%20%20%2A%20%7BErrors.FailedCall%7D%20error.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Returns%20the%20raw%20returned%20data.%20To%20convert%20to%20the%20expected%20return%20value%2C%5Cn%20%20%20%20%20%2A%20use%20https%3A%2F%2Fsolidity.readthedocs.io%2Fen%2Flatest%2Funits-and-global-variables.html%3Fhighlight%3Dabi.decode%23abi-encoding-and-decoding-functions%5B%60abi.decode%60%5D.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20-%20%60target%60%20must%20be%20a%20contract.%5Cn%20%20%20%20%20%2A%20-%20calling%20%60target%60%20with%20%60data%60%20must%20not%20revert.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20functionCall%28address%20target%2C%20bytes%20memory%20data%29%20internal%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20functionCallWithValue%28target%2C%20data%2C%200%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Same%20as%20%7Bxref-Address-functionCall-address-bytes-%7D%5B%60functionCall%60%5D%2C%5Cn%20%20%20%20%20%2A%20but%20also%20transferring%20%60value%60%20wei%20to%20%60target%60.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20-%20the%20calling%20contract%20must%20have%20an%20ETH%20balance%20of%20at%20least%20%60value%60.%5Cn%20%20%20%20%20%2A%20-%20the%20called%20Solidity%20function%20must%20be%20%60payable%60.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20functionCallWithValue%28address%20target%2C%20bytes%20memory%20data%2C%20uint256%20value%29%20internal%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28address%28this%29.balance%20%3C%20value%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20Errors.InsufficientBalance%28address%28this%29.balance%2C%20value%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%28bool%20success%2C%20bytes%20memory%20returndata%29%20%3D%20target.call%7Bvalue%3A%20value%7D%28data%29%3B%5Cn%20%20%20%20%20%20%20%20return%20verifyCallResultFromTarget%28target%2C%20success%2C%20returndata%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Same%20as%20%7Bxref-Address-functionCall-address-bytes-%7D%5B%60functionCall%60%5D%2C%5Cn%20%20%20%20%20%2A%20but%20performing%20a%20static%20call.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20functionStaticCall%28address%20target%2C%20bytes%20memory%20data%29%20internal%20view%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20%28bool%20success%2C%20bytes%20memory%20returndata%29%20%3D%20target.staticcall%28data%29%3B%5Cn%20%20%20%20%20%20%20%20return%20verifyCallResultFromTarget%28target%2C%20success%2C%20returndata%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Same%20as%20%7Bxref-Address-functionCall-address-bytes-%7D%5B%60functionCall%60%5D%2C%5Cn%20%20%20%20%20%2A%20but%20performing%20a%20delegate%20call.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20functionDelegateCall%28address%20target%2C%20bytes%20memory%20data%29%20internal%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20%28bool%20success%2C%20bytes%20memory%20returndata%29%20%3D%20target.delegatecall%28data%29%3B%5Cn%20%20%20%20%20%20%20%20return%20verifyCallResultFromTarget%28target%2C%20success%2C%20returndata%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Tool%20to%20verify%20that%20a%20low%20level%20call%20to%20smart-contract%20was%20successful%2C%20and%20reverts%20if%20the%20target%5Cn%20%20%20%20%20%2A%20was%20not%20a%20contract%20or%20bubbling%20up%20the%20revert%20reason%20%28falling%20back%20to%20%7BErrors.FailedCall%7D%29%20in%20case%5Cn%20%20%20%20%20%2A%20of%20an%20unsuccessful%20call.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20verifyCallResultFromTarget%28%5Cn%20%20%20%20%20%20%20%20address%20target%2C%5Cn%20%20%20%20%20%20%20%20bool%20success%2C%5Cn%20%20%20%20%20%20%20%20bytes%20memory%20returndata%5Cn%20%20%20%20%29%20internal%20view%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28%21success%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_revert%28returndata%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20only%20check%20if%20target%20is%20a%20contract%20if%20the%20call%20was%20successful%20and%20the%20return%20data%20is%20empty%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20otherwise%20we%20already%20know%20that%20it%20was%20a%20contract%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28returndata.length%20%3D%3D%200%20%26%26%20target.code.length%20%3D%3D%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20revert%20AddressEmptyCode%28target%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20returndata%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Tool%20to%20verify%20that%20a%20low%20level%20call%20was%20successful%2C%20and%20reverts%20if%20it%20wasn%27t%2C%20either%20by%20bubbling%20the%5Cn%20%20%20%20%20%2A%20revert%20reason%20or%20with%20a%20default%20%7BErrors.FailedCall%7D%20error.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20verifyCallResult%28bool%20success%2C%20bytes%20memory%20returndata%29%20internal%20pure%20returns%20%28bytes%20memory%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28%21success%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_revert%28returndata%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20returndata%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Reverts%20with%20returndata%20if%20present.%20Otherwise%20reverts%20with%20%7BErrors.FailedCall%7D.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_revert%28bytes%20memory%20returndata%29%20private%20pure%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Look%20for%20revert%20reason%20and%20bubble%20it%20up%20if%20present%5Cn%20%20%20%20%20%20%20%20if%20%28returndata.length%20%3E%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20The%20easiest%20way%20to%20bubble%20the%20revert%20reason%20is%20using%20memory%20via%20assembly%5Cn%20%20%20%20%20%20%20%20%20%20%20%20assembly%20%28%5C%22memory-safe%5C%22%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20returndata_size%20%3A%3D%20mload%28returndata%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20revert%28add%2832%2C%20returndata%29%2C%20returndata_size%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20Errors.FailedCall%28%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Futils%2FContext.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.0.1%29%20%28utils%2FContext.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Provides%20information%20about%20the%20current%20execution%20context%2C%20including%20the%5Cn%20%2A%20sender%20of%20the%20transaction%20and%20its%20data.%20While%20these%20are%20generally%20available%5Cn%20%2A%20via%20msg.sender%20and%20msg.data%2C%20they%20should%20not%20be%20accessed%20in%20such%20a%20direct%5Cn%20%2A%20manner%2C%20since%20when%20dealing%20with%20meta-transactions%20the%20account%20sending%20and%5Cn%20%2A%20paying%20for%20execution%20may%20not%20be%20the%20actual%20sender%20%28as%20far%20as%20an%20application%5Cn%20%2A%20is%20concerned%29.%5Cn%20%2A%5Cn%20%2A%20This%20contract%20is%20only%20required%20for%20intermediate%2C%20library-like%20contracts.%5Cn%20%2A%2F%5Cnabstract%20contract%20Context%20%7B%5Cn%20%20%20%20function%20_msgSender%28%29%20internal%20view%20virtual%20returns%20%28address%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20msg.sender%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20_msgData%28%29%20internal%20view%20virtual%20returns%20%28bytes%20calldata%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20msg.data%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20_contextSuffixLength%28%29%20internal%20view%20virtual%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%200%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Futils%2FErrors.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.1.0%29%20%28utils%2FErrors.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Collection%20of%20common%20custom%20errors%20used%20in%20multiple%20contracts%5Cn%20%2A%5Cn%20%2A%20IMPORTANT%3A%20Backwards%20compatibility%20is%20not%20guaranteed%20in%20future%20versions%20of%20the%20library.%5Cn%20%2A%20It%20is%20recommended%20to%20avoid%20relying%20on%20the%20error%20API%20for%20critical%20functionality.%5Cn%20%2A%5Cn%20%2A%20_Available%20since%20v5.1._%5Cn%20%2A%2F%5Cnlibrary%20Errors%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20The%20ETH%20balance%20of%20the%20account%20is%20not%20enough%20to%20perform%20the%20operation.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20InsufficientBalance%28uint256%20balance%2C%20uint256%20needed%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20A%20call%20to%20an%20address%20target%20failed.%20The%20target%20may%20have%20reverted.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20FailedCall%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20The%20deployment%20failed.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20FailedDeployment%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20A%20necessary%20precompile%20is%20missing.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20MissingPrecompile%28address%29%3B%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Futils%2FPausable.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.0.0%29%20%28utils%2FPausable.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cnimport%20%7BContext%7D%20from%20%5C%22..%2Futils%2FContext.sol%5C%22%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Contract%20module%20which%20allows%20children%20to%20implement%20an%20emergency%20stop%5Cn%20%2A%20mechanism%20that%20can%20be%20triggered%20by%20an%20authorized%20account.%5Cn%20%2A%5Cn%20%2A%20This%20module%20is%20used%20through%20inheritance.%20It%20will%20make%20available%20the%5Cn%20%2A%20modifiers%20%60whenNotPaused%60%20and%20%60whenPaused%60%2C%20which%20can%20be%20applied%20to%5Cn%20%2A%20the%20functions%20of%20your%20contract.%20Note%20that%20they%20will%20not%20be%20pausable%20by%5Cn%20%2A%20simply%20including%20this%20module%2C%20only%20once%20the%20modifiers%20are%20put%20in%20place.%5Cn%20%2A%2F%5Cnabstract%20contract%20Pausable%20is%20Context%20%7B%5Cn%20%20%20%20bool%20private%20_paused%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Emitted%20when%20the%20pause%20is%20triggered%20by%20%60account%60.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20event%20Paused%28address%20account%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Emitted%20when%20the%20pause%20is%20lifted%20by%20%60account%60.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20event%20Unpaused%28address%20account%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20The%20operation%20failed%20because%20the%20contract%20is%20paused.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20EnforcedPause%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20The%20operation%20failed%20because%20the%20contract%20is%20not%20paused.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ExpectedPause%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Initializes%20the%20contract%20in%20unpaused%20state.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20constructor%28%29%20%7B%5Cn%20%20%20%20%20%20%20%20_paused%20%3D%20false%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Modifier%20to%20make%20a%20function%20callable%20only%20when%20the%20contract%20is%20not%20paused.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20-%20The%20contract%20must%20not%20be%20paused.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20modifier%20whenNotPaused%28%29%20%7B%5Cn%20%20%20%20%20%20%20%20_requireNotPaused%28%29%3B%5Cn%20%20%20%20%20%20%20%20_%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Modifier%20to%20make%20a%20function%20callable%20only%20when%20the%20contract%20is%20paused.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20-%20The%20contract%20must%20be%20paused.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20modifier%20whenPaused%28%29%20%7B%5Cn%20%20%20%20%20%20%20%20_requirePaused%28%29%3B%5Cn%20%20%20%20%20%20%20%20_%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20true%20if%20the%20contract%20is%20paused%2C%20and%20false%20otherwise.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20paused%28%29%20public%20view%20virtual%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_paused%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Throws%20if%20the%20contract%20is%20paused.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_requireNotPaused%28%29%20internal%20view%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28paused%28%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20EnforcedPause%28%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Throws%20if%20the%20contract%20is%20not%20paused.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_requirePaused%28%29%20internal%20view%20virtual%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28%21paused%28%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20ExpectedPause%28%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Triggers%20stopped%20state.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20-%20The%20contract%20must%20not%20be%20paused.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_pause%28%29%20internal%20virtual%20whenNotPaused%20%7B%5Cn%20%20%20%20%20%20%20%20_paused%20%3D%20true%3B%5Cn%20%20%20%20%20%20%20%20emit%20Paused%28_msgSender%28%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20to%20normal%20state.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20Requirements%3A%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20-%20The%20contract%20must%20be%20paused.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_unpause%28%29%20internal%20virtual%20whenPaused%20%7B%5Cn%20%20%20%20%20%20%20%20_paused%20%3D%20false%3B%5Cn%20%20%20%20%20%20%20%20emit%20Unpaused%28_msgSender%28%29%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Futils%2FReentrancyGuard.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.1.0%29%20%28utils%2FReentrancyGuard.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Contract%20module%20that%20helps%20prevent%20reentrant%20calls%20to%20a%20function.%5Cn%20%2A%5Cn%20%2A%20Inheriting%20from%20%60ReentrancyGuard%60%20will%20make%20the%20%7BnonReentrant%7D%20modifier%5Cn%20%2A%20available%2C%20which%20can%20be%20applied%20to%20functions%20to%20make%20sure%20there%20are%20no%20nested%5Cn%20%2A%20%28reentrant%29%20calls%20to%20them.%5Cn%20%2A%5Cn%20%2A%20Note%20that%20because%20there%20is%20a%20single%20%60nonReentrant%60%20guard%2C%20functions%20marked%20as%5Cn%20%2A%20%60nonReentrant%60%20may%20not%20call%20one%20another.%20This%20can%20be%20worked%20around%20by%20making%5Cn%20%2A%20those%20functions%20%60private%60%2C%20and%20then%20adding%20%60external%60%20%60nonReentrant%60%20entry%5Cn%20%2A%20points%20to%20them.%5Cn%20%2A%5Cn%20%2A%20TIP%3A%20If%20EIP-1153%20%28transient%20storage%29%20is%20available%20on%20the%20chain%20you%27re%20deploying%20at%2C%5Cn%20%2A%20consider%20using%20%7BReentrancyGuardTransient%7D%20instead.%5Cn%20%2A%5Cn%20%2A%20TIP%3A%20If%20you%20would%20like%20to%20learn%20more%20about%20reentrancy%20and%20alternative%20ways%5Cn%20%2A%20to%20protect%20against%20it%2C%20check%20out%20our%20blog%20post%5Cn%20%2A%20https%3A%2F%2Fblog.openzeppelin.com%2Freentrancy-after-istanbul%2F%5BReentrancy%20After%20Istanbul%5D.%5Cn%20%2A%2F%5Cnabstract%20contract%20ReentrancyGuard%20%7B%5Cn%20%20%20%20%2F%2F%20Booleans%20are%20more%20expensive%20than%20uint256%20or%20any%20type%20that%20takes%20up%20a%20full%5Cn%20%20%20%20%2F%2F%20word%20because%20each%20write%20operation%20emits%20an%20extra%20SLOAD%20to%20first%20read%20the%5Cn%20%20%20%20%2F%2F%20slot%27s%20contents%2C%20replace%20the%20bits%20taken%20up%20by%20the%20boolean%2C%20and%20then%20write%5Cn%20%20%20%20%2F%2F%20back.%20This%20is%20the%20compiler%27s%20defense%20against%20contract%20upgrades%20and%5Cn%20%20%20%20%2F%2F%20pointer%20aliasing%2C%20and%20it%20cannot%20be%20disabled.%5Cn%5Cn%20%20%20%20%2F%2F%20The%20values%20being%20non-zero%20value%20makes%20deployment%20a%20bit%20more%20expensive%2C%5Cn%20%20%20%20%2F%2F%20but%20in%20exchange%20the%20refund%20on%20every%20call%20to%20nonReentrant%20will%20be%20lower%20in%5Cn%20%20%20%20%2F%2F%20amount.%20Since%20refunds%20are%20capped%20to%20a%20percentage%20of%20the%20total%5Cn%20%20%20%20%2F%2F%20transaction%27s%20gas%2C%20it%20is%20best%20to%20keep%20them%20low%20in%20cases%20like%20this%20one%2C%20to%5Cn%20%20%20%20%2F%2F%20increase%20the%20likelihood%20of%20the%20full%20refund%20coming%20into%20effect.%5Cn%20%20%20%20uint256%20private%20constant%20NOT_ENTERED%20%3D%201%3B%5Cn%20%20%20%20uint256%20private%20constant%20ENTERED%20%3D%202%3B%5Cn%5Cn%20%20%20%20uint256%20private%20_status%3B%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Unauthorized%20reentrant%20call.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20error%20ReentrancyGuardReentrantCall%28%29%3B%5Cn%5Cn%20%20%20%20constructor%28%29%20%7B%5Cn%20%20%20%20%20%20%20%20_status%20%3D%20NOT_ENTERED%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Prevents%20a%20contract%20from%20calling%20itself%2C%20directly%20or%20indirectly.%5Cn%20%20%20%20%20%2A%20Calling%20a%20%60nonReentrant%60%20function%20from%20another%20%60nonReentrant%60%5Cn%20%20%20%20%20%2A%20function%20is%20not%20supported.%20It%20is%20possible%20to%20prevent%20this%20from%20happening%5Cn%20%20%20%20%20%2A%20by%20making%20the%20%60nonReentrant%60%20function%20external%2C%20and%20making%20it%20call%20a%5Cn%20%20%20%20%20%2A%20%60private%60%20function%20that%20does%20the%20actual%20work.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20modifier%20nonReentrant%28%29%20%7B%5Cn%20%20%20%20%20%20%20%20_nonReentrantBefore%28%29%3B%5Cn%20%20%20%20%20%20%20%20_%3B%5Cn%20%20%20%20%20%20%20%20_nonReentrantAfter%28%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20_nonReentrantBefore%28%29%20private%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20On%20the%20first%20call%20to%20nonReentrant%2C%20_status%20will%20be%20NOT_ENTERED%5Cn%20%20%20%20%20%20%20%20if%20%28_status%20%3D%3D%20ENTERED%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20ReentrancyGuardReentrantCall%28%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Any%20calls%20to%20nonReentrant%20after%20this%20point%20will%20fail%5Cn%20%20%20%20%20%20%20%20_status%20%3D%20ENTERED%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20function%20_nonReentrantAfter%28%29%20private%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20By%20storing%20the%20original%20value%20once%20again%2C%20a%20refund%20is%20triggered%20%28see%5Cn%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Feips.ethereum.org%2FEIPS%2Feip-2200%29%5Cn%20%20%20%20%20%20%20%20_status%20%3D%20NOT_ENTERED%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20true%20if%20the%20reentrancy%20guard%20is%20currently%20set%20to%20%5C%22entered%5C%22%2C%20which%20indicates%20there%20is%20a%5Cn%20%20%20%20%20%2A%20%60nonReentrant%60%20function%20in%20the%20call%20stack.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20_reentrancyGuardEntered%28%29%20internal%20view%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20_status%20%3D%3D%20ENTERED%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22%40openzeppelin%2Fcontracts%2Futils%2Fintrospection%2FIERC165.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cn%2F%2F%20OpenZeppelin%20Contracts%20%28last%20updated%20v5.1.0%29%20%28utils%2Fintrospection%2FIERC165.sol%29%5Cn%5Cnpragma%20solidity%20%5E0.8.20%3B%5Cn%5Cn%2F%2A%2A%5Cn%20%2A%20%40dev%20Interface%20of%20the%20ERC-165%20standard%2C%20as%20defined%20in%20the%5Cn%20%2A%20https%3A%2F%2Feips.ethereum.org%2FEIPS%2Feip-165%5BERC%5D.%5Cn%20%2A%5Cn%20%2A%20Implementers%20can%20declare%20support%20of%20contract%20interfaces%2C%20which%20can%20then%20be%5Cn%20%2A%20queried%20by%20others%20%28%7BERC165Checker%7D%29.%5Cn%20%2A%5Cn%20%2A%20For%20an%20implementation%2C%20see%20%7BERC165%7D.%5Cn%20%2A%2F%5Cninterface%20IERC165%20%7B%5Cn%20%20%20%20%2F%2A%2A%5Cn%20%20%20%20%20%2A%20%40dev%20Returns%20true%20if%20this%20contract%20implements%20the%20interface%20defined%20by%5Cn%20%20%20%20%20%2A%20%60interfaceId%60.%20See%20the%20corresponding%5Cn%20%20%20%20%20%2A%20https%3A%2F%2Feips.ethereum.org%2FEIPS%2Feip-165%23how-interfaces-are-identified%5BERC%20section%5D%5Cn%20%20%20%20%20%2A%20to%20learn%20more%20about%20how%20these%20ids%20are%20created.%5Cn%20%20%20%20%20%2A%5Cn%20%20%20%20%20%2A%20This%20function%20call%20must%20use%20less%20than%2030%20000%20gas.%5Cn%20%20%20%20%20%2A%2F%5Cn%20%20%20%20function%20supportsInterface%28bytes4%20interfaceId%29%20external%20view%20returns%20%28bool%29%3B%5Cn%7D%5Cn%22%7D%2C%22contracts%2Finterfaces%2FIERC20MintableAndBurnable.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cnpragma%20solidity%200.8.22%3B%5Cn%5Cninterface%20IERC20MintableAndBurnable%20%7B%5Cn%20%20%20%20function%20mint%28address%20account%2C%20uint256%20amount%29%20external%3B%5Cn%20%20%20%20function%20burn%28address%20account%2C%20uint256%20amount%29%20external%3B%5Cn%7D%5Cn%22%7D%2C%22contracts%2Flibraries%2FConstantsLib.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cnpragma%20solidity%200.8.22%3B%5Cn%5Cn%2F%2F%2F%20%40dev%20The%20maximum%20fees%20rate%20in%20basic%20point%20%2810%25%29%5Cnuint16%20constant%20MAX_FEE%20%3D%2010_00%3B%5Cn%5Cn%2F%2F%2F%20%40dev%20The%20amount%20of%20seconds%20in%20a%20day%5Cnuint256%20constant%20DAY_IN_SECONDS%20%3D%2086400%3B%5Cn%5Cn%2F%2F%2F%20%40dev%20The%20maximum%20global%20limit%20allowed%5Cnuint256%20constant%20MAX_GLOBAL_LIMIT%20%3D%20uint256%28type%28int256%29.max%29%3B%5Cn%22%7D%2C%22contracts%2Flibraries%2FErrorsLib.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cnpragma%20solidity%200.8.22%3B%5Cn%5Cn%2F%2F%2F%20%40title%20ErrorsLib%5Cn%2F%2F%2F%20%40author%20Cooper%20Labs%5Cn%2F%2F%2F%20%40custom%3Acontact%20security%40cooperlabs.xyz%5Cn%2F%2F%2F%20%40notice%20Library%20exposing%20all%20errors%20link%20to%20the%20bridging%20module.%5Cnlibrary%20ErrorsLib%20%7B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Thrown%20when%20the%20address%20is%20zero.%5Cn%20%20%20%20error%20AddressZero%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Thrown%20when%20the%20amount%20of%20token%20to%20bridge%20from%20the%20current%20chain%20exceed%20the%20daily%20limit.%5Cn%20%20%20%20error%20DailyDebitLimitReached%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Thrown%20when%20the%20amount%20of%20token%20to%20bridge%20from%20the%20current%20chain%20exceed%20the%20global%20limit%20allowed.%5Cn%20%20%20%20error%20GlobalDebitLimitReached%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Thrown%20when%20the%20new%20fees%20rate%20exceeds%20the%20maximum%20fees.%5Cn%20%20%20%20error%20MaxFeesRateExceeded%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Thrown%20when%20in%20isolate%20mode%20the%20amount%20to%20bridge%20exceed%20the%20total%20amount%20minted%20on%20the%20current%20chain.%5Cn%20%20%20%20error%20IsolateModeLimitReach%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Thrown%20when%20the%20new%20globalLimit%20value%20exceed%20%60MAX_GLOBAL_LIMIT%60.%5Cn%20%20%20%20error%20GlobalLimitOverFlow%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Thrown%20when%20the%20msg%20length%20is%20invalid.%5Cn%20%20%20%20error%20InvalidMsgLength%28%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Thrown%20when%20the%20amount%20of%20OFT%20token%20to%20swap%20in%20principalToken%20is%200.%5Cn%20%20%20%20error%20NothingToSwap%28%29%3B%5Cn%7D%5Cn%22%7D%2C%22contracts%2Flibraries%2FEventsLib.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cnpragma%20solidity%200.8.22%3B%5Cn%5Cn%2F%2F%2F%20%40title%20EventsLib%5Cn%2F%2F%2F%20%40author%20Cooper%20Labs%5Cn%2F%2F%2F%20%40custom%3Acontact%20security%40cooperlabs.xyz%5Cn%2F%2F%2F%20%40notice%20Library%20exposing%20all%20errors%20link%20to%20the%20bridging%20module.%5Cnlibrary%20EventsLib%20%7B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20the%20isolate%20mode%20is%20toggled%20by%20the%20Owner.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20isolateMode%20the%20flag%20to%20indicate%20if%20the%20isolate%20mode%20is%20enabled.%5Cn%20%20%20%20event%20IsolateModeToggled%28bool%20isolateMode%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20a%20new%20daily%20credit%20limit%20is%20set%20by%20the%20Owner.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20dailyCreditLimit%20the%20new%20daily%20credit%20limit.%5Cn%20%20%20%20event%20DailyCreditLimitSet%28uint256%20dailyCreditLimit%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20a%20new%20daily%20debit%20limit%20is%20set%20by%20the%20Owner.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20dailyDebitLimit%20the%20new%20daily%20debit%20limit.%5Cn%20%20%20%20event%20DailyDebitLimitSet%28uint256%20dailyDebitLimit%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20a%20new%20global%20credit%20limit%20is%20set%20by%20the%20Owner.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20globalCreditLimit%20the%20new%20global%20credit%20limit.%5Cn%20%20%20%20event%20GlobalCreditLimitSet%28uint256%20globalCreditLimit%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20a%20new%20global%20debit%20limit%20is%20set%20by%20the%20Owner.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20globalDebitLimit%20the%20new%20global%20debit%20limit.%5Cn%20%20%20%20event%20GlobalDebitLimitSet%28uint256%20globalDebitLimit%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20the%20fees%20rate%20is%20set%20by%20the%20Owner.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20feesRate%20the%20new%20fees%20rate.%5Cn%20%20%20%20event%20FeesRateSet%28uint16%20feesRate%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20the%20fees%20recipient%20is%20set%20by%20the%20Owner.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20feesRecipient%20the%20new%20fees%20recipient%20address.%5Cn%20%20%20%20event%20FeesRecipientSet%28address%20feesRecipient%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20tokens%20are%20sent%20from%20the%20src%20chain%20to%20the%20dst%20chain.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20guid%20the%20GUID%20of%20the%20OFT%20message.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20dstEid%20the%20Eid%20code%20of%20the%20destination%20chain.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20from%20the%20Address%20of%20the%20token%20sender.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20to%20the%20Address%20that%20will%20receive%20the%20tokens.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20nativeFeeAmount%20the%20amount%20of%20the%20fees%20in%20native%20token.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20isPrincipalTokenSent%20the%20flag%20to%20indicate%20if%20the%20principal%20tokens%20are%20burned%20or%20OFTs.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20amountSent%20the%20amount%20sent.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20amountReceive%20the%20amount%20expected%20to%20receive%20on%20the%20destination%20chain.%5Cn%20%20%20%20event%20BridgeableTokenSent%28%5Cn%20%20%20%20%20%20%20%20bytes32%20guid%2C%5Cn%20%20%20%20%20%20%20%20uint32%20indexed%20dstEid%2C%5Cn%20%20%20%20%20%20%20%20address%20indexed%20from%2C%5Cn%20%20%20%20%20%20%20%20address%20indexed%20to%2C%5Cn%20%20%20%20%20%20%20%20uint256%20nativeFeeAmount%2C%5Cn%20%20%20%20%20%20%20%20bool%20isPrincipalTokenSent%2C%5Cn%20%20%20%20%20%20%20%20uint256%20amountSent%2C%5Cn%20%20%20%20%20%20%20%20uint256%20amountReceive%5Cn%20%20%20%20%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20the%20caller%20send%20principal%20tokens.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20to%20the%20Address%20of%20the%20token%20reciever.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20totalAmount%20the%20total%20amount%20of%20tokens%20sent.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20amountSent%20the%20amount%20sent%20from%20the%20locked%20balance.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20amountMinted%20the%20amount%20minted.%5Cn%20%20%20%20event%20PrincipalTokenCredited%28address%20to%2C%20uint256%20totalAmount%2C%20uint256%20amountSent%2C%20uint256%20amountMinted%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20the%20caller%20debits%20principal%20tokens.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20to%20the%20Address%20of%20the%20token%20reciever.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20totalAmount%20the%20total%20amount%20of%20tokens%20debited.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20amountLocked%20the%20amount%20debited%20from%20the%20locked%20balance.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20amountBurned%20the%20amount%20burned.%5Cn%20%20%20%20event%20PrincipalTokenDebited%28address%20to%2C%20uint256%20totalAmount%2C%20uint256%20amountLocked%2C%20uint256%20amountBurned%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20tokens%20are%20received%20from%20the%20src%20chain%20to%20the%20dst%20chain.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20guid%20the%20GUID%20of%20the%20OFT%20message.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20srcEid%20the%20Eid%20code%20of%20the%20source%20chain.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20from%20the%20Address%20of%20the%20token%20sender.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20to%20the%20Address%20of%20the%20token%20receiver.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20amountReceived%20the%20amount%20of%20tokens%20received.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20oftReceived%20the%20amount%20of%20OFT%20received.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20feeAmount%20the%20amount%20of%20the%20fees.%5Cn%20%20%20%20event%20BridgeableTokenReceived%28%5Cn%20%20%20%20%20%20%20%20bytes32%20guid%2C%5Cn%20%20%20%20%20%20%20%20uint32%20indexed%20srcEid%2C%5Cn%20%20%20%20%20%20%20%20address%20indexed%20from%2C%5Cn%20%20%20%20%20%20%20%20address%20indexed%20to%2C%5Cn%20%20%20%20%20%20%20%20uint256%20amountReceived%2C%5Cn%20%20%20%20%20%20%20%20uint256%20oftReceived%2C%5Cn%20%20%20%20%20%20%20%20uint256%20feeAmount%5Cn%20%20%20%20%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20the%20caller%20swap%20OFT%20for%20principal%20tokens.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20caller%20Address%20of%20the%20caller.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20to%20Address%20of%20the%20receiver.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20amountSwapped%20Amount%20of%20OFT%20swapped.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20principalTokenAmountCredited%20Amount%20of%20principal%20tokens%20credited.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20feeAmount%20Amount%20of%20fees%20in%20principal%20token.%5Cn%20%20%20%20event%20OFTSwapped%28%5Cn%20%20%20%20%20%20%20%20address%20caller%2C%5Cn%20%20%20%20%20%20%20%20address%20to%2C%5Cn%20%20%20%20%20%20%20%20uint256%20amountSwapped%2C%5Cn%20%20%20%20%20%20%20%20uint256%20principalTokenAmountCredited%2C%5Cn%20%20%20%20%20%20%20%20uint256%20feeAmount%5Cn%20%20%20%20%29%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Event%20emitted%20when%20a%20new%20BridgeableToken%20is%20created.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20Used%20to%20init%20the%20indexer.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20initialPrincipalTokenAmountMinted%20The%20initial%20amount%20of%20principal%20tokens%20minted.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20initialCreditDebitBalance%20The%20initial%20credit%20debit%20balance.%5Cn%20%20%20%20event%20BridgeableTokenCreated%28uint256%20initialPrincipalTokenAmountMinted%2C%20int256%20initialCreditDebitBalance%29%3B%5Cn%7D%5Cn%22%7D%2C%22contracts%2Flibraries%2FMathLib.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cnpragma%20solidity%200.8.22%3B%5Cn%5Cn%2F%2F%2F%20%40notice%20Arithmetic%20library%20with%20operations%20for%20fixed-point%20numbers.%5Cn%2F%2F%2F%20%40author%20Solady%20%28https%3A%2F%2Fgithub.com%2Fvectorized%2Fsolady%2Fblob%2Fmain%2Fsrc%2Futils%2FFixedPointMathLib.sol%29%5Cn%2F%2F%2F%20%40author%20Modified%20from%20Solmate%20%28https%3A%2F%2Fgithub.com%2Ftransmissions11%2Fsolmate%2Fblob%2Fmain%2Fsrc%2Futils%2FFixedPointMathLib.sol%29%5Cnlibrary%20MathLib%20%7B%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20Returns%20the%20absolute%20value%20of%20%60x%60.%5Cn%20%20%20%20function%20abs%28int256%20x%29%20internal%20pure%20returns%20%28uint256%20z%29%20%7B%5Cn%20%20%20%20%20%20%20%20assembly%20%28%5C%22memory-safe%5C%22%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20z%20%3A%3D%20xor%28sar%28255%2C%20x%29%2C%20add%28sar%28255%2C%20x%29%2C%20x%29%29%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20Returns%20the%20negative%20value%20of%20%60x%60.%5Cn%20%20%20%20function%20neg%28uint256%20x%29%20internal%20pure%20returns%20%28int256%20z%29%20%7B%5Cn%20%20%20%20%20%20%20%20assembly%20%28%5C%22memory-safe%5C%22%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20z%20%3A%3D%20sub%280%2C%20x%29%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20Returns%20the%20minimum%20of%20%60x%60%20and%20%60y%60.%5Cn%20%20%20%20function%20min%28uint256%20x%2C%20uint256%20y%29%20internal%20pure%20returns%20%28uint256%20z%29%20%7B%5Cn%20%20%20%20%20%20%20%20assembly%20%28%5C%22memory-safe%5C%22%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20z%20%3A%3D%20xor%28x%2C%20mul%28xor%28x%2C%20y%29%2C%20lt%28y%2C%20x%29%29%29%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22contracts%2Flibraries%2FPercentageMathLib.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cnpragma%20solidity%200.8.22%3B%5Cn%5Cn%2F%2F%2F%20%40title%20PercentageMath%20library%5Cn%2F%2F%2F%20%40notice%20Optimized%20version%20of%20Aave%20V3%20math%20library%20PercentageMath%20to%20conduct%20percentage%20manipulations%3A%5Cn%2F%2F%2F%20https%3A%2F%2Fgithub.com%2Faave%2Faave-v3-core%2Fblob%2Fmaster%2Fcontracts%2Fprotocol%2Flibraries%2Fmath%2FPercentageMath.sol%5Cnlibrary%20PercentageMathLib%20%7B%5Cn%20%20%20%20uint256%20internal%20constant%20PERCENTAGE_FACTOR%20%3D%2010_000%3B%5Cn%20%20%20%20uint256%20internal%20constant%20HALF_PERCENTAGE_FACTOR%20%3D%205000%3B%5Cn%20%20%20%20uint256%20internal%20constant%20MAX_UINT256%20%3D%202%20%2A%2A%20256%20-%201%3B%5Cn%20%20%20%20uint256%20internal%20constant%20MAX_UINT256_MINUS_HALF_PERCENTAGE_FACTOR%20%3D%202%20%2A%2A%20256%20-%201%20-%205000%3B%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Executes%20the%20bps-based%20multiplication%20%28x%20%2A%20p%29%2C%20rounded%20half%20up.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20x%20The%20value%20to%20multiply%20by%20the%20percentage.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20percentage%20The%20percentage%20of%20the%20value%20to%20multiply%20%28in%20bps%29.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20y%20The%20result%20of%20the%20multiplication.%5Cn%20%20%20%20function%20percentMul%28uint256%20x%2C%20uint256%20percentage%29%20internal%20pure%20returns%20%28uint256%20y%29%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20to%20avoid%20overflow%2C%20value%20%3C%3D%20%28type%28uint256%29.max%20-%20HALF_PERCENTAGE_FACTOR%29%20%2F%20percentage%5Cn%20%20%20%20%20%20%20%20assembly%20%28%5C%22memory-safe%5C%22%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20mul%28percentage%2C%20gt%28x%2C%20div%28MAX_UINT256_MINUS_HALF_PERCENTAGE_FACTOR%2C%20percentage%29%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20revert%280%2C%200%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20y%20%3A%3D%20div%28add%28mul%28x%2C%20percentage%29%2C%20HALF_PERCENTAGE_FACTOR%29%2C%20PERCENTAGE_FACTOR%29%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Executes%20the%20bps-based%20division%20%28x%20%2F%20p%29%2C%20rounded%20half%20up.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20x%20The%20value%20to%20divide%20by%20the%20percentage.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20percentage%20The%20percentage%20of%20the%20value%20to%20divide%20%28in%20bps%29.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20y%20The%20result%20of%20the%20division.%5Cn%20%20%20%20function%20percentDiv%28uint256%20x%2C%20uint256%20percentage%29%20internal%20pure%20returns%20%28uint256%20y%29%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%201.%20Division%20by%200%20if%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20percentage%20%3D%3D%200%5Cn%20%20%20%20%20%20%20%20%2F%2F%202.%20Overflow%20if%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20x%20%2A%20PERCENTAGE_FACTOR%20%2B%20percentage%20%2F%202%20%3E%20type%28uint256%29.max%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%3C%3D%3E%20x%20%3E%20%28type%28uint256%29.max%20-%20percentage%20%2F%202%29%20%2F%20PERCENTAGE_FACTOR%5Cn%20%20%20%20%20%20%20%20assembly%20%28%5C%22memory-safe%5C%22%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20y%20%3A%3D%20div%28percentage%2C%202%29%20%2F%2F%20Temporary%20assignment%20to%20save%20gas.%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20iszero%28mul%28percentage%2C%20iszero%28gt%28x%2C%20div%28sub%28MAX_UINT256%2C%20y%29%2C%20PERCENTAGE_FACTOR%29%29%29%29%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20revert%280%2C%200%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20y%20%3A%3D%20div%28add%28mul%28PERCENTAGE_FACTOR%2C%20x%29%2C%20y%29%2C%20percentage%29%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%2C%22contracts%2Ftokens%2FBridgeableToken.sol%22%3A%7B%22content%22%3A%22%2F%2F%20SPDX-License-Identifier%3A%20MIT%5Cnpragma%20solidity%200.8.22%3B%5Cn%5Cnimport%20%7B%20Ownable%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Faccess%2FOwnable.sol%5C%22%3B%5Cnimport%20%7B%20IERC20%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Ftoken%2FERC20%2FIERC20.sol%5C%22%3B%5Cnimport%20%7B%20SafeERC20%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Ftoken%2FERC20%2Futils%2FSafeERC20.sol%5C%22%3B%5Cnimport%20%7B%20ReentrancyGuard%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Futils%2FReentrancyGuard.sol%5C%22%3B%5Cnimport%20%7B%20Pausable%20%7D%20from%20%5C%22%40openzeppelin%2Fcontracts%2Futils%2FPausable.sol%5C%22%3B%5Cn%5Cnimport%20%7B%20Origin%20%7D%20from%20%5C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foapp%2FOApp.sol%5C%22%3B%5Cnimport%20%7B%20SendParam%2C%20MessagingFee%2C%20MessagingReceipt%2C%20OFTReceipt%20%7D%20from%20%5C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foft%2Finterfaces%2FIOFT.sol%5C%22%3B%5Cnimport%20%7B%20OFT%20%7D%20from%20%5C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foft%2FOFT.sol%5C%22%3B%5Cnimport%20%7B%20OFTMsgCodec%20%7D%20from%20%5C%22%40layerzerolabs%2Flz-evm-oapp-v2%2Fcontracts%2Foft%2Flibs%2FOFTMsgCodec.sol%5C%22%3B%5Cn%5Cnimport%20%7B%20IERC20MintableAndBurnable%20%7D%20from%20%5C%22..%2Finterfaces%2FIERC20MintableAndBurnable.sol%5C%22%3B%5Cn%5Cnimport%20%5C%22..%2Flibraries%2FConstantsLib.sol%5C%22%3B%5Cnimport%20%7B%20PercentageMathLib%20%7D%20from%20%5C%22..%2Flibraries%2FPercentageMathLib.sol%5C%22%3B%5Cnimport%20%7B%20EventsLib%20%7D%20from%20%5C%22..%2Flibraries%2FEventsLib.sol%5C%22%3B%5Cnimport%20%7B%20ErrorsLib%20%7D%20from%20%5C%22..%2Flibraries%2FErrorsLib.sol%5C%22%3B%5Cnimport%20%7B%20MathLib%20%7D%20from%20%5C%22..%2Flibraries%2FMathLib.sol%5C%22%3B%5Cn%5Cn%2F%2F%2F%20%40title%20BridgeableToken%5Cn%2F%2F%2F%20%40author%20Cooper%20Labs%5Cn%2F%2F%2F%20%40custom%3Acontact%20security%40cooperlabs.xyz%5Cn%2F%2F%2F%20%40notice%20Contract%20that%20using%20OFT%20to%20bridge%20tokens%20between%20chains.%5Cncontract%20BridgeableToken%20is%20OFT%2C%20ReentrancyGuard%2C%20Pausable%20%7B%5Cn%20%20%20%20using%20SafeERC20%20for%20IERC20%3B%5Cn%20%20%20%20using%20PercentageMathLib%20for%20uint256%3B%5Cn%20%20%20%20using%20OFTMsgCodec%20for%20bytes%3B%5Cn%20%20%20%20using%20OFTMsgCodec%20for%20bytes32%3B%5Cn%5Cn%20%20%20%20struct%20ConfigParams%20%7B%5Cn%20%20%20%20%20%20%20%20uint256%20dailyCreditLimit%3B%5Cn%20%20%20%20%20%20%20%20uint256%20globalCreditLimit%3B%5Cn%20%20%20%20%20%20%20%20uint256%20dailyDebitLimit%3B%5Cn%20%20%20%20%20%20%20%20uint256%20globalDebitLimit%3B%5Cn%20%20%20%20%20%20%20%20uint256%20initialPrincipalTokenAmountMinted%3B%5Cn%20%20%20%20%20%20%20%20int256%20initialCreditDebitBalance%3B%5Cn%20%20%20%20%20%20%20%20address%20feesRecipient%3B%5Cn%20%20%20%20%20%20%20%20uint16%20feesRate%3B%5Cn%20%20%20%20%20%20%20%20bool%20isIsolateMode%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%20%20%20%20%2F%2F%20Storage%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20principalToken%20that%20can%20be%20minted%20and%20burned.%5Cn%20%20%20%20IERC20%20private%20immutable%20principalToken%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Limit%20the%20bridge%20to%20send%20more%20tokens%20than%20it%20had%20received.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20If%20true%2C%20the%20bridge%20can%27t%20send%20more%20tokens%20than%20it%20had%20received%20%28creditDebitBalance%20%3E%200%29.%5Cn%20%20%20%20bool%20private%20isIsolateMode%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20fees%20recipient%20address.%5Cn%20%20%20%20address%20private%20feesRecipient%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20fees%20rate%20in%20basic%20point.%5Cn%20%20%20%20uint16%20private%20feesRate%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Track%20the%20difference%20between%20credits%20and%20debits.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20If%20amount%20%3C%200%2C%20it%20means%20debits%20exceed%20credits.%5Cn%20%20%20%20int256%20private%20creditDebitBalance%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Track%20the%20amount%20of%20principal%20tokens%20minted.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20if%20the%20contract%20doesn%27t%20have%20enough%20PrincipalToken%20locked%20to%20transfer%2C%20we%20will%20mint%20them.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20During%20the%20send%28%29%2C%20if%20principalTokenAmountMinted%20%3E%200%2C%20PrincipalToken%20will%20be%20burned%20instead%20of%20locked.%5Cn%20%20%20%20uint256%20private%20principalTokenAmountMinted%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20daily%20limit%20of%20PrincipalToken%20allowed%20to%20bridge%20TO%20this%20chain.%5Cn%20%20%20%20uint256%20private%20dailyCreditLimit%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20global%20limit%20of%20PrincipalToken%20allowed%20to%20bridge%20TO%20this%20chain.%5Cn%20%20%20%20uint256%20private%20globalCreditLimit%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20daily%20limit%20of%20PrincipalToken%20allowed%20to%20bridge%20FROM%20this%20chain.%5Cn%20%20%20%20uint256%20private%20dailyDebitLimit%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20global%20limit%20of%20PrincipalToken%20allowed%20to%20bridge%20FROM%20this%20chain.%5Cn%20%20%20%20int256%20private%20globalDebitLimit%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Track%20the%20daily%20credit%20amount%20of%20PrincipalToken.%5Cn%20%20%20%20mapping%28uint256%20day%20%3D%3E%20uint256%20amount%29%20private%20dailyCreditAmount%3B%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Track%20the%20daily%20debit%20amount%20of%20PrincipalToken.%5Cn%20%20%20%20mapping%28uint256%20day%20%3D%3E%20uint256%20amount%29%20private%20dailyDebitAmount%3B%5Cn%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%20%20%20%20%2F%2F%20Constructor%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Constructor%20for%20the%20OFT%20contract.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_name%20The%20name%20of%20the%20OFT.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_symbol%20The%20symbol%20of%20the%20OFT.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_principalToken%20The%20principalToken%20address.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_lzEndpoint%20The%20LayerZero%20endpoint%20address.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_delegate%20The%20delegate%20capable%20of%20making%20OApp%20configurations%20inside%20of%20the%20endpoint.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_config%20The%20configuration%20parameters%20for%20the%20OFT.%5Cn%20%20%20%20constructor%28%5Cn%20%20%20%20%20%20%20%20string%20memory%20_name%2C%5Cn%20%20%20%20%20%20%20%20string%20memory%20_symbol%2C%5Cn%20%20%20%20%20%20%20%20address%20_principalToken%2C%5Cn%20%20%20%20%20%20%20%20address%20_lzEndpoint%2C%5Cn%20%20%20%20%20%20%20%20address%20_delegate%2C%5Cn%20%20%20%20%20%20%20%20ConfigParams%20memory%20_config%5Cn%20%20%20%20%29%20Ownable%28_delegate%29%20OFT%28_name%2C%20_symbol%2C%20_lzEndpoint%2C%20_delegate%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_principalToken%20%3D%3D%20address%280%29%29%20revert%20ErrorsLib.AddressZero%28%29%3B%5Cn%20%20%20%20%20%20%20%20principalToken%20%3D%20IERC20%28_principalToken%29%3B%5Cn%20%20%20%20%20%20%20%20_setFeesRate%28_config.feesRate%29%3B%5Cn%20%20%20%20%20%20%20%20_setDailyCreditLimit%28_config.dailyCreditLimit%29%3B%5Cn%20%20%20%20%20%20%20%20_setGlobalCreditLimit%28_config.globalCreditLimit%29%3B%5Cn%20%20%20%20%20%20%20%20_setDailyDebitLimit%28_config.dailyDebitLimit%29%3B%5Cn%20%20%20%20%20%20%20%20_setGlobalDebitLimit%28_config.globalDebitLimit%29%3B%5Cn%20%20%20%20%20%20%20%20_setIsolateMode%28_config.isIsolateMode%29%3B%5Cn%20%20%20%20%20%20%20%20_setFeesRecipient%28_config.feesRecipient%29%3B%5Cn%20%20%20%20%20%20%20%20principalTokenAmountMinted%20%3D%20_config.initialPrincipalTokenAmountMinted%3B%5Cn%20%20%20%20%20%20%20%20creditDebitBalance%20%3D%20_config.initialCreditDebitBalance%3B%5Cn%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.BridgeableTokenCreated%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_config.initialPrincipalTokenAmountMinted%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_config.initialCreditDebitBalance%5Cn%20%20%20%20%20%20%20%20%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%20%20%20%20%2F%2F%20External%20functions%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Executes%20the%20send%20operation.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_sendParam%20The%20parameters%20for%20the%20send%20operation.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_fee%20The%20calculated%20fees%20for%20the%20send%28%29%20operation.%5Cn%20%20%20%20%2F%2F%2F%20%20%20%20%20%20-%20nativeFee%3A%20The%20native%20fees.%5Cn%20%20%20%20%2F%2F%2F%20%20%20%20%20%20-%20lzTokenFee%3A%20The%20lzToken%20fees.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_refundAddress%20The%20address%20to%20receive%20any%20excess%20funds.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20msgReceipt%20The%20receipt%20for%20the%20send%20operation.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20oftReceipt%20The%20OFT%20receipt%20information.%5Cn%20%20%20%20%2F%2F%2F%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20MessagingReceipt%3A%20LayerZero%20msg%20receipt%5Cn%20%20%20%20%2F%2F%2F%20%20-%20guid%3A%20The%20unique%20identifier%20for%20the%20sent%20message.%5Cn%20%20%20%20%2F%2F%2F%20%20-%20nonce%3A%20The%20nonce%20of%20the%20sent%20message.%5Cn%20%20%20%20%2F%2F%2F%20%20-%20fees%3A%20The%20LayerZero%20fees%20incurred%20for%20the%20message.%5Cn%20%20%20%20function%20send%28%5Cn%20%20%20%20%20%20%20%20SendParam%20calldata%20_sendParam%2C%5Cn%20%20%20%20%20%20%20%20MessagingFee%20calldata%20_fee%2C%5Cn%20%20%20%20%20%20%20%20address%20_refundAddress%5Cn%20%20%20%20%29%5Cn%20%20%20%20%20%20%20%20external%5Cn%20%20%20%20%20%20%20%20payable%5Cn%20%20%20%20%20%20%20%20override%5Cn%20%20%20%20%20%20%20%20nonReentrant%5Cn%20%20%20%20%20%20%20%20whenNotPaused%5Cn%20%20%20%20%20%20%20%20returns%20%28MessagingReceipt%20memory%20msgReceipt%2C%20OFTReceipt%20memory%20oftReceipt%29%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_sendParam.composeMsg.length%20%21%3D%2032%29%20revert%20ErrorsLib.InvalidMsgLength%28%29%3B%5Cn%20%20%20%20%20%20%20%20address%20to%20%3D%20_sendParam.to.bytes32ToAddress%28%29%3B%5Cn%20%20%20%20%20%20%20%20if%20%28to%20%3D%3D%20address%280%29%29%20revert%20ErrorsLib.AddressZero%28%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20bool%20isPrincipalTokenSent%20%3D%20abi.decode%28_sendParam.composeMsg%2C%20%28bool%29%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%28uint256%20amountSent%2C%20uint256%20amountReceived%29%20%3D%20_debit%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20isPrincipalTokenSent%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_sendParam.amountLD%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_sendParam.minAmountLD%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_sendParam.dstEid%5Cn%20%20%20%20%20%20%20%20%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Builds%20the%20options%20and%20OFT%20message%20to%20quote%20in%20the%20endpoint.%5Cn%20%20%20%20%20%20%20%20%28bytes%20memory%20message%2C%20bytes%20memory%20options%29%20%3D%20_buildMsgAndOptions%28_sendParam%2C%20amountReceived%29%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Sends%20the%20message%20to%20the%20LayerZero%20endpoint%20and%20returns%20the%20LayerZero%20msg%20receipt.%5Cn%20%20%20%20%20%20%20%20msgReceipt%20%3D%20_lzSend%28_sendParam.dstEid%2C%20message%2C%20options%2C%20_fee%2C%20_refundAddress%29%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Formulate%20the%20OFT%20receipt.%5Cn%20%20%20%20%20%20%20%20oftReceipt%20%3D%20OFTReceipt%28amountSent%2C%20amountReceived%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.BridgeableTokenSent%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20msgReceipt.guid%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_sendParam.dstEid%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20msg.sender%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20to%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_fee.nativeFee%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20isPrincipalTokenSent%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20amountSent%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20amountReceived%5Cn%20%20%20%20%20%20%20%20%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Allow%20user%20to%20swap%20OFT%20token%20to%20principalToken%20if%20the%20amount%20is%20within%20the%20mint%20limit.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20when%20the%20user%20swap%20OFT%20token%20to%20principalToken%2C%20the%20OFT%20token%20will%20be%20burned%20and%20the%20principalToken%20will%20be%5Cn%20%20%20%20%2F%2F%2F%20transferred%20or%20minted%20to%20the%20user.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_to%20The%20address%20to%20credit%20the%20principalToken%20to.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_amount%20The%20amount%20of%20OFT%20token%20to%20swap.%5Cn%20%20%20%20function%20swapLzTokenToPrincipalToken%28address%20_to%2C%20uint256%20_amount%29%20external%20nonReentrant%20whenNotPaused%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_to%20%3D%3D%20address%280%29%29%20revert%20ErrorsLib.AddressZero%28%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20uint256%20totalPrincipalTokenAmountToCredit%20%3D%20_calculatePrincipalTokenAmountToCredit%28_amount%29%3B%5Cn%20%20%20%20%20%20%20%20if%20%28totalPrincipalTokenAmountToCredit%20%3D%3D%200%29%20revert%20ErrorsLib.NothingToSwap%28%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20_burn%28msg.sender%2C%20totalPrincipalTokenAmountToCredit%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20Update%20the%20daily%20usage%20and%20the%20creditDebitBalance.%5Cn%20%20%20%20%20%20%20%20dailyCreditAmount%5B_getCurrentDay%28%29%5D%20%2B%3D%20totalPrincipalTokenAmountToCredit%3B%5Cn%20%20%20%20%20%20%20%20creditDebitBalance%20%2B%3D%20int256%28totalPrincipalTokenAmountToCredit%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20Calculate%20the%20fees%20amount.%5Cn%20%20%20%20%20%20%20%20uint256%20feeAmount%20%3D%20totalPrincipalTokenAmountToCredit.percentMul%28feesRate%29%3B%5Cn%20%20%20%20%20%20%20%20uint256%20principalTokenAmountCredited%20%3D%20totalPrincipalTokenAmountToCredit%20-%20feeAmount%3B%5Cn%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.OFTSwapped%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20msg.sender%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_to%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20totalPrincipalTokenAmountToCredit%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20principalTokenAmountCredited%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20feeAmount%5Cn%20%20%20%20%20%20%20%20%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20if%20the%20fees%20amount%20is%20greater%20than%200%2C%20transfer%2Fmint%20the%20fees%20to%20the%20feesRecipient.%5Cn%20%20%20%20%20%20%20%20if%20%28feeAmount%20%3E%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_creditPrincipalToken%28feesRecipient%2C%20feeAmount%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20Transfer%2Fmint%20the%20principalToken%20to%20the%20user.%5Cn%20%20%20%20%20%20%20%20_creditPrincipalToken%28_to%2C%20principalTokenAmountCredited%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%20%20%20%20%2F%2F%20External%20view%20functions%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20principalToken%20address.%5Cn%20%20%20%20function%20getPrincipalToken%28%29%20external%20view%20returns%20%28address%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20address%28principalToken%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20credit%20daily%20limit%20for%20the%20token.%5Cn%20%20%20%20function%20getDailyCreditLimit%28%29%20external%20view%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20dailyCreditLimit%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20debit%20daily%20limit%20for%20the%20token.%5Cn%20%20%20%20function%20getDailyDebitLimit%28%29%20external%20view%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20dailyDebitLimit%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20global%20credit%20limit%20for%20the%20token.%5Cn%20%20%20%20function%20getGlobalCreditLimit%28%29%20external%20view%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20globalCreditLimit%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20global%20debit%20limit%20for%20the%20token.%5Cn%20%20%20%20function%20getGlobalDebitLimit%28%29%20external%20view%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20uint256%28MathLib.abs%28globalDebitLimit%29%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Whether%20the%20%60isIsolateMode%60%20is%20enabled.%5Cn%20%20%20%20function%20getIsIsolateMode%28%29%20external%20view%20returns%20%28bool%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20isIsolateMode%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Retrieves%20the%20amount%20of%20principalToken%20bridged.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20If%20amount%20%3C%200%2C%20it%20means%20that%20more%20tokens%20were%20credit%20than%20debit.%5Cn%20%20%20%20function%20getCreditDebitBalance%28%29%20external%20view%20returns%20%28int256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20creditDebitBalance%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Retrieves%20the%20amount%20of%20principalToken%20minted.%5Cn%20%20%20%20function%20getPrincipalTokenAmountMinted%28%29%20external%20view%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20principalTokenAmountMinted%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20fees%20recipient%20address.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20The%20recipient%20receives%20the%20principalToken%20fees.%5Cn%20%20%20%20function%20getFeesRecipient%28%29%20external%20view%20returns%20%28address%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20feesRecipient%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20The%20fees%20rate%20in%20basic%20point.%5Cn%20%20%20%20function%20getFeesRate%28%29%20external%20view%20returns%20%28uint16%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20feesRate%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Retrieves%20the%20current%20daily%20credit%20amount%20of%20PrincipalToken.%5Cn%20%20%20%20function%20getCurrentDailyCreditAmount%28%29%20external%20view%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20dailyCreditAmount%5B_getCurrentDay%28%29%5D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Retrieves%20the%20current%20daily%20debit%20amount%20of%20PrincipalToken.%5Cn%20%20%20%20function%20getCurrentDailyDebitAmount%28%29%20external%20view%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20dailyDebitAmount%5B_getCurrentDay%28%29%5D%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Retrieves%20the%20MAX%20amount%20of%20PrincipalToken%20to%20be%20credit%20regarding%20limits.%5Cn%20%20%20%20function%20getMaxCreditableAmount%28%29%20external%20view%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28creditDebitBalance%20%3E%3D%20int256%28globalCreditLimit%29%29%20return%200%3B%5Cn%20%20%20%20%20%20%20%20uint256%20max%20%3D%20uint256%28int256%28globalCreditLimit%29%20-%20creditDebitBalance%29%3B%5Cn%20%20%20%20%20%20%20%20uint256%20currentCreditAmount%20%3D%20dailyCreditAmount%5B_getCurrentDay%28%29%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20%28currentCreditAmount%20%2B%20max%20%3E%20dailyCreditLimit%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20max%20%3D%20dailyCreditLimit%20%3E%20currentCreditAmount%20%3F%20dailyCreditLimit%20-%20currentCreditAmount%20%3A%200%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20return%20max%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Retrieves%20the%20MAX%20amount%20of%20PrincipalToken%20to%20be%20debit%20regarding%20limits.%5Cn%20%20%20%20function%20getMaxDebitableAmount%28%29%20external%20view%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28isIsolateMode%20%26%26%20creditDebitBalance%20%3C%200%29%20return%200%3B%5Cn%20%20%20%20%20%20%20%20if%20%28creditDebitBalance%20%3C%3D%20globalDebitLimit%29%20return%200%3B%5Cn%20%20%20%20%20%20%20%20uint256%20max%20%3D%20MathLib.abs%28globalDebitLimit%20-%20creditDebitBalance%29%3B%5Cn%20%20%20%20%20%20%20%20uint256%20currentDebitAmount%20%3D%20dailyDebitAmount%5B_getCurrentDay%28%29%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20%28currentDebitAmount%20%2B%20max%20%3E%20dailyDebitLimit%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20max%20%3D%20dailyDebitLimit%20%3E%20currentDebitAmount%20%3F%20dailyDebitLimit%20-%20currentDebitAmount%20%3A%200%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20return%20max%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%20%20%20%20%2F%2F%20OnlyOwner%20functions%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Allow%20owner%20to%20rescue%20any%20locked%20tokens%20in%20the%20contract%20in%20case%20of%20an%20emergency.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_token%20The%20token%20address%20to%20withdraw%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_amount%20The%20amount%20of%20tokens%20to%20withdraw.%5Cn%20%20%20%20function%20emergencyRescue%28address%20_token%2C%20uint256%20_amount%29%20external%20onlyOwner%20whenPaused%20%7B%5Cn%20%20%20%20%20%20%20%20IERC20%28_token%29.safeTransfer%28msg.sender%2C%20_amount%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Toggle%20%60isIsolateMode%60%20to%20enable%2Fdisable%20the%20isolation%20mode.%5Cn%20%20%20%20function%20toggleIsolateMode%28%29%20external%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_setIsolateMode%28%21isIsolateMode%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_newFeesRate%60%20as%20%60feesRate%60%20of%20the%20fees%20applied%20on%20principalToken%20credit.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20The%20fees%20rate%20in%20basic%20point%20with%20a%20maximum%20of%2010%25%20%2810_00%20in%20bp%29%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_newFeesRate%20The%20new%20fees%20rate%20in%20basic%20point.%5Cn%20%20%20%20function%20setFeesRate%28uint16%20_newFeesRate%29%20external%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_setFeesRate%28_newFeesRate%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_dailyCreditLimit%60%20as%20%60dailyCreditLimit%60%20of%20daily%20amount%20of%20principalToken%20to%20be%20credit.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_dailyCreditLimit%20The%20daily%20limit%20of%20principalToken%20to%20be%20credit.%5Cn%20%20%20%20function%20setDailyCreditLimit%28uint256%20_dailyCreditLimit%29%20external%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_setDailyCreditLimit%28_dailyCreditLimit%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_globalCreditLimit%60%20as%20%60globalCreditLimit%60%20of%20max%20amount%20of%20principalToken%20to%20be%20credit.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_globalCreditLimit%20The%20max%20limit%20of%20principalToken%20to%20be%20credit.%5Cn%20%20%20%20function%20setGlobalCreditLimit%28uint256%20_globalCreditLimit%29%20external%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_setGlobalCreditLimit%28_globalCreditLimit%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_dailyDebitLimit%60%20as%20%60dailyDebitLimit%60%20of%20daily%20amount%20of%20principalToken%20to%20be%20debit.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_dailyDebitLimit%20The%20daily%20limit%20of%20principalToken%20to%20be%20debit.%5Cn%20%20%20%20function%20setDailyDebitLimit%28uint256%20_dailyDebitLimit%29%20external%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_setDailyDebitLimit%28_dailyDebitLimit%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_globalDebitLimit%60%20as%20%60globalDebitLimit%60%20of%20max%20amount%20of%20principalToken%20to%20be%20debit.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_globalDebitLimit%20The%20max%20limit%20of%20principalToken%20to%20be%20debit.%5Cn%20%20%20%20function%20setGlobalDebitLimit%28uint256%20_globalDebitLimit%29%20external%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_setGlobalDebitLimit%28_globalDebitLimit%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_newFeesRecipient%60%20as%20%60feesRecipient%60%20of%20the%20fees.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_newFeesRecipient%20The%20new%20fees%20recipient%20address.%5Cn%20%20%20%20function%20setFeesRecipient%28address%20_newFeesRecipient%29%20external%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_setFeesRecipient%28_newFeesRecipient%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Allow%20owner%20to%20pause%20the%20contract%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20This%20function%20can%20only%20be%20called%20by%20the%20owner%5Cn%20%20%20%20function%20pause%28%29%20external%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_pause%28%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Allow%20owner%20to%20unpause%20the%20contract%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20This%20function%20can%20only%20be%20called%20by%20the%20owner%5Cn%20%20%20%20function%20unpause%28%29%20external%20onlyOwner%20%7B%5Cn%20%20%20%20%20%20%20%20_unpause%28%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%20%20%20%20%2F%2F%20Internal%20functions%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20Internal%20function%20to%20handle%20the%20receive%20on%20the%20LayerZero%20endpoint.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_origin%20The%20origin%20information.%5Cn%20%20%20%20%2F%2F%2F%20%20-%20srcEid%3A%20The%20source%20chain%20endpoint%20ID.%5Cn%20%20%20%20%2F%2F%2F%20%20-%20sender%3A%20The%20sender%20address%20from%20the%20src%20chain.%5Cn%20%20%20%20%2F%2F%2F%20%20-%20nonce%3A%20The%20nonce%20of%20the%20LayerZero%20message.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_guid%20The%20unique%20identifier%20for%20the%20received%20LayerZero%20message.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_message%20The%20encoded%20message.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20_executor%20The%20address%20of%20the%20executor.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20_extraData%20Additional%20data.%5Cn%20%20%20%20function%20_lzReceive%28%5Cn%20%20%20%20%20%20%20%20Origin%20calldata%20_origin%2C%5Cn%20%20%20%20%20%20%20%20bytes32%20_guid%2C%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20_message%2C%5Cn%20%20%20%20%20%20%20%20address%20%2F%2A_executor%2A%2F%2C%20%2F%2F%20%40dev%20unused%20in%20the%20default%20implementation.%5Cn%20%20%20%20%20%20%20%20bytes%20calldata%20%2F%2A_extraData%2A%2F%20%2F%2F%20%40dev%20unused%20in%20the%20default%20implementation.%5Cn%20%20%20%20%29%20internal%20virtual%20override%20nonReentrant%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20The%20src%20sending%20chain%20doesnt%20know%20the%20address%20length%20on%20this%20chain%20%28potentially%20non-evm%29%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Thus%20everything%20is%20bytes32%28%29%20encoded%20in%20flight.%5Cn%20%20%20%20%20%20%20%20address%20to%20%3D%20_message.sendTo%28%29.bytes32ToAddress%28%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20Extract%20from%20message%20if%20the%20tokens%20burned%20from%20the%20original%20chain%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20was%20the%20principalToken%20or%20the%20OFT%20token.%20If%20true%2C%20fees%20could%20be%20applied.%5Cn%20%20%20%20%20%20%20%20%28%2C%20bool%20feeApplicable%29%20%3D%20abi.decode%28_message.composeMsg%28%29%2C%20%28bytes32%2C%20bool%29%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%40dev%20Credit%20the%20amount%20to%20the%20recipient%20and%20return%20the%20ACTUAL%20amount%20the%20recipient%20received%20in%20local%5Cn%20%20%20%20%20%20%20%20%2F%2F%20decimals%5Cn%20%20%20%20%20%20%20%20%28uint256%20amountReceived%2C%20uint256%20oftReceived%2C%20uint256%20feesAmount%29%20%3D%20_credit%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20to%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_toLD%28_message.amountSD%28%29%29%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_origin.srcEid%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20feeApplicable%5Cn%20%20%20%20%20%20%20%20%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.BridgeableTokenReceived%28%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_guid%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_origin.srcEid%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_origin.sender.bytes32ToAddress%28%29%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20to%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20amountReceived%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20oftReceived%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20feesAmount%5Cn%20%20%20%20%20%20%20%20%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%20%20%20%20%2F%2F%20Private%20functions%5Cn%20%20%20%20%2F%2F-------------------------------------------%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20Burns%20tokens%20from%20the%20sender%27s%20specified%20balance.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_isPrincipalTokenToSend%20the%20flag%20to%20send%20the%20principalToken%20or%20the%20OFT%20token%20from%20the%20caller.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_amountLD%20The%20amount%20of%20tokens%20to%20send%20in%20local%20decimals.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_minAmountLD%20The%20minimum%20amount%20to%20send%20in%20local%20decimals.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_dstEid%20The%20destination%20chain%20ID.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20amountSentLD%20The%20amount%20sent%20in%20local%20decimals.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20amountReceivedLD%20The%20amount%20received%20on%20the%20remote%20in%20local%20decimals.%5Cn%20%20%20%20function%20_debit%28%5Cn%20%20%20%20%20%20%20%20bool%20_isPrincipalTokenToSend%2C%5Cn%20%20%20%20%20%20%20%20uint256%20_amountLD%2C%5Cn%20%20%20%20%20%20%20%20uint256%20_minAmountLD%2C%5Cn%20%20%20%20%20%20%20%20uint32%20_dstEid%5Cn%20%20%20%20%29%20private%20returns%20%28uint256%20amountSentLD%2C%20uint256%20amountReceivedLD%29%20%7B%5Cn%20%20%20%20%20%20%20%20%28amountSentLD%2C%20amountReceivedLD%29%20%3D%20_debitView%28_amountLD%2C%20_minAmountLD%2C%20_dstEid%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20%28_isPrincipalTokenToSend%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20Assert%20that%20the%20amount%20to%20send%20DO%20NOT%20exceed%20the%20daily%20limit.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20uint256%20day%20%3D%20_getCurrentDay%28%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28dailyDebitAmount%5Bday%5D%20%2B%20amountSentLD%20%3E%20dailyDebitLimit%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20revert%20ErrorsLib.DailyDebitLimitReached%28%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20Update%20the%20daily%20usage%20and%20the%20creditDebitBalance.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20dailyDebitAmount%5Bday%5D%20%2B%3D%20amountSentLD%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20creditDebitBalance%20-%3D%20int256%28amountSentLD%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isIsolateMode%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20Assert%20that%20the%20final%20creditDebitBalance%20is%20greater%20than%200.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28creditDebitBalance%20%3C%200%29%20revert%20ErrorsLib.IsolateModeLimitReach%28%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20Assert%20that%20the%20final%20creditDebitBalance%20is%20greater%20than%20the%20globalDebitLimit.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28creditDebitBalance%20%3C%20globalDebitLimit%29%20revert%20ErrorsLib.GlobalDebitLimitReached%28%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20uint256%20amountToBurn%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20uint256%20amountToLock%20%3D%20amountSentLD%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20If%20the%20principalTokenAmountMinted%20is%20greater%20than%200%2C%20burn%20until%20principalTokenAmountMinted%20is%200.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28principalTokenAmountMinted%20%3E%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20amountToBurn%20%3D%20MathLib.min%28amountSentLD%2C%20principalTokenAmountMinted%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20amountToLock%20-%3D%20amountToBurn%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20Update%20the%20principalTokenAmountMinted.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20principalTokenAmountMinted%20-%3D%20amountToBurn%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20Burn%20the%20amount%20of%20principalToken.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20IERC20MintableAndBurnable%28address%28principalToken%29%29.burn%28msg.sender%2C%20amountToBurn%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2F%20%40dev%20If%20the%20amountToLock%20is%20greater%20than%200%2C%20lock%20the%20amount%20of%20principalToken.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28amountToLock%20%3E%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20principalToken.safeTransferFrom%28msg.sender%2C%20address%28this%29%2C%20amountToLock%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20emit%20EventsLib.PrincipalTokenDebited%28msg.sender%2C%20amountSentLD%2C%20amountToBurn%2C%20amountToLock%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_burn%28msg.sender%2C%20amountSentLD%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Credits%20tokens%20to%20the%20specified%20address.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_to%20The%20address%20to%20credit%20the%20tokens%20to.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_amountLD%20The%20amount%20of%20tokens%20to%20credit%20in%20local%20decimals.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20_srcEid%20The%20source%20chain%20ID.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_isFeeApplicable%20The%20flag%20to%20apply%20fees%20or%20not.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20amountReceived%20The%20amount%20of%20tokens%20ACTUALLY%20received%20in%20local%20decimals.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20oftReceived%20The%20amount%20of%20OFT%20tokens%20received%20in%20local%20decimals.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20feeAmount%20The%20amount%20of%20fees%20token%20minted%20in%20local%20decimals.%5Cn%20%20%20%20function%20_credit%28%5Cn%20%20%20%20%20%20%20%20address%20_to%2C%5Cn%20%20%20%20%20%20%20%20uint256%20_amountLD%2C%5Cn%20%20%20%20%20%20%20%20uint32%2C%20%2F%2F_srcEid%2C%5Cn%20%20%20%20%20%20%20%20bool%20_isFeeApplicable%5Cn%20%20%20%20%29%20private%20returns%20%28uint256%20amountReceived%2C%20uint256%20oftReceived%2C%20uint256%20feeAmount%29%20%7B%5Cn%20%20%20%20%20%20%20%20%28amountReceived%2C%20feeAmount%29%20%3D%20_handleCreditPrincipalToken%28_to%2C%20_amountLD%2C%20_isFeeApplicable%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20oftReceived%20%3D%20_amountLD%20-%20amountReceived%20-%20feeAmount%3B%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%20If%20OftReceived%20%3E%200%20we%20must%20be%20credit%20to%20the%20user%20OFT%20tokens%20to%20match%20the%20total%20amount%20he%20must%20be%20credited.%5Cn%20%20%20%20%20%20%20%20if%20%28oftReceived%20%3E%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_mint%28_to%2C%20oftReceived%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Calculates%20and%20credit%20principal%20tokens%20to%20%60_to%60%20address%20and%20the%20%60feesRecipient%60.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_to%20The%20address%20to%20credit%20the%20tokens%20to.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_amountLD%20The%20amount%20of%20token%20expected%20to%20be%20credited%20in%20local%20decimals.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20amountReceived%20The%20amount%20of%20principal%20token%20received%20in%20local%20decimals.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20feeAmount%20The%20amount%20of%20fees%20token%20minted%20in%20local%20decimals.%5Cn%20%20%20%20function%20_handleCreditPrincipalToken%28%5Cn%20%20%20%20%20%20%20%20address%20_to%2C%5Cn%20%20%20%20%20%20%20%20uint256%20_amountLD%2C%5Cn%20%20%20%20%20%20%20%20bool%20_isFeeApplicable%5Cn%20%20%20%20%29%20private%20returns%20%28uint256%20amountReceived%2C%20uint256%20feeAmount%29%20%7B%5Cn%20%20%20%20%20%20%20%20amountReceived%20%3D%20_calculatePrincipalTokenAmountToCredit%28_amountLD%29%3B%5Cn%5Cn%20%20%20%20%20%20%20%20if%20%28amountReceived%20%3E%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20dailyCreditAmount%5B_getCurrentDay%28%29%5D%20%2B%3D%20amountReceived%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20creditDebitBalance%20%2B%3D%20int256%28amountReceived%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20%28_isFeeApplicable%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28feesRate%20%3E%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feeAmount%20%3D%20amountReceived.percentMul%28feesRate%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20amountReceived%20-%3D%20feeAmount%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_creditPrincipalToken%28feesRecipient%2C%20feeAmount%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_creditPrincipalToken%28_to%2C%20amountReceived%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Credits%20principal%20tokens%20to%20%60_to%60%20address.%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20In%20prioritary%2C%20the%20contract%20will%20transfer%27s%20principalToken%20from%20its%20balance%20to%20the%20%60_to%60%20address.%5Cn%20%20%20%20%2F%2F%2F%20If%20the%20contract%20doesn%27t%20have%20enough%20balance%2C%20it%20will%20mint%20the%20required%20amount%20to%20the%20%60_to%60%20address.%5Cn%20%20%20%20%2F%2F%2F%20and%20update%20the%20principalTokenAmountMinted.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_to%20The%20address%20to%20credit%20the%20tokens%20to.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_amount%20The%20amount%20of%20tokens%20to%20credit.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20amountSent%20The%20amount%20of%20principal%20token%20sent.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20amountMinted%20The%20amount%20of%20principal%20token%20minted.%5Cn%20%20%20%20function%20_creditPrincipalToken%28%5Cn%20%20%20%20%20%20%20%20address%20_to%2C%5Cn%20%20%20%20%20%20%20%20uint256%20_amount%5Cn%20%20%20%20%29%20private%20returns%20%28uint256%20amountSent%2C%20uint256%20amountMinted%29%20%7B%5Cn%20%20%20%20%20%20%20%20uint256%20contractBalance%20%3D%20principalToken.balanceOf%28address%28this%29%29%3B%5Cn%20%20%20%20%20%20%20%20amountSent%20%3D%20%28contractBalance%20%3E%20_amount%29%20%3F%20_amount%20%3A%20contractBalance%3B%5Cn%20%20%20%20%20%20%20%20amountMinted%20%3D%20_amount%20-%20amountSent%3B%5Cn%20%20%20%20%20%20%20%20if%20%28amountMinted%20%3E%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20principalTokenAmountMinted%20%2B%3D%20amountMinted%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20IERC20MintableAndBurnable%28address%28principalToken%29%29.mint%28_to%2C%20amountMinted%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20if%20%28amountSent%20%3E%200%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20principalToken.safeTransfer%28_to%2C%20amountSent%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.PrincipalTokenCredited%28_to%2C%20_amount%2C%20amountSent%2C%20amountMinted%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Calculates%20the%20amount%20of%20principalToken%20that%20can%20be%20credit%20regarding%20the%20limits.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_amount%20The%20amount%20of%20token%20expected%20to%20be%20credit.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20principalTokenAmountToCredit%20The%20total%20amount%20of%20principalToken%20to%20credit.%5Cn%20%20%20%20function%20_calculatePrincipalTokenAmountToCredit%28%5Cn%20%20%20%20%20%20%20%20uint256%20_amount%5Cn%20%20%20%20%29%20private%20view%20returns%20%28uint256%20principalTokenAmountToCredit%29%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28creditDebitBalance%20%3E%3D%20int256%28globalCreditLimit%29%29%20return%200%3B%5Cn%20%20%20%20%20%20%20%20principalTokenAmountToCredit%20%3D%20int256%28_amount%29%20%2B%20creditDebitBalance%20%3E%20int256%28globalCreditLimit%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3F%20uint256%28int256%28globalCreditLimit%29%20-%20creditDebitBalance%29%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3A%20_amount%3B%5Cn%20%20%20%20%20%20%20%20uint256%20dailyUsage%20%3D%20dailyCreditAmount%5B_getCurrentDay%28%29%5D%3B%5Cn%20%20%20%20%20%20%20%20if%20%28dailyUsage%20%2B%20principalTokenAmountToCredit%20%3E%20dailyCreditLimit%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20principalTokenAmountToCredit%20%3D%20dailyCreditLimit%20%3E%20dailyUsage%20%3F%20dailyCreditLimit%20-%20dailyUsage%20%3A%200%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Retrieves%20the%20current%20day.%5Cn%20%20%20%20%2F%2F%2F%20%40return%20The%20current%20day.%5Cn%20%20%20%20function%20_getCurrentDay%28%29%20private%20view%20returns%20%28uint256%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20block.timestamp%20%2F%20DAY_IN_SECONDS%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20the%20%60isIsolateMode%60%20flag.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_isIsolateMode%20The%20new%20value%20for%20the%20%60isIsolateMode%60%20flag.%5Cn%20%20%20%20function%20_setIsolateMode%28bool%20_isIsolateMode%29%20private%20%7B%5Cn%20%20%20%20%20%20%20%20isIsolateMode%20%3D%20_isIsolateMode%3B%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.IsolateModeToggled%28_isIsolateMode%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_newDailyCreditLimit%60%20as%20%60dailyCreditLimit%60%20of%20daily%20amount%20of%20principalToken%20that%20can%20be%5Cn%20%20%20%20%2F%2F%2F%20credit.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_newDailyCreditLimit%20The%20daily%20limit%20of%20principalToken%20that%20can%20be%20credit.%5Cn%20%20%20%20function%20_setDailyCreditLimit%28uint256%20_newDailyCreditLimit%29%20private%20%7B%5Cn%20%20%20%20%20%20%20%20dailyCreditLimit%20%3D%20_newDailyCreditLimit%3B%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.DailyCreditLimitSet%28_newDailyCreditLimit%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_newGlobalCreditLimit%60%20as%20%60globalCreditLimit%60%20of%20max%20amount%20of%20principalToken%20that%20can%20be%5Cn%20%20%20%20%2F%2F%2F%20credit.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_newGlobalCreditLimit%20The%20max%20limit%20of%20principalToken%20that%20can%20be%20credit.%5Cn%20%20%20%20function%20_setGlobalCreditLimit%28uint256%20_newGlobalCreditLimit%29%20private%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_newGlobalCreditLimit%20%3E%20MAX_GLOBAL_LIMIT%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20ErrorsLib.GlobalLimitOverFlow%28%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20globalCreditLimit%20%3D%20_newGlobalCreditLimit%3B%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.GlobalCreditLimitSet%28_newGlobalCreditLimit%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_newDailyDebitLimit%60%20as%20%60dailyDebitLimit%60%20of%20daily%20amount%20of%20principalToken%20that%20can%20be%5Cn%20%20%20%20%2F%2F%2F%20debit.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_newDailyDebitLimit%20The%20daily%20limit%20of%20principalToken%20that%20can%20be%20debit.%5Cn%20%20%20%20function%20_setDailyDebitLimit%28uint256%20_newDailyDebitLimit%29%20private%20%7B%5Cn%20%20%20%20%20%20%20%20dailyDebitLimit%20%3D%20_newDailyDebitLimit%3B%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.DailyDebitLimitSet%28_newDailyDebitLimit%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_newGlobalDebitLimit%60%20as%20%60globalDebitLimit%60%20of%20max%20amount%20of%20principalToken%20that%20can%20be%5Cn%20%20%20%20%2F%2F%2F%20debit.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_newGlobalDebitLimit%20The%20max%20limit%20of%20principalToken%20that%20can%20be%20debit.%5Cn%20%20%20%20function%20_setGlobalDebitLimit%28uint256%20_newGlobalDebitLimit%29%20private%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_newGlobalDebitLimit%20%3E%20MAX_GLOBAL_LIMIT%29%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20revert%20ErrorsLib.GlobalLimitOverFlow%28%29%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20globalDebitLimit%20%3D%20MathLib.neg%28_newGlobalDebitLimit%29%3B%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.GlobalDebitLimitSet%28_newGlobalDebitLimit%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40notice%20Sets%20%60_newFeesRate%60%20as%20%60feesRate%60%20of%20the%20fees%20applied%20on%20principalToken%20to%20be%20credit.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_newFeesRate%20The%20new%20fees%20rate%20in%20basic%20point.%5Cn%20%20%20%20function%20_setFeesRate%28uint16%20_newFeesRate%29%20private%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_newFeesRate%20%3E%20MAX_FEE%29%20revert%20ErrorsLib.MaxFeesRateExceeded%28%29%3B%5Cn%20%20%20%20%20%20%20%20feesRate%20%3D%20_newFeesRate%3B%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.FeesRateSet%28_newFeesRate%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%2F%20%40dev%20Sets%20%60_newFeesRecipient%60%20as%20%60feesRecipient%60%20of%20the%20fees.%5Cn%20%20%20%20%2F%2F%2F%20%40param%20_newFeesRecipient%20The%20new%20fees%20recipient%20address.%5Cn%20%20%20%20function%20_setFeesRecipient%28address%20_newFeesRecipient%29%20private%20%7B%5Cn%20%20%20%20%20%20%20%20if%20%28_newFeesRecipient%20%3D%3D%20address%280%29%29%20revert%20ErrorsLib.AddressZero%28%29%3B%5Cn%20%20%20%20%20%20%20%20feesRecipient%20%3D%20_newFeesRecipient%3B%5Cn%20%20%20%20%20%20%20%20emit%20EventsLib.FeesRecipientSet%28_newFeesRecipient%29%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%22%7D%7D%7D&codeformat=solidity-standard-json-input&contractname=contracts%2Ftokens%2FBridgeableToken.sol%3ABridgeableToken&compilerversion=v0.8.22%2Bcommit.4fc1097e&constructorArguements=00000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000013082681e8ce9bd0af505912d306403592490fc70000000000000000000000001a44076050125825900e736c501f859c50fe728c0000000000000000000000003676b6ed4ae0c9ce3e0034510719fdf5fd585d5500000000000000000000000000000000000000000000003635c9adc5dea0000000000000000000000000000000000000000000000000010f0cf064dd5920000000000000000000000000000000000000000000000000003635c9adc5dea0000000000000000000000000000000000000000000000000010f0cf064dd5920000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000174162ddece9d0b7b68fd945e38c3372c4c818ba0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000066c7a2d504152000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000066c7a2d5041520000000000000000000000000000000000000000000000000000&licenseType=3